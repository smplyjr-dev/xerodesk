/*! For license information please see main.js.LICENSE.txt */
!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n(n.s=39)}([function(t,e,n){t.exports=n(42)},function(t,e,n){"use strict";function r(t,e,n,r,o,i,s,a){var c,u="function"==typeof t?t.options:t;if(e&&(u.render=e,u.staticRenderFns=n,u._compiled=!0),r&&(u.functional=!0),i&&(u._scopeId="data-v-"+i),s?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),o&&o.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},u._ssrRegister=c):o&&(c=a?function(){o.call(this,(u.functional?this.parent:this).$root.$options.shadowRoot)}:o),c)if(u.functional){u._injectStyles=c;var l=u.render;u.render=function(t,e){return c.call(e),l(t,e)}}else{var p=u.beforeCreate;u.beforeCreate=p?[].concat(p,c):[c]}return{exports:t,options:u}}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return w})),n.d(e,"b",(function(){return b}));var r=("undefined"!=typeof window?window:void 0!==t?t:{}).__VUE_DEVTOOLS_GLOBAL_HOOK__;function o(t,e){Object.keys(t).forEach((function(n){return e(t[n],n)}))}function i(t){return null!==t&&"object"==typeof t}var s=function(t,e){this.runtime=e,this._children=Object.create(null),this._rawModule=t;var n=t.state;this.state=("function"==typeof n?n():n)||{}},a={namespaced:{configurable:!0}};a.namespaced.get=function(){return!!this._rawModule.namespaced},s.prototype.addChild=function(t,e){this._children[t]=e},s.prototype.removeChild=function(t){delete this._children[t]},s.prototype.getChild=function(t){return this._children[t]},s.prototype.hasChild=function(t){return t in this._children},s.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)},s.prototype.forEachChild=function(t){o(this._children,t)},s.prototype.forEachGetter=function(t){this._rawModule.getters&&o(this._rawModule.getters,t)},s.prototype.forEachAction=function(t){this._rawModule.actions&&o(this._rawModule.actions,t)},s.prototype.forEachMutation=function(t){this._rawModule.mutations&&o(this._rawModule.mutations,t)},Object.defineProperties(s.prototype,a);var c=function(t){this.register([],t,!1)};c.prototype.get=function(t){return t.reduce((function(t,e){return t.getChild(e)}),this.root)},c.prototype.getNamespace=function(t){var e=this.root;return t.reduce((function(t,n){return t+((e=e.getChild(n)).namespaced?n+"/":"")}),"")},c.prototype.update=function(t){!function t(e,n,r){0;if(n.update(r),r.modules)for(var o in r.modules){if(!n.getChild(o))return void 0;t(e.concat(o),n.getChild(o),r.modules[o])}}([],this.root,t)},c.prototype.register=function(t,e,n){var r=this;void 0===n&&(n=!0);var i=new s(e,n);0===t.length?this.root=i:this.get(t.slice(0,-1)).addChild(t[t.length-1],i);e.modules&&o(e.modules,(function(e,o){r.register(t.concat(o),e,n)}))},c.prototype.unregister=function(t){var e=this.get(t.slice(0,-1)),n=t[t.length-1],r=e.getChild(n);r&&r.runtime&&e.removeChild(n)},c.prototype.isRegistered=function(t){var e=this.get(t.slice(0,-1)),n=t[t.length-1];return!!e&&e.hasChild(n)};var u;var l=function(t){var e=this;void 0===t&&(t={}),!u&&"undefined"!=typeof window&&window.Vue&&y(window.Vue);var n=t.plugins;void 0===n&&(n=[]);var o=t.strict;void 0===o&&(o=!1),this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new c(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._watcherVM=new u,this._makeLocalGettersCache=Object.create(null);var i=this,s=this.dispatch,a=this.commit;this.dispatch=function(t,e){return s.call(i,t,e)},this.commit=function(t,e,n){return a.call(i,t,e,n)},this.strict=o;var l=this._modules.root.state;m(this,l,[],this._modules.root),h(this,l),n.forEach((function(t){return t(e)})),(void 0!==t.devtools?t.devtools:u.config.devtools)&&function(t){r&&(t._devtoolHook=r,r.emit("vuex:init",t),r.on("vuex:travel-to-state",(function(e){t.replaceState(e)})),t.subscribe((function(t,e){r.emit("vuex:mutation",t,e)}),{prepend:!0}),t.subscribeAction((function(t,e){r.emit("vuex:action",t,e)}),{prepend:!0}))}(this)},p={state:{configurable:!0}};function f(t,e,n){return e.indexOf(t)<0&&(n&&n.prepend?e.unshift(t):e.push(t)),function(){var n=e.indexOf(t);n>-1&&e.splice(n,1)}}function d(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var n=t.state;m(t,n,[],t._modules.root,!0),h(t,n,e)}function h(t,e,n){var r=t._vm;t.getters={},t._makeLocalGettersCache=Object.create(null);var i=t._wrappedGetters,s={};o(i,(function(e,n){s[n]=function(t,e){return function(){return t(e)}}(e,t),Object.defineProperty(t.getters,n,{get:function(){return t._vm[n]},enumerable:!0})}));var a=u.config.silent;u.config.silent=!0,t._vm=new u({data:{$$state:e},computed:s}),u.config.silent=a,t.strict&&function(t){t._vm.$watch((function(){return this._data.$$state}),(function(){0}),{deep:!0,sync:!0})}(t),r&&(n&&t._withCommit((function(){r._data.$$state=null})),u.nextTick((function(){return r.$destroy()})))}function m(t,e,n,r,o){var i=!n.length,s=t._modules.getNamespace(n);if(r.namespaced&&(t._modulesNamespaceMap[s],t._modulesNamespaceMap[s]=r),!i&&!o){var a=v(e,n.slice(0,-1)),c=n[n.length-1];t._withCommit((function(){u.set(a,c,r.state)}))}var l=r.context=function(t,e,n){var r=""===e,o={dispatch:r?t.dispatch:function(n,r,o){var i=g(n,r,o),s=i.payload,a=i.options,c=i.type;return a&&a.root||(c=e+c),t.dispatch(c,s)},commit:r?t.commit:function(n,r,o){var i=g(n,r,o),s=i.payload,a=i.options,c=i.type;a&&a.root||(c=e+c),t.commit(c,s,a)}};return Object.defineProperties(o,{getters:{get:r?function(){return t.getters}:function(){return function(t,e){if(!t._makeLocalGettersCache[e]){var n={},r=e.length;Object.keys(t.getters).forEach((function(o){if(o.slice(0,r)===e){var i=o.slice(r);Object.defineProperty(n,i,{get:function(){return t.getters[o]},enumerable:!0})}})),t._makeLocalGettersCache[e]=n}return t._makeLocalGettersCache[e]}(t,e)}},state:{get:function(){return v(t.state,n)}}}),o}(t,s,n);r.forEachMutation((function(e,n){!function(t,e,n,r){(t._mutations[e]||(t._mutations[e]=[])).push((function(e){n.call(t,r.state,e)}))}(t,s+n,e,l)})),r.forEachAction((function(e,n){var r=e.root?n:s+n,o=e.handler||e;!function(t,e,n,r){(t._actions[e]||(t._actions[e]=[])).push((function(e){var o,i=n.call(t,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:t.getters,rootState:t.state},e);return(o=i)&&"function"==typeof o.then||(i=Promise.resolve(i)),t._devtoolHook?i.catch((function(e){throw t._devtoolHook.emit("vuex:error",e),e})):i}))}(t,r,o,l)})),r.forEachGetter((function(e,n){!function(t,e,n,r){if(t._wrappedGetters[e])return void 0;t._wrappedGetters[e]=function(t){return n(r.state,r.getters,t.state,t.getters)}}(t,s+n,e,l)})),r.forEachChild((function(r,i){m(t,e,n.concat(i),r,o)}))}function v(t,e){return e.reduce((function(t,e){return t[e]}),t)}function g(t,e,n){return i(t)&&t.type&&(n=e,e=t,t=t.type),{type:t,payload:e,options:n}}function y(t){u&&t===u||function(t){if(Number(t.version.split(".")[0])>=2)t.mixin({beforeCreate:n});else{var e=t.prototype._init;t.prototype._init=function(t){void 0===t&&(t={}),t.init=t.init?[n].concat(t.init):n,e.call(this,t)}}function n(){var t=this.$options;t.store?this.$store="function"==typeof t.store?t.store():t.store:t.parent&&t.parent.$store&&(this.$store=t.parent.$store)}}(u=t)}p.state.get=function(){return this._vm._data.$$state},p.state.set=function(t){0},l.prototype.commit=function(t,e,n){var r=this,o=g(t,e,n),i=o.type,s=o.payload,a=(o.options,{type:i,payload:s}),c=this._mutations[i];c&&(this._withCommit((function(){c.forEach((function(t){t(s)}))})),this._subscribers.slice().forEach((function(t){return t(a,r.state)})))},l.prototype.dispatch=function(t,e){var n=this,r=g(t,e),o=r.type,i=r.payload,s={type:o,payload:i},a=this._actions[o];if(a){try{this._actionSubscribers.slice().filter((function(t){return t.before})).forEach((function(t){return t.before(s,n.state)}))}catch(t){0}var c=a.length>1?Promise.all(a.map((function(t){return t(i)}))):a[0](i);return new Promise((function(t,e){c.then((function(e){try{n._actionSubscribers.filter((function(t){return t.after})).forEach((function(t){return t.after(s,n.state)}))}catch(t){0}t(e)}),(function(t){try{n._actionSubscribers.filter((function(t){return t.error})).forEach((function(e){return e.error(s,n.state,t)}))}catch(t){0}e(t)}))}))}},l.prototype.subscribe=function(t,e){return f(t,this._subscribers,e)},l.prototype.subscribeAction=function(t,e){return f("function"==typeof t?{before:t}:t,this._actionSubscribers,e)},l.prototype.watch=function(t,e,n){var r=this;return this._watcherVM.$watch((function(){return t(r.state,r.getters)}),e,n)},l.prototype.replaceState=function(t){var e=this;this._withCommit((function(){e._vm._data.$$state=t}))},l.prototype.registerModule=function(t,e,n){void 0===n&&(n={}),"string"==typeof t&&(t=[t]),this._modules.register(t,e),m(this,this.state,t,this._modules.get(t),n.preserveState),h(this,this.state)},l.prototype.unregisterModule=function(t){var e=this;"string"==typeof t&&(t=[t]),this._modules.unregister(t),this._withCommit((function(){var n=v(e.state,t.slice(0,-1));u.delete(n,t[t.length-1])})),d(this)},l.prototype.hasModule=function(t){return"string"==typeof t&&(t=[t]),this._modules.isRegistered(t)},l.prototype.hotUpdate=function(t){this._modules.update(t),d(this,!0)},l.prototype._withCommit=function(t){var e=this._committing;this._committing=!0,t(),this._committing=e},Object.defineProperties(l.prototype,p);var b=_((function(t,e){var n={};return x(e).forEach((function(e){var r=e.key,o=e.val;n[r]=function(){var e=this.$store.state,n=this.$store.getters;if(t){var r=O(this.$store,"mapState",t);if(!r)return;e=r.context.state,n=r.context.getters}return"function"==typeof o?o.call(this,e,n):e[o]},n[r].vuex=!0})),n})),w=(_((function(t,e){var n={};return x(e).forEach((function(e){var r=e.key,o=e.val;n[r]=function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];var r=this.$store.commit;if(t){var i=O(this.$store,"mapMutations",t);if(!i)return;r=i.context.commit}return"function"==typeof o?o.apply(this,[r].concat(e)):r.apply(this.$store,[o].concat(e))}})),n})),_((function(t,e){var n={};return x(e).forEach((function(e){var r=e.key,o=e.val;o=t+o,n[r]=function(){if(!t||O(this.$store,"mapGetters",t))return this.$store.getters[o]},n[r].vuex=!0})),n})));_((function(t,e){var n={};return x(e).forEach((function(e){var r=e.key,o=e.val;n[r]=function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];var r=this.$store.dispatch;if(t){var i=O(this.$store,"mapActions",t);if(!i)return;r=i.context.dispatch}return"function"==typeof o?o.apply(this,[r].concat(e)):r.apply(this.$store,[o].concat(e))}})),n}));function x(t){return function(t){return Array.isArray(t)||i(t)}(t)?Array.isArray(t)?t.map((function(t){return{key:t,val:t}})):Object.keys(t).map((function(e){return{key:e,val:t[e]}})):[]}function _(t){return function(e,n){return"string"!=typeof e?(n=e,e=""):"/"!==e.charAt(e.length-1)&&(e+="/"),t(e,n)}}function O(t,e,n){return t._modulesNamespaceMap[n]}}).call(this,n(7))},function(t,e,n){"use strict";var r=n(16),o=Object.prototype.toString;function i(t){return"[object Array]"===o.call(t)}function s(t){return void 0===t}function a(t){return null!==t&&"object"==typeof t}function c(t){return"[object Function]"===o.call(t)}function u(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),i(t))for(var n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.call(null,t[o],o,t)}t.exports={isArray:i,isArrayBuffer:function(t){return"[object ArrayBuffer]"===o.call(t)},isBuffer:function(t){return null!==t&&!s(t)&&null!==t.constructor&&!s(t.constructor)&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:a,isUndefined:s,isDate:function(t){return"[object Date]"===o.call(t)},isFile:function(t){return"[object File]"===o.call(t)},isBlob:function(t){return"[object Blob]"===o.call(t)},isFunction:c,isStream:function(t){return a(t)&&c(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:u,merge:function t(){var e={};function n(n,r){"object"==typeof e[r]&&"object"==typeof n?e[r]=t(e[r],n):e[r]=n}for(var r=0,o=arguments.length;r<o;r++)u(arguments[r],n);return e},deepMerge:function t(){var e={};function n(n,r){"object"==typeof e[r]&&"object"==typeof n?e[r]=t(e[r],n):e[r]="object"==typeof n?t({},n):n}for(var r=0,o=arguments.length;r<o;r++)u(arguments[r],n);return e},extend:function(t,e,n){return u(e,(function(e,o){t[o]=n&&"function"==typeof e?r(e,n):e})),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}}},function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return o})),n.d(e,"d",(function(){return i})),n.d(e,"c",(function(){return s}));var r=!1,o=r?"http://127.0.0.1:8002":"https://xmcitportal.cloudx30.com",i=r?"cc2f6050a4e78268e9d4":"8244f6e312cb53459f38",s="ap1"},function(t,e,n){var r=n(27),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();t.exports=i},function(t,e,n){t.exports=n(65)},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var r=n(93),o=n(98);t.exports=function(t,e){var n=o(t,e);return r(n)?n:void 0}},function(t,e,n){var r=n(26),o=n(94),i=n(95),s=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":s&&s in Object(t)?o(t):i(t)}},function(t,e,n){var r=n(69);"string"==typeof r&&(r=[[t.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(37)(r,o);r.locals&&(t.exports=r.locals)},function(t,e,n){t.exports=n(70)},function(t,e){var n,r,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(t){n=i}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(t){r=s}}();var c,u=[],l=!1,p=-1;function f(){l&&c&&(l=!1,c.length?u=c.concat(u):p=-1,u.length&&d())}function d(){if(!l){var t=a(f);l=!0;for(var e=u.length;e;){for(c=u,u=[];++p<e;)c&&c[p].run();p=-1,e=u.length}c=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function h(t,e){this.fun=t,this.array=e}function m(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new h(t,e)),1!==u.length||l||a(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=m,o.addListener=m,o.once=m,o.off=m,o.removeListener=m,o.removeAllListeners=m,o.emit=m,o.prependListener=m,o.prependOnceListener=m,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t}},function(t,e,n){"use strict";n.r(e);function r(t){this.content=t}r.prototype={constructor:r,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return-1==e?void 0:this.content[e+1]},update:function(t,e,n){var o=n&&n!=t?this.remove(n):this,i=o.find(t),s=o.content.slice();return-1==i?s.push(n||t,e):(s[i+1]=e,n&&(s[i]=n)),new r(s)},remove:function(t){var e=this.find(t);if(-1==e)return this;var n=this.content.slice();return n.splice(e,2),new r(n)},addToStart:function(t,e){return new r([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new r(n)},addBefore:function(t,e,n){var o=this.remove(e),i=o.content.slice(),s=o.find(t);return i.splice(-1==s?i.length:s,0,e,n),new r(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return(t=r.from(t)).size?new r(t.content.concat(this.subtract(t).content)):this},append:function(t){return(t=r.from(t)).size?new r(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=r.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},get size(){return this.content.length>>1}},r.from=function(t){if(t instanceof r)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new r(e)};var o=r;var i=function(t,e){if(this.content=t,this.size=e||0,null==e)for(var n=0;n<t.length;n++)this.size+=t[n].nodeSize},s={firstChild:{configurable:!0},lastChild:{configurable:!0},childCount:{configurable:!0}};i.prototype.nodesBetween=function(t,e,n,r,o){void 0===r&&(r=0);for(var i=0,s=0;s<e;i++){var a=this.content[i],c=s+a.nodeSize;if(c>t&&!1!==n(a,r+s,o,i)&&a.content.size){var u=s+1;a.nodesBetween(Math.max(0,t-u),Math.min(a.content.size,e-u),n,r+u)}s=c}},i.prototype.descendants=function(t){this.nodesBetween(0,this.size,t)},i.prototype.textBetween=function(t,e,n,r){var o="",i=!0;return this.nodesBetween(t,e,(function(s,a){s.isText?(o+=s.text.slice(Math.max(t,a)-a,e-a),i=!n):s.isLeaf&&r?(o+=r,i=!n):!i&&s.isBlock&&(o+=n,i=!0)}),0),o},i.prototype.append=function(t){if(!t.size)return this;if(!this.size)return t;var e=this.lastChild,n=t.firstChild,r=this.content.slice(),o=0;for(e.isText&&e.sameMarkup(n)&&(r[r.length-1]=e.withText(e.text+n.text),o=1);o<t.content.length;o++)r.push(t.content[o]);return new i(r,this.size+t.size)},i.prototype.cut=function(t,e){if(null==e&&(e=this.size),0==t&&e==this.size)return this;var n=[],r=0;if(e>t)for(var o=0,s=0;s<e;o++){var a=this.content[o],c=s+a.nodeSize;c>t&&((s<t||c>e)&&(a=a.isText?a.cut(Math.max(0,t-s),Math.min(a.text.length,e-s)):a.cut(Math.max(0,t-s-1),Math.min(a.content.size,e-s-1))),n.push(a),r+=a.nodeSize),s=c}return new i(n,r)},i.prototype.cutByIndex=function(t,e){return t==e?i.empty:0==t&&e==this.content.length?this:new i(this.content.slice(t,e))},i.prototype.replaceChild=function(t,e){var n=this.content[t];if(n==e)return this;var r=this.content.slice(),o=this.size+e.nodeSize-n.nodeSize;return r[t]=e,new i(r,o)},i.prototype.addToStart=function(t){return new i([t].concat(this.content),this.size+t.nodeSize)},i.prototype.addToEnd=function(t){return new i(this.content.concat(t),this.size+t.nodeSize)},i.prototype.eq=function(t){if(this.content.length!=t.content.length)return!1;for(var e=0;e<this.content.length;e++)if(!this.content[e].eq(t.content[e]))return!1;return!0},s.firstChild.get=function(){return this.content.length?this.content[0]:null},s.lastChild.get=function(){return this.content.length?this.content[this.content.length-1]:null},s.childCount.get=function(){return this.content.length},i.prototype.child=function(t){var e=this.content[t];if(!e)throw new RangeError("Index "+t+" out of range for "+this);return e},i.prototype.maybeChild=function(t){return this.content[t]},i.prototype.forEach=function(t){for(var e=0,n=0;e<this.content.length;e++){var r=this.content[e];t(r,n,e),n+=r.nodeSize}},i.prototype.findDiffStart=function(t,e){return void 0===e&&(e=0),function t(e,n,r){for(var o=0;;o++){if(o==e.childCount||o==n.childCount)return e.childCount==n.childCount?null:r;var i=e.child(o),s=n.child(o);if(i!=s){if(!i.sameMarkup(s))return r;if(i.isText&&i.text!=s.text){for(var a=0;i.text[a]==s.text[a];a++)r++;return r}if(i.content.size||s.content.size){var c=t(i.content,s.content,r+1);if(null!=c)return c}r+=i.nodeSize}else r+=i.nodeSize}}(this,t,e)},i.prototype.findDiffEnd=function(t,e,n){return void 0===e&&(e=this.size),void 0===n&&(n=t.size),function t(e,n,r,o){for(var i=e.childCount,s=n.childCount;;){if(0==i||0==s)return i==s?null:{a:r,b:o};var a=e.child(--i),c=n.child(--s),u=a.nodeSize;if(a!=c){if(!a.sameMarkup(c))return{a:r,b:o};if(a.isText&&a.text!=c.text){for(var l=0,p=Math.min(a.text.length,c.text.length);l<p&&a.text[a.text.length-l-1]==c.text[c.text.length-l-1];)l++,r--,o--;return{a:r,b:o}}if(a.content.size||c.content.size){var f=t(a.content,c.content,r-1,o-1);if(f)return f}r-=u,o-=u}else r-=u,o-=u}}(this,t,e,n)},i.prototype.findIndex=function(t,e){if(void 0===e&&(e=-1),0==t)return c(0,t);if(t==this.size)return c(this.content.length,t);if(t>this.size||t<0)throw new RangeError("Position "+t+" outside of fragment ("+this+")");for(var n=0,r=0;;n++){var o=r+this.child(n).nodeSize;if(o>=t)return o==t||e>0?c(n+1,o):c(n,r);r=o}},i.prototype.toString=function(){return"<"+this.toStringInner()+">"},i.prototype.toStringInner=function(){return this.content.join(", ")},i.prototype.toJSON=function(){return this.content.length?this.content.map((function(t){return t.toJSON()})):null},i.fromJSON=function(t,e){if(!e)return i.empty;if(!Array.isArray(e))throw new RangeError("Invalid input for Fragment.fromJSON");return new i(e.map(t.nodeFromJSON))},i.fromArray=function(t){if(!t.length)return i.empty;for(var e,n=0,r=0;r<t.length;r++){var o=t[r];n+=o.nodeSize,r&&o.isText&&t[r-1].sameMarkup(o)?(e||(e=t.slice(0,r)),e[e.length-1]=o.withText(e[e.length-1].text+o.text)):e&&e.push(o)}return new i(e||t,n)},i.from=function(t){if(!t)return i.empty;if(t instanceof i)return t;if(Array.isArray(t))return this.fromArray(t);if(t.attrs)return new i([t],t.nodeSize);throw new RangeError("Can not convert "+t+" to a Fragment"+(t.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))},Object.defineProperties(i.prototype,s);var a={index:0,offset:0};function c(t,e){return a.index=t,a.offset=e,a}function u(t,e){if(t===e)return!0;if(!t||"object"!=typeof t||!e||"object"!=typeof e)return!1;var n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(var r=0;r<t.length;r++)if(!u(t[r],e[r]))return!1}else{for(var o in t)if(!(o in e)||!u(t[o],e[o]))return!1;for(var i in e)if(!(i in t))return!1}return!0}i.empty=new i([],0);var l=function(t,e){this.type=t,this.attrs=e};function p(t){var e=Error.call(this,t);return e.__proto__=p.prototype,e}l.prototype.addToSet=function(t){for(var e,n=!1,r=0;r<t.length;r++){var o=t[r];if(this.eq(o))return t;if(this.type.excludes(o.type))e||(e=t.slice(0,r));else{if(o.type.excludes(this.type))return t;!n&&o.type.rank>this.type.rank&&(e||(e=t.slice(0,r)),e.push(this),n=!0),e&&e.push(o)}}return e||(e=t.slice()),n||e.push(this),e},l.prototype.removeFromSet=function(t){for(var e=0;e<t.length;e++)if(this.eq(t[e]))return t.slice(0,e).concat(t.slice(e+1));return t},l.prototype.isInSet=function(t){for(var e=0;e<t.length;e++)if(this.eq(t[e]))return!0;return!1},l.prototype.eq=function(t){return this==t||this.type==t.type&&u(this.attrs,t.attrs)},l.prototype.toJSON=function(){var t={type:this.type.name};for(var e in this.attrs){t.attrs=this.attrs;break}return t},l.fromJSON=function(t,e){if(!e)throw new RangeError("Invalid input for Mark.fromJSON");var n=t.marks[e.type];if(!n)throw new RangeError("There is no mark type "+e.type+" in this schema");return n.create(e.attrs)},l.sameSet=function(t,e){if(t==e)return!0;if(t.length!=e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].eq(e[n]))return!1;return!0},l.setFrom=function(t){if(!t||0==t.length)return l.none;if(t instanceof l)return[t];var e=t.slice();return e.sort((function(t,e){return t.type.rank-e.type.rank})),e},l.none=[],p.prototype=Object.create(Error.prototype),p.prototype.constructor=p,p.prototype.name="ReplaceError";var f=function(t,e,n){this.content=t,this.openStart=e,this.openEnd=n},d={size:{configurable:!0}};function h(t,e,n){if(n.openStart>t.depth)throw new p("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new p("Inconsistent open depths");return function t(e,n,r,o){var s=e.index(o),a=e.node(o);if(s==n.index(o)&&o<e.depth-r.openStart){var c=t(e,n,r,o+1);return a.copy(a.content.replaceChild(s,c))}if(r.content.size){if(r.openStart||r.openEnd||e.depth!=o||n.depth!=o){var u=function(t,e){for(var n=e.depth-t.openStart,r=e.node(n).copy(t.content),o=n-1;o>=0;o--)r=e.node(o).copy(i.from(r));return{start:r.resolveNoCache(t.openStart+n),end:r.resolveNoCache(r.content.size-t.openEnd-n)}}(r,e),l=u.start,p=u.end;return b(a,function t(e,n,r,o,s){var a=e.depth>s&&v(e,n,s+1),c=o.depth>s&&v(r,o,s+1),u=[];y(null,e,s,u),a&&c&&n.index(s)==r.index(s)?(m(a,c),g(b(a,t(e,n,r,o,s+1)),u)):(a&&g(b(a,w(e,n,s+1)),u),y(n,r,s,u),c&&g(b(c,w(r,o,s+1)),u));return y(o,null,s,u),new i(u)}(e,l,p,n,o))}var f=e.parent,d=f.content;return b(f,d.cut(0,e.parentOffset).append(r.content).append(d.cut(n.parentOffset)))}return b(a,w(e,n,o))}(t,e,n,0)}function m(t,e){if(!e.type.compatibleContent(t.type))throw new p("Cannot join "+e.type.name+" onto "+t.type.name)}function v(t,e,n){var r=t.node(n);return m(r,e.node(n)),r}function g(t,e){var n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function y(t,e,n,r){var o=(e||t).node(n),i=0,s=e?e.index(n):o.childCount;t&&(i=t.index(n),t.depth>n?i++:t.textOffset&&(g(t.nodeAfter,r),i++));for(var a=i;a<s;a++)g(o.child(a),r);e&&e.depth==n&&e.textOffset&&g(e.nodeBefore,r)}function b(t,e){if(!t.type.validContent(e))throw new p("Invalid content for node "+t.type.name);return t.copy(e)}function w(t,e,n){var r=[];(y(null,t,n,r),t.depth>n)&&g(b(v(t,e,n+1),w(t,e,n+1)),r);return y(e,null,n,r),new i(r)}d.size.get=function(){return this.content.size-this.openStart-this.openEnd},f.prototype.insertAt=function(t,e){var n=function t(e,n,r,o){var i=e.findIndex(n),s=i.index,a=i.offset,c=e.maybeChild(s);if(a==n||c.isText)return o&&!o.canReplace(s,s,r)?null:e.cut(0,n).append(r).append(e.cut(n));var u=t(c.content,n-a-1,r);return u&&e.replaceChild(s,c.copy(u))}(this.content,t+this.openStart,e,null);return n&&new f(n,this.openStart,this.openEnd)},f.prototype.removeBetween=function(t,e){return new f(function t(e,n,r){var o=e.findIndex(n),i=o.index,s=o.offset,a=e.maybeChild(i),c=e.findIndex(r),u=c.index,l=c.offset;if(s==n||a.isText){if(l!=r&&!e.child(u).isText)throw new RangeError("Removing non-flat range");return e.cut(0,n).append(e.cut(r))}if(i!=u)throw new RangeError("Removing non-flat range");return e.replaceChild(i,a.copy(t(a.content,n-s-1,r-s-1)))}(this.content,t+this.openStart,e+this.openStart),this.openStart,this.openEnd)},f.prototype.eq=function(t){return this.content.eq(t.content)&&this.openStart==t.openStart&&this.openEnd==t.openEnd},f.prototype.toString=function(){return this.content+"("+this.openStart+","+this.openEnd+")"},f.prototype.toJSON=function(){if(!this.content.size)return null;var t={content:this.content.toJSON()};return this.openStart>0&&(t.openStart=this.openStart),this.openEnd>0&&(t.openEnd=this.openEnd),t},f.fromJSON=function(t,e){if(!e)return f.empty;var n=e.openStart||0,r=e.openEnd||0;if("number"!=typeof n||"number"!=typeof r)throw new RangeError("Invalid input for Slice.fromJSON");return new f(i.fromJSON(t,e.content),n,r)},f.maxOpen=function(t,e){void 0===e&&(e=!0);for(var n=0,r=0,o=t.firstChild;o&&!o.isLeaf&&(e||!o.type.spec.isolating);o=o.firstChild)n++;for(var i=t.lastChild;i&&!i.isLeaf&&(e||!i.type.spec.isolating);i=i.lastChild)r++;return new f(t,n,r)},Object.defineProperties(f.prototype,d),f.empty=new f(i.empty,0,0);var x=function(t,e,n){this.pos=t,this.path=e,this.depth=e.length/3-1,this.parentOffset=n},_={parent:{configurable:!0},doc:{configurable:!0},textOffset:{configurable:!0},nodeAfter:{configurable:!0},nodeBefore:{configurable:!0}};x.prototype.resolveDepth=function(t){return null==t?this.depth:t<0?this.depth+t:t},_.parent.get=function(){return this.node(this.depth)},_.doc.get=function(){return this.node(0)},x.prototype.node=function(t){return this.path[3*this.resolveDepth(t)]},x.prototype.index=function(t){return this.path[3*this.resolveDepth(t)+1]},x.prototype.indexAfter=function(t){return t=this.resolveDepth(t),this.index(t)+(t!=this.depth||this.textOffset?1:0)},x.prototype.start=function(t){return 0==(t=this.resolveDepth(t))?0:this.path[3*t-1]+1},x.prototype.end=function(t){return t=this.resolveDepth(t),this.start(t)+this.node(t).content.size},x.prototype.before=function(t){if(!(t=this.resolveDepth(t)))throw new RangeError("There is no position before the top-level node");return t==this.depth+1?this.pos:this.path[3*t-1]},x.prototype.after=function(t){if(!(t=this.resolveDepth(t)))throw new RangeError("There is no position after the top-level node");return t==this.depth+1?this.pos:this.path[3*t-1]+this.path[3*t].nodeSize},_.textOffset.get=function(){return this.pos-this.path[this.path.length-1]},_.nodeAfter.get=function(){var t=this.parent,e=this.index(this.depth);if(e==t.childCount)return null;var n=this.pos-this.path[this.path.length-1],r=t.child(e);return n?t.child(e).cut(n):r},_.nodeBefore.get=function(){var t=this.index(this.depth),e=this.pos-this.path[this.path.length-1];return e?this.parent.child(t).cut(0,e):0==t?null:this.parent.child(t-1)},x.prototype.posAtIndex=function(t,e){e=this.resolveDepth(e);for(var n=this.path[3*e],r=0==e?0:this.path[3*e-1]+1,o=0;o<t;o++)r+=n.child(o).nodeSize;return r},x.prototype.marks=function(){var t=this.parent,e=this.index();if(0==t.content.size)return l.none;if(this.textOffset)return t.child(e).marks;var n=t.maybeChild(e-1),r=t.maybeChild(e);if(!n){var o=n;n=r,r=o}for(var i=n.marks,s=0;s<i.length;s++)!1!==i[s].type.spec.inclusive||r&&i[s].isInSet(r.marks)||(i=i[s--].removeFromSet(i));return i},x.prototype.marksAcross=function(t){var e=this.parent.maybeChild(this.index());if(!e||!e.isInline)return null;for(var n=e.marks,r=t.parent.maybeChild(t.index()),o=0;o<n.length;o++)!1!==n[o].type.spec.inclusive||r&&n[o].isInSet(r.marks)||(n=n[o--].removeFromSet(n));return n},x.prototype.sharedDepth=function(t){for(var e=this.depth;e>0;e--)if(this.start(e)<=t&&this.end(e)>=t)return e;return 0},x.prototype.blockRange=function(t,e){if(void 0===t&&(t=this),t.pos<this.pos)return t.blockRange(this);for(var n=this.depth-(this.parent.inlineContent||this.pos==t.pos?1:0);n>=0;n--)if(t.pos<=this.end(n)&&(!e||e(this.node(n))))return new C(this,t,n)},x.prototype.sameParent=function(t){return this.pos-this.parentOffset==t.pos-t.parentOffset},x.prototype.max=function(t){return t.pos>this.pos?t:this},x.prototype.min=function(t){return t.pos<this.pos?t:this},x.prototype.toString=function(){for(var t="",e=1;e<=this.depth;e++)t+=(t?"/":"")+this.node(e).type.name+"_"+this.index(e-1);return t+":"+this.parentOffset},x.resolve=function(t,e){if(!(e>=0&&e<=t.content.size))throw new RangeError("Position "+e+" out of range");for(var n=[],r=0,o=e,i=t;;){var s=i.content.findIndex(o),a=s.index,c=s.offset,u=o-c;if(n.push(i,a,r+c),!u)break;if((i=i.child(a)).isText)break;o=u-1,r+=c+1}return new x(e,n,o)},x.resolveCached=function(t,e){for(var n=0;n<O.length;n++){var r=O[n];if(r.pos==e&&r.doc==t)return r}var o=O[k]=x.resolve(t,e);return k=(k+1)%S,o},Object.defineProperties(x.prototype,_);var O=[],k=0,S=12,C=function(t,e,n){this.$from=t,this.$to=e,this.depth=n},M={start:{configurable:!0},end:{configurable:!0},parent:{configurable:!0},startIndex:{configurable:!0},endIndex:{configurable:!0}};M.start.get=function(){return this.$from.before(this.depth+1)},M.end.get=function(){return this.$to.after(this.depth+1)},M.parent.get=function(){return this.$from.node(this.depth)},M.startIndex.get=function(){return this.$from.index(this.depth)},M.endIndex.get=function(){return this.$to.indexAfter(this.depth)},Object.defineProperties(C.prototype,M);var E=Object.create(null),T=function(t,e,n,r){this.type=t,this.attrs=e,this.content=n||i.empty,this.marks=r||l.none},A={nodeSize:{configurable:!0},childCount:{configurable:!0},textContent:{configurable:!0},firstChild:{configurable:!0},lastChild:{configurable:!0},isBlock:{configurable:!0},isTextblock:{configurable:!0},inlineContent:{configurable:!0},isInline:{configurable:!0},isText:{configurable:!0},isLeaf:{configurable:!0},isAtom:{configurable:!0}};A.nodeSize.get=function(){return this.isLeaf?1:2+this.content.size},A.childCount.get=function(){return this.content.childCount},T.prototype.child=function(t){return this.content.child(t)},T.prototype.maybeChild=function(t){return this.content.maybeChild(t)},T.prototype.forEach=function(t){this.content.forEach(t)},T.prototype.nodesBetween=function(t,e,n,r){void 0===r&&(r=0),this.content.nodesBetween(t,e,n,r,this)},T.prototype.descendants=function(t){this.nodesBetween(0,this.content.size,t)},A.textContent.get=function(){return this.textBetween(0,this.content.size,"")},T.prototype.textBetween=function(t,e,n,r){return this.content.textBetween(t,e,n,r)},A.firstChild.get=function(){return this.content.firstChild},A.lastChild.get=function(){return this.content.lastChild},T.prototype.eq=function(t){return this==t||this.sameMarkup(t)&&this.content.eq(t.content)},T.prototype.sameMarkup=function(t){return this.hasMarkup(t.type,t.attrs,t.marks)},T.prototype.hasMarkup=function(t,e,n){return this.type==t&&u(this.attrs,e||t.defaultAttrs||E)&&l.sameSet(this.marks,n||l.none)},T.prototype.copy=function(t){return void 0===t&&(t=null),t==this.content?this:new this.constructor(this.type,this.attrs,t,this.marks)},T.prototype.mark=function(t){return t==this.marks?this:new this.constructor(this.type,this.attrs,this.content,t)},T.prototype.cut=function(t,e){return 0==t&&e==this.content.size?this:this.copy(this.content.cut(t,e))},T.prototype.slice=function(t,e,n){if(void 0===e&&(e=this.content.size),void 0===n&&(n=!1),t==e)return f.empty;var r=this.resolve(t),o=this.resolve(e),i=n?0:r.sharedDepth(e),s=r.start(i),a=r.node(i).content.cut(r.pos-s,o.pos-s);return new f(a,r.depth-i,o.depth-i)},T.prototype.replace=function(t,e,n){return h(this.resolve(t),this.resolve(e),n)},T.prototype.nodeAt=function(t){for(var e=this;;){var n=e.content.findIndex(t),r=n.index,o=n.offset;if(!(e=e.maybeChild(r)))return null;if(o==t||e.isText)return e;t-=o+1}},T.prototype.childAfter=function(t){var e=this.content.findIndex(t),n=e.index,r=e.offset;return{node:this.content.maybeChild(n),index:n,offset:r}},T.prototype.childBefore=function(t){if(0==t)return{node:null,index:0,offset:0};var e=this.content.findIndex(t),n=e.index,r=e.offset;if(r<t)return{node:this.content.child(n),index:n,offset:r};var o=this.content.child(n-1);return{node:o,index:n-1,offset:r-o.nodeSize}},T.prototype.resolve=function(t){return x.resolveCached(this,t)},T.prototype.resolveNoCache=function(t){return x.resolve(this,t)},T.prototype.rangeHasMark=function(t,e,n){var r=!1;return e>t&&this.nodesBetween(t,e,(function(t){return n.isInSet(t.marks)&&(r=!0),!r})),r},A.isBlock.get=function(){return this.type.isBlock},A.isTextblock.get=function(){return this.type.isTextblock},A.inlineContent.get=function(){return this.type.inlineContent},A.isInline.get=function(){return this.type.isInline},A.isText.get=function(){return this.type.isText},A.isLeaf.get=function(){return this.type.isLeaf},A.isAtom.get=function(){return this.type.isAtom},T.prototype.toString=function(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);var t=this.type.name;return this.content.size&&(t+="("+this.content.toStringInner()+")"),$(this.marks,t)},T.prototype.contentMatchAt=function(t){var e=this.type.contentMatch.matchFragment(this.content,0,t);if(!e)throw new Error("Called contentMatchAt on a node with invalid content");return e},T.prototype.canReplace=function(t,e,n,r,o){void 0===n&&(n=i.empty),void 0===r&&(r=0),void 0===o&&(o=n.childCount);var s=this.contentMatchAt(t).matchFragment(n,r,o),a=s&&s.matchFragment(this.content,e);if(!a||!a.validEnd)return!1;for(var c=r;c<o;c++)if(!this.type.allowsMarks(n.child(c).marks))return!1;return!0},T.prototype.canReplaceWith=function(t,e,n,r){if(r&&!this.type.allowsMarks(r))return!1;var o=this.contentMatchAt(t).matchType(n),i=o&&o.matchFragment(this.content,e);return!!i&&i.validEnd},T.prototype.canAppend=function(t){return t.content.size?this.canReplace(this.childCount,this.childCount,t.content):this.type.compatibleContent(t.type)},T.prototype.check=function(){if(!this.type.validContent(this.content))throw new RangeError("Invalid content for node "+this.type.name+": "+this.content.toString().slice(0,50));for(var t=l.none,e=0;e<this.marks.length;e++)t=this.marks[e].addToSet(t);if(!l.sameSet(t,this.marks))throw new RangeError("Invalid collection of marks for node "+this.type.name+": "+this.marks.map((function(t){return t.type.name})));this.content.forEach((function(t){return t.check()}))},T.prototype.toJSON=function(){var t={type:this.type.name};for(var e in this.attrs){t.attrs=this.attrs;break}return this.content.size&&(t.content=this.content.toJSON()),this.marks.length&&(t.marks=this.marks.map((function(t){return t.toJSON()}))),t},T.fromJSON=function(t,e){if(!e)throw new RangeError("Invalid input for Node.fromJSON");var n=null;if(e.marks){if(!Array.isArray(e.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=e.marks.map(t.markFromJSON)}if("text"==e.type){if("string"!=typeof e.text)throw new RangeError("Invalid text node in JSON");return t.text(e.text,n)}var r=i.fromJSON(t,e.content);return t.nodeType(e.type).create(e.attrs,r,n)},Object.defineProperties(T.prototype,A);var j=function(t){function e(e,n,r,o){if(t.call(this,e,n,null,o),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={textContent:{configurable:!0},nodeSize:{configurable:!0}};return e.prototype.toString=function(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):$(this.marks,JSON.stringify(this.text))},n.textContent.get=function(){return this.text},e.prototype.textBetween=function(t,e){return this.text.slice(t,e)},n.nodeSize.get=function(){return this.text.length},e.prototype.mark=function(t){return t==this.marks?this:new e(this.type,this.attrs,this.text,t)},e.prototype.withText=function(t){return t==this.text?this:new e(this.type,this.attrs,t,this.marks)},e.prototype.cut=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=this.text.length),0==t&&e==this.text.length?this:this.withText(this.text.slice(t,e))},e.prototype.eq=function(t){return this.sameMarkup(t)&&this.text==t.text},e.prototype.toJSON=function(){var e=t.prototype.toJSON.call(this);return e.text=this.text,e},Object.defineProperties(e.prototype,n),e}(T);function $(t,e){for(var n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}var N=function(t){this.validEnd=t,this.next=[],this.wrapCache=[]},D={inlineContent:{configurable:!0},defaultType:{configurable:!0},edgeCount:{configurable:!0}};N.parse=function(t,e){var n=new P(t,e);if(null==n.next)return N.empty;var r=I(n);n.next&&n.err("Unexpected trailing text");var o=function(t){var e=Object.create(null);return function n(r){var o=[];r.forEach((function(e){t[e].forEach((function(e){var n=e.term,r=e.to;if(n){var i=o.indexOf(n),s=i>-1&&o[i+1];H(t,r).forEach((function(t){s||o.push(n,s=[]),-1==s.indexOf(t)&&s.push(t)}))}}))}));for(var i=e[r.join(",")]=new N(r.indexOf(t.length-1)>-1),s=0;s<o.length;s+=2){var a=o[s+1].sort(V);i.next.push(o[s],e[a.join(",")]||n(a))}return i}(H(t,0))}(function(t){var e=[[]];return o(function t(e,i){if("choice"==e.type)return e.exprs.reduce((function(e,n){return e.concat(t(n,i))}),[]);if("seq"==e.type)for(var s=0;;s++){var a=t(e.exprs[s],i);if(s==e.exprs.length-1)return a;o(a,i=n())}else{if("star"==e.type){var c=n();return r(i,c),o(t(e.expr,c),c),[r(c)]}if("plus"==e.type){var u=n();return o(t(e.expr,i),u),o(t(e.expr,u),u),[r(u)]}if("opt"==e.type)return[r(i)].concat(t(e.expr,i));if("range"==e.type){for(var l=i,p=0;p<e.min;p++){var f=n();o(t(e.expr,l),f),l=f}if(-1==e.max)o(t(e.expr,l),l);else for(var d=e.min;d<e.max;d++){var h=n();r(l,h),o(t(e.expr,l),h),l=h}return[r(l)]}if("name"==e.type)return[r(i,null,e.value)]}}(t,0),n()),e;function n(){return e.push([])-1}function r(t,n,r){var o={term:r,to:n};return e[t].push(o),o}function o(t,e){t.forEach((function(t){return t.to=e}))}}(r));return function(t,e){for(var n=0,r=[t];n<r.length;n++){for(var o=r[n],i=!o.validEnd,s=[],a=0;a<o.next.length;a+=2){var c=o.next[a],u=o.next[a+1];s.push(c.name),!i||c.isText||c.hasRequiredAttrs()||(i=!1),-1==r.indexOf(u)&&r.push(u)}i&&e.err("Only non-generatable nodes ("+s.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}(o,n),o},N.prototype.matchType=function(t){for(var e=0;e<this.next.length;e+=2)if(this.next[e]==t)return this.next[e+1];return null},N.prototype.matchFragment=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=t.childCount);for(var r=this,o=e;r&&o<n;o++)r=r.matchType(t.child(o).type);return r},D.inlineContent.get=function(){var t=this.next[0];return!!t&&t.isInline},D.defaultType.get=function(){for(var t=0;t<this.next.length;t+=2){var e=this.next[t];if(!e.isText&&!e.hasRequiredAttrs())return e}},N.prototype.compatible=function(t){for(var e=0;e<this.next.length;e+=2)for(var n=0;n<t.next.length;n+=2)if(this.next[e]==t.next[n])return!0;return!1},N.prototype.fillBefore=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=0);var r=[this];return function o(s,a){var c=s.matchFragment(t,n);if(c&&(!e||c.validEnd))return i.from(a.map((function(t){return t.createAndFill()})));for(var u=0;u<s.next.length;u+=2){var l=s.next[u],p=s.next[u+1];if(!l.isText&&!l.hasRequiredAttrs()&&-1==r.indexOf(p)){r.push(p);var f=o(p,a.concat(l));if(f)return f}}}(this,[])},N.prototype.findWrapping=function(t){for(var e=0;e<this.wrapCache.length;e+=2)if(this.wrapCache[e]==t)return this.wrapCache[e+1];var n=this.computeWrapping(t);return this.wrapCache.push(t,n),n},N.prototype.computeWrapping=function(t){for(var e=Object.create(null),n=[{match:this,type:null,via:null}];n.length;){var r=n.shift(),o=r.match;if(o.matchType(t)){for(var i=[],s=r;s.type;s=s.via)i.push(s.type);return i.reverse()}for(var a=0;a<o.next.length;a+=2){var c=o.next[a];c.isLeaf||c.hasRequiredAttrs()||c.name in e||r.type&&!o.next[a+1].validEnd||(n.push({match:c.contentMatch,type:c,via:r}),e[c.name]=!0)}}},D.edgeCount.get=function(){return this.next.length>>1},N.prototype.edge=function(t){var e=t<<1;if(e>=this.next.length)throw new RangeError("There's no "+t+"th edge in this content match");return{type:this.next[e],next:this.next[e+1]}},N.prototype.toString=function(){var t=[];return function e(n){t.push(n);for(var r=1;r<n.next.length;r+=2)-1==t.indexOf(n.next[r])&&e(n.next[r])}(this),t.map((function(e,n){for(var r=n+(e.validEnd?"*":" ")+" ",o=0;o<e.next.length;o+=2)r+=(o?", ":"")+e.next[o].name+"->"+t.indexOf(e.next[o+1]);return r})).join("\n")},Object.defineProperties(N.prototype,D),N.empty=new N(!0);var P=function(t,e){this.string=t,this.nodeTypes=e,this.inline=null,this.pos=0,this.tokens=t.split(/\s*(?=\b|\W|$)/),""==this.tokens[this.tokens.length-1]&&this.tokens.pop(),""==this.tokens[0]&&this.tokens.shift()},L={next:{configurable:!0}};function I(t){var e=[];do{e.push(R(t))}while(t.eat("|"));return 1==e.length?e[0]:{type:"choice",exprs:e}}function R(t){var e=[];do{e.push(z(t))}while(t.next&&")"!=t.next&&"|"!=t.next);return 1==e.length?e[0]:{type:"seq",exprs:e}}function z(t){for(var e=function(t){if(t.eat("(")){var e=I(t);return t.eat(")")||t.err("Missing closing paren"),e}if(!/\W/.test(t.next)){var n=function(t,e){var n=t.nodeTypes,r=n[e];if(r)return[r];var o=[];for(var i in n){var s=n[i];s.groups.indexOf(e)>-1&&o.push(s)}0==o.length&&t.err("No node type or group '"+e+"' found");return o}(t,t.next).map((function(e){return null==t.inline?t.inline=e.isInline:t.inline!=e.isInline&&t.err("Mixing inline and block content"),{type:"name",value:e}}));return t.pos++,1==n.length?n[0]:{type:"choice",exprs:n}}t.err("Unexpected token '"+t.next+"'")}(t);;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else{if(!t.eat("{"))break;e=F(t,e)}return e}function B(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");var e=Number(t.next);return t.pos++,e}function F(t,e){var n=B(t),r=n;return t.eat(",")&&(r="}"!=t.next?B(t):-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function V(t,e){return e-t}function H(t,e){var n=[];return function e(r){var o=t[r];if(1==o.length&&!o[0].term)return e(o[0].to);n.push(r);for(var i=0;i<o.length;i++){var s=o[i],a=s.term,c=s.to;a||-1!=n.indexOf(c)||e(c)}}(e),n.sort(V)}function U(t){var e=Object.create(null);for(var n in t){var r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function q(t,e){var n=Object.create(null);for(var r in t){var o=e&&e[r];if(void 0===o){var i=t[r];if(!i.hasDefault)throw new RangeError("No value supplied for attribute "+r);o=i.default}n[r]=o}return n}function W(t){var e=Object.create(null);if(t)for(var n in t)e[n]=new G(t[n]);return e}L.next.get=function(){return this.tokens[this.pos]},P.prototype.eat=function(t){return this.next==t&&(this.pos++||!0)},P.prototype.err=function(t){throw new SyntaxError(t+" (in content expression '"+this.string+"')")},Object.defineProperties(P.prototype,L);var J=function(t,e,n){this.name=t,this.schema=e,this.spec=n,this.groups=n.group?n.group.split(" "):[],this.attrs=W(n.attrs),this.defaultAttrs=U(this.attrs),this.contentMatch=null,this.markSet=null,this.inlineContent=null,this.isBlock=!(n.inline||"text"==t),this.isText="text"==t},K={isInline:{configurable:!0},isTextblock:{configurable:!0},isLeaf:{configurable:!0},isAtom:{configurable:!0}};K.isInline.get=function(){return!this.isBlock},K.isTextblock.get=function(){return this.isBlock&&this.inlineContent},K.isLeaf.get=function(){return this.contentMatch==N.empty},K.isAtom.get=function(){return this.isLeaf||this.spec.atom},J.prototype.hasRequiredAttrs=function(){for(var t in this.attrs)if(this.attrs[t].isRequired)return!0;return!1},J.prototype.compatibleContent=function(t){return this==t||this.contentMatch.compatible(t.contentMatch)},J.prototype.computeAttrs=function(t){return!t&&this.defaultAttrs?this.defaultAttrs:q(this.attrs,t)},J.prototype.create=function(t,e,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new T(this,this.computeAttrs(t),i.from(e),l.setFrom(n))},J.prototype.createChecked=function(t,e,n){if(e=i.from(e),!this.validContent(e))throw new RangeError("Invalid content for node "+this.name);return new T(this,this.computeAttrs(t),e,l.setFrom(n))},J.prototype.createAndFill=function(t,e,n){if(t=this.computeAttrs(t),(e=i.from(e)).size){var r=this.contentMatch.fillBefore(e);if(!r)return null;e=r.append(e)}var o=this.contentMatch.matchFragment(e).fillBefore(i.empty,!0);return o?new T(this,t,e.append(o),l.setFrom(n)):null},J.prototype.validContent=function(t){var e=this.contentMatch.matchFragment(t);if(!e||!e.validEnd)return!1;for(var n=0;n<t.childCount;n++)if(!this.allowsMarks(t.child(n).marks))return!1;return!0},J.prototype.allowsMarkType=function(t){return null==this.markSet||this.markSet.indexOf(t)>-1},J.prototype.allowsMarks=function(t){if(null==this.markSet)return!0;for(var e=0;e<t.length;e++)if(!this.allowsMarkType(t[e].type))return!1;return!0},J.prototype.allowedMarks=function(t){if(null==this.markSet)return t;for(var e,n=0;n<t.length;n++)this.allowsMarkType(t[n].type)?e&&e.push(t[n]):e||(e=t.slice(0,n));return e?e.length?e:l.empty:t},J.compile=function(t,e){var n=Object.create(null);t.forEach((function(t,r){return n[t]=new J(t,e,r)}));var r=e.spec.topNode||"doc";if(!n[r])throw new RangeError("Schema is missing its top node type ('"+r+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(var o in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n},Object.defineProperties(J.prototype,K);var G=function(t){this.hasDefault=Object.prototype.hasOwnProperty.call(t,"default"),this.default=t.default},Y={isRequired:{configurable:!0}};Y.isRequired.get=function(){return!this.hasDefault},Object.defineProperties(G.prototype,Y);var X=function(t,e,n,r){this.name=t,this.schema=n,this.spec=r,this.attrs=W(r.attrs),this.rank=e,this.excluded=null;var o=U(this.attrs);this.instance=o&&new l(this,o)};X.prototype.create=function(t){return!t&&this.instance?this.instance:new l(this,q(this.attrs,t))},X.compile=function(t,e){var n=Object.create(null),r=0;return t.forEach((function(t,o){return n[t]=new X(t,r++,e,o)})),n},X.prototype.removeFromSet=function(t){for(var e=0;e<t.length;e++)t[e].type==this&&(t=t.slice(0,e).concat(t.slice(e+1)),e--);return t},X.prototype.isInSet=function(t){for(var e=0;e<t.length;e++)if(t[e].type==this)return t[e]},X.prototype.excludes=function(t){return this.excluded.indexOf(t)>-1};var Z=function(t){for(var e in this.spec={},t)this.spec[e]=t[e];this.spec.nodes=o.from(t.nodes),this.spec.marks=o.from(t.marks),this.nodes=J.compile(this.spec.nodes,this),this.marks=X.compile(this.spec.marks,this);var n=Object.create(null);for(var r in this.nodes){if(r in this.marks)throw new RangeError(r+" can not be both a node and a mark");var i=this.nodes[r],s=i.spec.content||"",a=i.spec.marks;i.contentMatch=n[s]||(n[s]=N.parse(s,this.nodes)),i.inlineContent=i.contentMatch.inlineContent,i.markSet="_"==a?null:a?Q(this,a.split(" ")):""!=a&&i.inlineContent?null:[]}for(var c in this.marks){var u=this.marks[c],l=u.spec.excludes;u.excluded=null==l?[u]:""==l?[]:Q(this,l.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached=Object.create(null),this.cached.wrappings=Object.create(null)};function Q(t,e){for(var n=[],r=0;r<e.length;r++){var o=e[r],i=t.marks[o],s=i;if(i)n.push(i);else for(var a in t.marks){var c=t.marks[a];("_"==o||c.spec.group&&c.spec.group.split(" ").indexOf(o)>-1)&&n.push(s=c)}if(!s)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}Z.prototype.node=function(t,e,n,r){if("string"==typeof t)t=this.nodeType(t);else{if(!(t instanceof J))throw new RangeError("Invalid node type: "+t);if(t.schema!=this)throw new RangeError("Node type from different schema used ("+t.name+")")}return t.createChecked(e,n,r)},Z.prototype.text=function(t,e){var n=this.nodes.text;return new j(n,n.defaultAttrs,t,l.setFrom(e))},Z.prototype.mark=function(t,e){return"string"==typeof t&&(t=this.marks[t]),t.create(e)},Z.prototype.nodeFromJSON=function(t){return T.fromJSON(this,t)},Z.prototype.markFromJSON=function(t){return l.fromJSON(this,t)},Z.prototype.nodeType=function(t){var e=this.nodes[t];if(!e)throw new RangeError("Unknown node type: "+t);return e};var tt=function(t,e){var n=this;this.schema=t,this.rules=e,this.tags=[],this.styles=[],e.forEach((function(t){t.tag?n.tags.push(t):t.style&&n.styles.push(t)})),this.normalizeLists=!this.tags.some((function(e){if(!/^(ul|ol)\b/.test(e.tag)||!e.node)return!1;var n=t.nodes[e.node];return n.contentMatch.matchType(n)}))};tt.prototype.parse=function(t,e){void 0===e&&(e={});var n=new st(this,e,!1);return n.addAll(t,null,e.from,e.to),n.finish()},tt.prototype.parseSlice=function(t,e){void 0===e&&(e={});var n=new st(this,e,!0);return n.addAll(t,null,e.from,e.to),f.maxOpen(n.finish())},tt.prototype.matchTag=function(t,e,n){for(var r=n?this.tags.indexOf(n)+1:0;r<this.tags.length;r++){var o=this.tags[r];if(ct(t,o.tag)&&(void 0===o.namespace||t.namespaceURI==o.namespace)&&(!o.context||e.matchesContext(o.context))){if(o.getAttrs){var i=o.getAttrs(t);if(!1===i)continue;o.attrs=i}return o}}},tt.prototype.matchStyle=function(t,e,n,r){for(var o=r?this.styles.indexOf(r)+1:0;o<this.styles.length;o++){var i=this.styles[o];if(!(0!=i.style.indexOf(t)||i.context&&!n.matchesContext(i.context)||i.style.length>t.length&&(61!=i.style.charCodeAt(t.length)||i.style.slice(t.length+1)!=e))){if(i.getAttrs){var s=i.getAttrs(e);if(!1===s)continue;i.attrs=s}return i}}},tt.schemaRules=function(t){var e=[];function n(t){for(var n=null==t.priority?50:t.priority,r=0;r<e.length;r++){var o=e[r];if((null==o.priority?50:o.priority)<n)break}e.splice(r,0,t)}var r=function(e){var r=t.marks[e].spec.parseDOM;r&&r.forEach((function(t){n(t=ut(t)),t.mark=e}))};for(var o in t.marks)r(o);var i;for(var s in t.nodes)i=void 0,(i=t.nodes[s].spec.parseDOM)&&i.forEach((function(t){n(t=ut(t)),t.node=s}));return e},tt.fromSchema=function(t){return t.cached.domParser||(t.cached.domParser=new tt(t,tt.schemaRules(t)))};var et={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},nt={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},rt={ol:!0,ul:!0};function ot(t){return(t?1:0)|("full"===t?2:0)}var it=function(t,e,n,r,o,i,s){this.type=t,this.attrs=e,this.solid=o,this.match=i||(4&s?null:t.contentMatch),this.options=s,this.content=[],this.marks=n,this.activeMarks=l.none,this.pendingMarks=r,this.stashMarks=[]};it.prototype.findWrapping=function(t){if(!this.match){if(!this.type)return[];var e=this.type.contentMatch.fillBefore(i.from(t));if(!e){var n,r=this.type.contentMatch;return(n=r.findWrapping(t.type))?(this.match=r,n):null}this.match=this.type.contentMatch.matchFragment(e)}return this.match.findWrapping(t.type)},it.prototype.finish=function(t){if(!(1&this.options)){var e,n=this.content[this.content.length-1];n&&n.isText&&(e=/[ \t\r\n\u000c]+$/.exec(n.text))&&(n.text.length==e[0].length?this.content.pop():this.content[this.content.length-1]=n.withText(n.text.slice(0,n.text.length-e[0].length)))}var r=i.from(this.content);return!t&&this.match&&(r=r.append(this.match.fillBefore(i.empty,!0))),this.type?this.type.create(this.attrs,r,this.marks):r},it.prototype.popFromStashMark=function(t){for(var e=this.stashMarks.length-1;e>=0;e--)if(t.eq(this.stashMarks[e]))return this.stashMarks.splice(e,1)[0]},it.prototype.applyPending=function(t){for(var e=0,n=this.pendingMarks;e<n.length;e++){var r=n[e];(this.type?this.type.allowsMarkType(r.type):lt(r.type,t))&&!r.isInSet(this.activeMarks)&&(this.activeMarks=r.addToSet(this.activeMarks),this.pendingMarks=r.removeFromSet(this.pendingMarks))}},it.prototype.inlineContext=function(t){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:t.parentNode&&!et.hasOwnProperty(t.parentNode.nodeName.toLowerCase())};var st=function(t,e,n){this.parser=t,this.options=e,this.isOpen=n;var r,o=e.topNode,i=ot(e.preserveWhitespace)|(n?4:0);r=o?new it(o.type,o.attrs,l.none,l.none,!0,e.topMatch||o.type.contentMatch,i):new it(n?null:t.schema.topNodeType,null,l.none,l.none,!0,null,i),this.nodes=[r],this.open=0,this.find=e.findPositions,this.needsBlock=!1},at={top:{configurable:!0},currentPos:{configurable:!0}};function ct(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function ut(t){var e={};for(var n in t)e[n]=t[n];return e}function lt(t,e){var n=e.schema.nodes,r=function(r){var o=n[r];if(o.allowsMarkType(t)){var i=[],s=function(t){i.push(t);for(var n=0;n<t.edgeCount;n++){var r=t.edge(n),o=r.type,a=r.next;if(o==e)return!0;if(i.indexOf(a)<0&&s(a))return!0}};return s(o.contentMatch)?{v:!0}:void 0}};for(var o in n){var i=r(o);if(i)return i.v}}at.top.get=function(){return this.nodes[this.open]},st.prototype.addDOM=function(t){if(3==t.nodeType)this.addTextNode(t);else if(1==t.nodeType){var e=t.getAttribute("style"),n=e?this.readStyles(function(t){var e,n=/\s*([\w-]+)\s*:\s*([^;]+)/g,r=[];for(;e=n.exec(t);)r.push(e[1],e[2].trim());return r}(e)):null,r=this.top;if(null!=n)for(var o=0;o<n.length;o++)this.addPendingMark(n[o]);if(this.addElement(t),null!=n)for(var i=0;i<n.length;i++)this.removePendingMark(n[i],r)}},st.prototype.addTextNode=function(t){var e=t.nodeValue,n=this.top;if(2&n.options||n.inlineContext(t)||/[^ \t\r\n\u000c]/.test(e)){if(1&n.options)e=2&n.options?e.replace(/\r\n?/g,"\n"):e.replace(/\r?\n|\r/g," ");else if(e=e.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(e)&&this.open==this.nodes.length-1){var r=n.content[n.content.length-1],o=t.previousSibling;(!r||o&&"BR"==o.nodeName||r.isText&&/[ \t\r\n\u000c]$/.test(r.text))&&(e=e.slice(1))}e&&this.insertNode(this.parser.schema.text(e)),this.findInText(t)}else this.findInside(t)},st.prototype.addElement=function(t,e){var n,r=t.nodeName.toLowerCase();rt.hasOwnProperty(r)&&this.parser.normalizeLists&&function(t){for(var e=t.firstChild,n=null;e;e=e.nextSibling){var r=1==e.nodeType?e.nodeName.toLowerCase():null;r&&rt.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):"li"==r?n=e:r&&(n=null)}}(t);var o=this.options.ruleFromNode&&this.options.ruleFromNode(t)||(n=this.parser.matchTag(t,this,e));if(o?o.ignore:nt.hasOwnProperty(r))this.findInside(t),this.ignoreFallback(t);else if(!o||o.skip||o.closeParent){o&&o.closeParent?this.open=Math.max(0,this.open-1):o&&o.skip.nodeType&&(t=o.skip);var i,s=this.top,a=this.needsBlock;if(et.hasOwnProperty(r))i=!0,s.type||(this.needsBlock=!0);else if(!t.firstChild)return void this.leafFallback(t);this.addAll(t),i&&this.sync(s),this.needsBlock=a}else this.addElementByRule(t,o,!1===o.consuming?n:null)},st.prototype.leafFallback=function(t){"BR"==t.nodeName&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(t.ownerDocument.createTextNode("\n"))},st.prototype.ignoreFallback=function(t){"BR"!=t.nodeName||this.top.type&&this.top.type.inlineContent||this.findPlace(this.parser.schema.text("-"))},st.prototype.readStyles=function(t){var e=l.none;t:for(var n=0;n<t.length;n+=2)for(var r=null;;){var o=this.parser.matchStyle(t[n],t[n+1],this,r);if(!o)continue t;if(o.ignore)return null;if(e=this.parser.schema.marks[o.mark].create(o.attrs).addToSet(e),!1!==o.consuming)break;r=o}return e},st.prototype.addElementByRule=function(t,e,n){var r,o,i,s=this;e.node?(o=this.parser.schema.nodes[e.node]).isLeaf?this.insertNode(o.create(e.attrs))||this.leafFallback(t):r=this.enter(o,e.attrs,e.preserveWhitespace):(i=this.parser.schema.marks[e.mark].create(e.attrs),this.addPendingMark(i));var a=this.top;if(o&&o.isLeaf)this.findInside(t);else if(n)this.addElement(t,n);else if(e.getContent)this.findInside(t),e.getContent(t,this.parser.schema).forEach((function(t){return s.insertNode(t)}));else{var c=e.contentElement;"string"==typeof c?c=t.querySelector(c):"function"==typeof c&&(c=c(t)),c||(c=t),this.findAround(t,c,!0),this.addAll(c,r)}r&&(this.sync(a),this.open--),i&&this.removePendingMark(i,a)},st.prototype.addAll=function(t,e,n,r){for(var o=n||0,i=n?t.childNodes[n]:t.firstChild,s=null==r?null:t.childNodes[r];i!=s;i=i.nextSibling,++o)this.findAtPoint(t,o),this.addDOM(i),e&&et.hasOwnProperty(i.nodeName.toLowerCase())&&this.sync(e);this.findAtPoint(t,o)},st.prototype.findPlace=function(t){for(var e,n,r=this.open;r>=0;r--){var o=this.nodes[r],i=o.findWrapping(t);if(i&&(!e||e.length>i.length)&&(e=i,n=o,!i.length))break;if(o.solid)break}if(!e)return!1;this.sync(n);for(var s=0;s<e.length;s++)this.enterInner(e[s],null,!1);return!0},st.prototype.insertNode=function(t){if(t.isInline&&this.needsBlock&&!this.top.type){var e=this.textblockFromContext();e&&this.enterInner(e)}if(this.findPlace(t)){this.closeExtra();var n=this.top;n.applyPending(t.type),n.match&&(n.match=n.match.matchType(t.type));for(var r=n.activeMarks,o=0;o<t.marks.length;o++)n.type&&!n.type.allowsMarkType(t.marks[o].type)||(r=t.marks[o].addToSet(r));return n.content.push(t.mark(r)),!0}return!1},st.prototype.enter=function(t,e,n){var r=this.findPlace(t.create(e));return r&&this.enterInner(t,e,!0,n),r},st.prototype.enterInner=function(t,e,n,r){this.closeExtra();var o=this.top;o.applyPending(t),o.match=o.match&&o.match.matchType(t,e);var i=null==r?-5&o.options:ot(r);4&o.options&&0==o.content.length&&(i|=4),this.nodes.push(new it(t,e,o.activeMarks,o.pendingMarks,n,null,i)),this.open++},st.prototype.closeExtra=function(t){var e=this.nodes.length-1;if(e>this.open){for(;e>this.open;e--)this.nodes[e-1].content.push(this.nodes[e].finish(t));this.nodes.length=this.open+1}},st.prototype.finish=function(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)},st.prototype.sync=function(t){for(var e=this.open;e>=0;e--)if(this.nodes[e]==t)return void(this.open=e)},at.currentPos.get=function(){this.closeExtra();for(var t=0,e=this.open;e>=0;e--){for(var n=this.nodes[e].content,r=n.length-1;r>=0;r--)t+=n[r].nodeSize;e&&t++}return t},st.prototype.findAtPoint=function(t,e){if(this.find)for(var n=0;n<this.find.length;n++)this.find[n].node==t&&this.find[n].offset==e&&(this.find[n].pos=this.currentPos)},st.prototype.findInside=function(t){if(this.find)for(var e=0;e<this.find.length;e++)null==this.find[e].pos&&1==t.nodeType&&t.contains(this.find[e].node)&&(this.find[e].pos=this.currentPos)},st.prototype.findAround=function(t,e,n){if(t!=e&&this.find)for(var r=0;r<this.find.length;r++){if(null==this.find[r].pos&&1==t.nodeType&&t.contains(this.find[r].node))e.compareDocumentPosition(this.find[r].node)&(n?2:4)&&(this.find[r].pos=this.currentPos)}},st.prototype.findInText=function(t){if(this.find)for(var e=0;e<this.find.length;e++)this.find[e].node==t&&(this.find[e].pos=this.currentPos-(t.nodeValue.length-this.find[e].offset))},st.prototype.matchesContext=function(t){var e=this;if(t.indexOf("|")>-1)return t.split(/\s*\|\s*/).some(this.matchesContext,this);var n=t.split("/"),r=this.options.context,o=!(this.isOpen||r&&r.parent.type!=this.nodes[0].type),i=-(r?r.depth+1:0)+(o?0:1),s=function(t,a){for(;t>=0;t--){var c=n[t];if(""==c){if(t==n.length-1||0==t)continue;for(;a>=i;a--)if(s(t-1,a))return!0;return!1}var u=a>0||0==a&&o?e.nodes[a].type:r&&a>=i?r.node(a-i).type:null;if(!u||u.name!=c&&-1==u.groups.indexOf(c))return!1;a--}return!0};return s(n.length-1,this.open)},st.prototype.textblockFromContext=function(){var t=this.options.context;if(t)for(var e=t.depth;e>=0;e--){var n=t.node(e).contentMatchAt(t.indexAfter(e)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(var r in this.parser.schema.nodes){var o=this.parser.schema.nodes[r];if(o.isTextblock&&o.defaultAttrs)return o}},st.prototype.addPendingMark=function(t){var e=function(t,e){for(var n=0;n<e.length;n++)if(t.eq(e[n]))return e[n]}(t,this.top.pendingMarks);e&&this.top.stashMarks.push(e),this.top.pendingMarks=t.addToSet(this.top.pendingMarks)},st.prototype.removePendingMark=function(t,e){for(var n=this.open;n>=0;n--){var r=this.nodes[n];if(r.pendingMarks.lastIndexOf(t)>-1)r.pendingMarks=t.removeFromSet(r.pendingMarks);else{r.activeMarks=t.removeFromSet(r.activeMarks);var o=r.popFromStashMark(t);o&&r.type&&r.type.allowsMarkType(o.type)&&(r.activeMarks=o.addToSet(r.activeMarks))}if(r==e)break}},Object.defineProperties(st.prototype,at);var pt=function(t,e){this.nodes=t||{},this.marks=e||{}};function ft(t){var e={};for(var n in t){var r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function dt(t){return t.document||window.document}pt.prototype.serializeFragment=function(t,e,n){var r=this;void 0===e&&(e={}),n||(n=dt(e).createDocumentFragment());var o=n,i=null;return t.forEach((function(t){if(i||t.marks.length){i||(i=[]);for(var n=0,s=0;n<i.length&&s<t.marks.length;){var a=t.marks[s];if(r.marks[a.type.name]){if(!a.eq(i[n])||!1===a.type.spec.spanning)break;n+=2,s++}else s++}for(;n<i.length;)o=i.pop(),i.pop();for(;s<t.marks.length;){var c=t.marks[s++],u=r.serializeMark(c,t.isInline,e);u&&(i.push(c,o),o.appendChild(u.dom),o=u.contentDOM||u.dom)}}o.appendChild(r.serializeNodeInner(t,e))})),n},pt.prototype.serializeNodeInner=function(t,e){void 0===e&&(e={});var n=pt.renderSpec(dt(e),this.nodes[t.type.name](t)),r=n.dom,o=n.contentDOM;if(o){if(t.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");e.onContent?e.onContent(t,o,e):this.serializeFragment(t.content,e,o)}return r},pt.prototype.serializeNode=function(t,e){void 0===e&&(e={});for(var n=this.serializeNodeInner(t,e),r=t.marks.length-1;r>=0;r--){var o=this.serializeMark(t.marks[r],t.isInline,e);o&&((o.contentDOM||o.dom).appendChild(n),n=o.dom)}return n},pt.prototype.serializeMark=function(t,e,n){void 0===n&&(n={});var r=this.marks[t.type.name];return r&&pt.renderSpec(dt(n),r(t,e))},pt.renderSpec=function(t,e,n){if(void 0===n&&(n=null),"string"==typeof e)return{dom:t.createTextNode(e)};if(null!=e.nodeType)return{dom:e};if(e.dom&&null!=e.dom.nodeType)return e;var r=e[0],o=r.indexOf(" ");o>0&&(n=r.slice(0,o),r=r.slice(o+1));var i=null,s=n?t.createElementNS(n,r):t.createElement(r),a=e[1],c=1;if(a&&"object"==typeof a&&null==a.nodeType&&!Array.isArray(a))for(var u in c=2,a)if(null!=a[u]){var l=u.indexOf(" ");l>0?s.setAttributeNS(u.slice(0,l),u.slice(l+1),a[u]):s.setAttribute(u,a[u])}for(var p=c;p<e.length;p++){var f=e[p];if(0===f){if(p<e.length-1||p>c)throw new RangeError("Content hole must be the only child of its parent node");return{dom:s,contentDOM:s}}var d=pt.renderSpec(t,f,n),h=d.dom,m=d.contentDOM;if(s.appendChild(h),m){if(i)throw new RangeError("Multiple content holes");i=m}}return{dom:s,contentDOM:i}},pt.fromSchema=function(t){return t.cached.domSerializer||(t.cached.domSerializer=new pt(this.nodesFromSchema(t),this.marksFromSchema(t)))},pt.nodesFromSchema=function(t){var e=ft(t.nodes);return e.text||(e.text=function(t){return t.text}),e},pt.marksFromSchema=function(t){return ft(t.marks)};var ht=Math.pow(2,16);function mt(t){return 65535&t}var vt=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=null),this.pos=t,this.deleted=e,this.recover=n},gt=function(t,e){void 0===e&&(e=!1),this.ranges=t,this.inverted=e};gt.prototype.recover=function(t){var e=0,n=mt(t);if(!this.inverted)for(var r=0;r<n;r++)e+=this.ranges[3*r+2]-this.ranges[3*r+1];return this.ranges[3*n]+e+function(t){return(t-(65535&t))/ht}(t)},gt.prototype.mapResult=function(t,e){return void 0===e&&(e=1),this._map(t,e,!1)},gt.prototype.map=function(t,e){return void 0===e&&(e=1),this._map(t,e,!0)},gt.prototype._map=function(t,e,n){for(var r=0,o=this.inverted?2:1,i=this.inverted?1:2,s=0;s<this.ranges.length;s+=3){var a=this.ranges[s]-(this.inverted?r:0);if(a>t)break;var c=this.ranges[s+o],u=this.ranges[s+i],l=a+c;if(t<=l){var p=a+r+((c?t==a?-1:t==l?1:e:e)<0?0:u);if(n)return p;var f=t==(e<0?a:l)?null:s/3+(t-a)*ht;return new vt(p,e<0?t!=a:t!=l,f)}r+=u-c}return n?t+r:new vt(t+r)},gt.prototype.touches=function(t,e){for(var n=0,r=mt(e),o=this.inverted?2:1,i=this.inverted?1:2,s=0;s<this.ranges.length;s+=3){var a=this.ranges[s]-(this.inverted?n:0);if(a>t)break;var c=this.ranges[s+o];if(t<=a+c&&s==3*r)return!0;n+=this.ranges[s+i]-c}return!1},gt.prototype.forEach=function(t){for(var e=this.inverted?2:1,n=this.inverted?1:2,r=0,o=0;r<this.ranges.length;r+=3){var i=this.ranges[r],s=i-(this.inverted?o:0),a=i+(this.inverted?0:o),c=this.ranges[r+e],u=this.ranges[r+n];t(s,s+c,a,a+u),o+=u-c}},gt.prototype.invert=function(){return new gt(this.ranges,!this.inverted)},gt.prototype.toString=function(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)},gt.offset=function(t){return 0==t?gt.empty:new gt(t<0?[0,-t,0]:[0,0,t])},gt.empty=new gt([]);var yt=function(t,e,n,r){this.maps=t||[],this.from=n||0,this.to=null==r?this.maps.length:r,this.mirror=e};function bt(t){var e=Error.call(this,t);return e.__proto__=bt.prototype,e}yt.prototype.slice=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=this.maps.length),new yt(this.maps,this.mirror,t,e)},yt.prototype.copy=function(){return new yt(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)},yt.prototype.appendMap=function(t,e){this.to=this.maps.push(t),null!=e&&this.setMirror(this.maps.length-1,e)},yt.prototype.appendMapping=function(t){for(var e=0,n=this.maps.length;e<t.maps.length;e++){var r=t.getMirror(e);this.appendMap(t.maps[e],null!=r&&r<e?n+r:null)}},yt.prototype.getMirror=function(t){if(this.mirror)for(var e=0;e<this.mirror.length;e++)if(this.mirror[e]==t)return this.mirror[e+(e%2?-1:1)]},yt.prototype.setMirror=function(t,e){this.mirror||(this.mirror=[]),this.mirror.push(t,e)},yt.prototype.appendMappingInverted=function(t){for(var e=t.maps.length-1,n=this.maps.length+t.maps.length;e>=0;e--){var r=t.getMirror(e);this.appendMap(t.maps[e].invert(),null!=r&&r>e?n-r-1:null)}},yt.prototype.invert=function(){var t=new yt;return t.appendMappingInverted(this),t},yt.prototype.map=function(t,e){if(void 0===e&&(e=1),this.mirror)return this._map(t,e,!0);for(var n=this.from;n<this.to;n++)t=this.maps[n].map(t,e);return t},yt.prototype.mapResult=function(t,e){return void 0===e&&(e=1),this._map(t,e,!1)},yt.prototype._map=function(t,e,n){for(var r=!1,o=this.from;o<this.to;o++){var i=this.maps[o].mapResult(t,e);if(null!=i.recover){var s=this.getMirror(o);if(null!=s&&s>o&&s<this.to){o=s,t=this.maps[s].recover(i.recover);continue}}i.deleted&&(r=!0),t=i.pos}return n?t:new vt(t,r)},bt.prototype=Object.create(Error.prototype),bt.prototype.constructor=bt,bt.prototype.name="TransformError";var wt=function(t){this.doc=t,this.steps=[],this.docs=[],this.mapping=new yt},xt={before:{configurable:!0},docChanged:{configurable:!0}};function _t(){throw new Error("Override me")}xt.before.get=function(){return this.docs.length?this.docs[0]:this.doc},wt.prototype.step=function(t){var e=this.maybeStep(t);if(e.failed)throw new bt(e.failed);return this},wt.prototype.maybeStep=function(t){var e=t.apply(this.doc);return e.failed||this.addStep(t,e.doc),e},xt.docChanged.get=function(){return this.steps.length>0},wt.prototype.addStep=function(t,e){this.docs.push(this.doc),this.steps.push(t),this.mapping.appendMap(t.getMap()),this.doc=e},Object.defineProperties(wt.prototype,xt);var Ot=Object.create(null),kt=function(){};kt.prototype.apply=function(t){return _t()},kt.prototype.getMap=function(){return gt.empty},kt.prototype.invert=function(t){return _t()},kt.prototype.map=function(t){return _t()},kt.prototype.merge=function(t){return null},kt.prototype.toJSON=function(){return _t()},kt.fromJSON=function(t,e){if(!e||!e.stepType)throw new RangeError("Invalid input for Step.fromJSON");var n=Ot[e.stepType];if(!n)throw new RangeError("No step type "+e.stepType+" defined");return n.fromJSON(t,e)},kt.jsonID=function(t,e){if(t in Ot)throw new RangeError("Duplicate use of step JSON ID "+t);return Ot[t]=e,e.prototype.jsonID=t,e};var St=function(t,e){this.doc=t,this.failed=e};St.ok=function(t){return new St(t,null)},St.fail=function(t){return new St(null,t)},St.fromReplace=function(t,e,n,r){try{return St.ok(t.replace(e,n,r))}catch(t){if(t instanceof p)return St.fail(t.message);throw t}};var Ct=function(t){function e(e,n,r,o){t.call(this),this.from=e,this.to=n,this.slice=r,this.structure=!!o}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(t){return this.structure&&Et(t,this.from,this.to)?St.fail("Structure replace would overwrite content"):St.fromReplace(t,this.from,this.to,this.slice)},e.prototype.getMap=function(){return new gt([this.from,this.to-this.from,this.slice.size])},e.prototype.invert=function(t){return new e(this.from,this.from+this.slice.size,t.slice(this.from,this.to))},e.prototype.map=function(t){var n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted?null:new e(n.pos,Math.max(n.pos,r.pos),this.slice)},e.prototype.merge=function(t){if(!(t instanceof e)||t.structure||this.structure)return null;if(this.from+this.slice.size!=t.from||this.slice.openEnd||t.slice.openStart){if(t.to!=this.from||this.slice.openStart||t.slice.openEnd)return null;var n=this.slice.size+t.slice.size==0?f.empty:new f(t.slice.content.append(this.slice.content),t.slice.openStart,this.slice.openEnd);return new e(t.from,this.to,n,this.structure)}var r=this.slice.size+t.slice.size==0?f.empty:new f(this.slice.content.append(t.slice.content),this.slice.openStart,t.slice.openEnd);return new e(this.from,this.to+(t.to-t.from),r,this.structure)},e.prototype.toJSON=function(){var t={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t},e.fromJSON=function(t,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new e(n.from,n.to,f.fromJSON(t,n.slice),!!n.structure)},e}(kt);kt.jsonID("replace",Ct);var Mt=function(t){function e(e,n,r,o,i,s,a){t.call(this),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=o,this.slice=i,this.insert=s,this.structure=!!a}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(t){if(this.structure&&(Et(t,this.from,this.gapFrom)||Et(t,this.gapTo,this.to)))return St.fail("Structure gap-replace would overwrite content");var e=t.slice(this.gapFrom,this.gapTo);if(e.openStart||e.openEnd)return St.fail("Gap is not a flat range");var n=this.slice.insertAt(this.insert,e.content);return n?St.fromReplace(t,this.from,this.to,n):St.fail("Content does not fit in gap")},e.prototype.getMap=function(){return new gt([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])},e.prototype.invert=function(t){var n=this.gapTo-this.gapFrom;return new e(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,t.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)},e.prototype.map=function(t){var n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1),o=t.map(this.gapFrom,-1),i=t.map(this.gapTo,1);return n.deleted&&r.deleted||o<n.pos||i>r.pos?null:new e(n.pos,r.pos,o,i,this.slice,this.insert,this.structure)},e.prototype.toJSON=function(){var t={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(t.slice=this.slice.toJSON()),this.structure&&(t.structure=!0),t},e.fromJSON=function(t,n){if("number"!=typeof n.from||"number"!=typeof n.to||"number"!=typeof n.gapFrom||"number"!=typeof n.gapTo||"number"!=typeof n.insert)throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new e(n.from,n.to,n.gapFrom,n.gapTo,f.fromJSON(t,n.slice),n.insert,!!n.structure)},e}(kt);function Et(t,e,n){for(var r=t.resolve(e),o=n-e,i=r.depth;o>0&&i>0&&r.indexAfter(i)==r.node(i).childCount;)i--,o--;if(o>0)for(var s=r.node(i).maybeChild(r.indexAfter(i));o>0;){if(!s||s.isLeaf)return!0;s=s.firstChild,o--}return!1}function Tt(t,e,n){return(0==e||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function At(t){for(var e=t.parent.content.cutByIndex(t.startIndex,t.endIndex),n=t.depth;;--n){var r=t.$from.node(n),o=t.$from.index(n),i=t.$to.indexAfter(n);if(n<t.depth&&r.canReplace(o,i,e))return n;if(0==n||r.type.spec.isolating||!Tt(r,o,i))break}}function jt(t,e,n,r){void 0===r&&(r=t);var o=function(t,e){var n=t.parent,r=t.startIndex,o=t.endIndex,i=n.contentMatchAt(r).findWrapping(e);if(!i)return null;var s=i.length?i[0]:e;return n.canReplaceWith(r,o,s)?i:null}(t,e),i=o&&function(t,e){var n=t.parent,r=t.startIndex,o=t.endIndex,i=n.child(r),s=e.contentMatch.findWrapping(i.type);if(!s)return null;for(var a=(s.length?s[s.length-1]:e).contentMatch,c=r;a&&c<o;c++)a=a.matchType(n.child(c).type);if(!a||!a.validEnd)return null;return s}(r,e);return i?o.map($t).concat({type:e,attrs:n}).concat(i.map($t)):null}function $t(t){return{type:t,attrs:null}}function Nt(t,e,n,r){void 0===n&&(n=1);var o=t.resolve(e),i=o.depth-n,s=r&&r[r.length-1]||o.parent;if(i<0||o.parent.type.spec.isolating||!o.parent.canReplace(o.index(),o.parent.childCount)||!s.type.validContent(o.parent.content.cutByIndex(o.index(),o.parent.childCount)))return!1;for(var a=o.depth-1,c=n-2;a>i;a--,c--){var u=o.node(a),l=o.index(a);if(u.type.spec.isolating)return!1;var p=u.content.cutByIndex(l,u.childCount),f=r&&r[c]||u;if(f!=u&&(p=p.replaceChild(0,f.type.create(f.attrs))),!u.canReplace(l+1,u.childCount)||!f.type.validContent(p))return!1}var d=o.indexAfter(i),h=r&&r[0];return o.node(i).canReplaceWith(d,d,h?h.type:o.node(i+1).type)}function Dt(t,e){var n=t.resolve(e),r=n.index();return Pt(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function Pt(t,e){return t&&e&&!t.isLeaf&&t.canAppend(e)}function Lt(t,e,n){var r=t.resolve(e);if(!n.content.size)return e;for(var o=n.content,i=0;i<n.openStart;i++)o=o.firstChild.content;for(var s=1;s<=(0==n.openStart&&n.size?2:1);s++)for(var a=r.depth;a>=0;a--){var c=a==r.depth?0:r.pos<=(r.start(a+1)+r.end(a+1))/2?-1:1,u=r.index(a)+(c>0?1:0),l=r.node(a),p=!1;if(1==s)p=l.canReplace(u,u,o);else{var f=l.contentMatchAt(u).findWrapping(o.firstChild.type);p=f&&l.canReplaceWith(u,u,f[0])}if(p)return 0==c?r.pos:c<0?r.before(a+1):r.after(a+1)}return null}function It(t,e,n){for(var r=[],o=0;o<t.childCount;o++){var s=t.child(o);s.content.size&&(s=s.copy(It(s.content,e,s))),s.isInline&&(s=e(s,n,o)),r.push(s)}return i.fromArray(r)}kt.jsonID("replaceAround",Mt),wt.prototype.lift=function(t,e){for(var n=t.$from,r=t.$to,o=t.depth,s=n.before(o+1),a=r.after(o+1),c=s,u=a,l=i.empty,p=0,d=o,h=!1;d>e;d--)h||n.index(d)>0?(h=!0,l=i.from(n.node(d).copy(l)),p++):c--;for(var m=i.empty,v=0,g=o,y=!1;g>e;g--)y||r.after(g+1)<r.end(g)?(y=!0,m=i.from(r.node(g).copy(m)),v++):u++;return this.step(new Mt(c,u,s,a,new f(l.append(m),p,v),l.size-p,!0))},wt.prototype.wrap=function(t,e){for(var n=i.empty,r=e.length-1;r>=0;r--)n=i.from(e[r].type.create(e[r].attrs,n));var o=t.start,s=t.end;return this.step(new Mt(o,s,o,s,new f(n,0,0),e.length,!0))},wt.prototype.setBlockType=function(t,e,n,r){var o=this;if(void 0===e&&(e=t),!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");var s=this.steps.length;return this.doc.nodesBetween(t,e,(function(t,e){if(t.isTextblock&&!t.hasMarkup(n,r)&&function(t,e,n){var r=t.resolve(e),o=r.index();return r.parent.canReplaceWith(o,o+1,n)}(o.doc,o.mapping.slice(s).map(e),n)){o.clearIncompatible(o.mapping.slice(s).map(e,1),n);var a=o.mapping.slice(s),c=a.map(e,1),u=a.map(e+t.nodeSize,1);return o.step(new Mt(c,u,c+1,u-1,new f(i.from(n.create(r,null,t.marks)),0,0),1,!0)),!1}})),this},wt.prototype.setNodeMarkup=function(t,e,n,r){var o=this.doc.nodeAt(t);if(!o)throw new RangeError("No node at given position");e||(e=o.type);var s=e.create(n,null,r||o.marks);if(o.isLeaf)return this.replaceWith(t,t+o.nodeSize,s);if(!e.validContent(o.content))throw new RangeError("Invalid content for node type "+e.name);return this.step(new Mt(t,t+o.nodeSize,t+1,t+o.nodeSize-1,new f(i.from(s),0,0),1,!0))},wt.prototype.split=function(t,e,n){void 0===e&&(e=1);for(var r=this.doc.resolve(t),o=i.empty,s=i.empty,a=r.depth,c=r.depth-e,u=e-1;a>c;a--,u--){o=i.from(r.node(a).copy(o));var l=n&&n[u];s=i.from(l?l.type.create(l.attrs,s):r.node(a).copy(s))}return this.step(new Ct(t,t,new f(o.append(s),e,e),!0))},wt.prototype.join=function(t,e){void 0===e&&(e=1);var n=new Ct(t-e,t+e,f.empty,!0);return this.step(n)};var Rt=function(t){function e(e,n,r){t.call(this),this.from=e,this.to=n,this.mark=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(t){var e=this,n=t.slice(this.from,this.to),r=t.resolve(this.from),o=r.node(r.sharedDepth(this.to)),i=new f(It(n.content,(function(t,n){return t.isAtom&&n.type.allowsMarkType(e.mark.type)?t.mark(e.mark.addToSet(t.marks)):t}),o),n.openStart,n.openEnd);return St.fromReplace(t,this.from,this.to,i)},e.prototype.invert=function(){return new zt(this.from,this.to,this.mark)},e.prototype.map=function(t){var n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new e(n.pos,r.pos,this.mark)},e.prototype.merge=function(t){if(t instanceof e&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from)return new e(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark)},e.prototype.toJSON=function(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},e.fromJSON=function(t,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new e(n.from,n.to,t.markFromJSON(n.mark))},e}(kt);kt.jsonID("addMark",Rt);var zt=function(t){function e(e,n,r){t.call(this),this.from=e,this.to=n,this.mark=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.apply=function(t){var e=this,n=t.slice(this.from,this.to),r=new f(It(n.content,(function(t){return t.mark(e.mark.removeFromSet(t.marks))})),n.openStart,n.openEnd);return St.fromReplace(t,this.from,this.to,r)},e.prototype.invert=function(){return new Rt(this.from,this.to,this.mark)},e.prototype.map=function(t){var n=t.mapResult(this.from,1),r=t.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new e(n.pos,r.pos,this.mark)},e.prototype.merge=function(t){if(t instanceof e&&t.mark.eq(this.mark)&&this.from<=t.to&&this.to>=t.from)return new e(Math.min(this.from,t.from),Math.max(this.to,t.to),this.mark)},e.prototype.toJSON=function(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}},e.fromJSON=function(t,n){if("number"!=typeof n.from||"number"!=typeof n.to)throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new e(n.from,n.to,t.markFromJSON(n.mark))},e}(kt);function Bt(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}kt.jsonID("removeMark",zt),wt.prototype.addMark=function(t,e,n){var r=this,o=[],i=[],s=null,a=null;return this.doc.nodesBetween(t,e,(function(r,c,u){if(r.isInline){var l=r.marks;if(!n.isInSet(l)&&u.type.allowsMarkType(n.type)){for(var p=Math.max(c,t),f=Math.min(c+r.nodeSize,e),d=n.addToSet(l),h=0;h<l.length;h++)l[h].isInSet(d)||(s&&s.to==p&&s.mark.eq(l[h])?s.to=f:o.push(s=new zt(p,f,l[h])));a&&a.to==p?a.to=f:i.push(a=new Rt(p,f,n))}}})),o.forEach((function(t){return r.step(t)})),i.forEach((function(t){return r.step(t)})),this},wt.prototype.removeMark=function(t,e,n){var r=this;void 0===n&&(n=null);var o=[],i=0;return this.doc.nodesBetween(t,e,(function(r,s){if(r.isInline){i++;var a=null;if(n instanceof X)for(var c,u=r.marks;c=n.isInSet(u);)(a||(a=[])).push(c),u=c.removeFromSet(u);else n?n.isInSet(r.marks)&&(a=[n]):a=r.marks;if(a&&a.length)for(var l=Math.min(s+r.nodeSize,e),p=0;p<a.length;p++){for(var f=a[p],d=void 0,h=0;h<o.length;h++){var m=o[h];m.step==i-1&&f.eq(o[h].style)&&(d=m)}d?(d.to=l,d.step=i):o.push({style:f,from:Math.max(s,t),to:l,step:i})}}})),o.forEach((function(t){return r.step(new zt(t.from,t.to,t.style))})),this},wt.prototype.clearIncompatible=function(t,e,n){void 0===n&&(n=e.contentMatch);for(var r=this.doc.nodeAt(t),o=[],s=t+1,a=0;a<r.childCount;a++){var c=r.child(a),u=s+c.nodeSize,l=n.matchType(c.type,c.attrs);if(l){n=l;for(var p=0;p<c.marks.length;p++)e.allowsMarkType(c.marks[p].type)||this.step(new zt(s,u,c.marks[p]))}else o.push(new Ct(s,u,f.empty));s=u}if(!n.validEnd){var d=n.fillBefore(i.empty,!0);this.replace(s,s,new f(d,0,0))}for(var h=o.length-1;h>=0;h--)this.step(o[h]);return this},wt.prototype.replace=function(t,e,n){void 0===e&&(e=t),void 0===n&&(n=f.empty);var r=function(t,e,n,r){if(void 0===n&&(n=e),void 0===r&&(r=f.empty),e==n&&!r.size)return null;var o=t.resolve(e),i=t.resolve(n);return Bt(o,i,r)?new Ct(e,n,r):new Ft(o,i,r).fit()}(this.doc,t,e,n);return r&&this.step(r),this},wt.prototype.replaceWith=function(t,e,n){return this.replace(t,e,new f(i.from(n),0,0))},wt.prototype.delete=function(t,e){return this.replace(t,e,f.empty)},wt.prototype.insert=function(t,e){return this.replaceWith(t,t,e)};var Ft=function(t,e,n){this.$to=e,this.$from=t,this.unplaced=n,this.frontier=[];for(var r=0;r<=t.depth;r++){var o=t.node(r);this.frontier.push({type:o.type,match:o.contentMatchAt(t.indexAfter(r))})}this.placed=i.empty;for(var s=t.depth;s>0;s--)this.placed=i.from(t.node(s).copy(this.placed))},Vt={depth:{configurable:!0}};function Ht(t,e,n){return 0==e?t.cutByIndex(n):t.replaceChild(0,t.firstChild.copy(Ht(t.firstChild.content,e-1,n)))}function Ut(t,e,n){return 0==e?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(Ut(t.lastChild.content,e-1,n)))}function qt(t,e){for(var n=0;n<e;n++)t=t.firstChild.content;return t}function Wt(t,e,n){if(e<=0)return t;var r=t.content;return e>1&&(r=r.replaceChild(0,Wt(r.firstChild,e-1,1==r.childCount?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(i.empty,!0)))),t.copy(r)}function Jt(t,e,n,r,o){var i=t.node(e),s=o?t.indexAfter(e):t.index(e);if(s==i.childCount&&!n.compatibleContent(i.type))return null;var a=r.fillBefore(i.content,!0,s);return a&&!function(t,e,n){for(var r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}(n,i.content,s)?a:null}function Kt(t,e,n,r,o){if(e<n){var s=t.firstChild;t=t.replaceChild(0,s.copy(Kt(s.content,e+1,n,r,s)))}if(e>r){var a=o.contentMatchAt(0),c=a.fillBefore(t).append(t);t=c.append(a.matchFragment(c).fillBefore(i.empty,!0))}return t}function Gt(t,e){for(var n=[],r=Math.min(t.depth,e.depth);r>=0;r--){var o=t.start(r);if(o<t.pos-(t.depth-r)||e.end(r)>e.pos+(e.depth-r)||t.node(r).type.spec.isolating||e.node(r).type.spec.isolating)break;o==e.start(r)&&n.push(r)}return n}Vt.depth.get=function(){return this.frontier.length-1},Ft.prototype.fit=function(){for(;this.unplaced.size;){var t=this.findFittable();t?this.placeNodes(t):this.openMore()||this.dropNode()}var e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,o=this.close(e<0?this.$to:r.doc.resolve(e));if(!o)return null;for(var i=this.placed,s=r.depth,a=o.depth;s&&a&&1==i.childCount;)i=i.firstChild.content,s--,a--;var c=new f(i,s,a);return e>-1?new Mt(r.pos,e,this.$to.pos,this.$to.end(),c,n):c.size||r.pos!=this.$to.pos?new Ct(r.pos,o.pos,c):void 0},Ft.prototype.findFittable=function(){for(var t=1;t<=2;t++)for(var e=this.unplaced.openStart;e>=0;e--)for(var n=void 0,r=(e?(n=qt(this.unplaced.content,e-1).firstChild).content:this.unplaced.content).firstChild,o=this.depth;o>=0;o--){var s=this.frontier[o],a=s.type,c=s.match,u=void 0,l=void 0;if(1==t&&(r?c.matchType(r.type)||(l=c.fillBefore(i.from(r),!1)):a.compatibleContent(n.type)))return{sliceDepth:e,frontierDepth:o,parent:n,inject:l};if(2==t&&r&&(u=c.findWrapping(r.type)))return{sliceDepth:e,frontierDepth:o,parent:n,wrap:u};if(n&&c.matchType(n.type))break}},Ft.prototype.openMore=function(){var t=this.unplaced,e=t.content,n=t.openStart,r=t.openEnd,o=qt(e,n);return!(!o.childCount||o.firstChild.isLeaf)&&(this.unplaced=new f(e,n+1,Math.max(r,o.size+n>=e.size-r?n+1:0)),!0)},Ft.prototype.dropNode=function(){var t=this.unplaced,e=t.content,n=t.openStart,r=t.openEnd,o=qt(e,n);if(o.childCount<=1&&n>0){var i=e.size-n<=n+o.size;this.unplaced=new f(Ht(e,n-1,1),n-1,i?n-1:r)}else this.unplaced=new f(Ht(e,n,1),n,r)},Ft.prototype.placeNodes=function(t){for(var e=t.sliceDepth,n=t.frontierDepth,r=t.parent,o=t.inject,s=t.wrap;this.depth>n;)this.closeFrontierNode();if(s)for(var a=0;a<s.length;a++)this.openFrontierNode(s[a]);var c=this.unplaced,u=r?r.content:c.content,l=c.openStart-e,p=0,d=[],h=this.frontier[n],m=h.match,v=h.type;if(o){for(var g=0;g<o.childCount;g++)d.push(o.child(g));m=m.matchFragment(o)}for(var y=u.size+e-(c.content.size-c.openEnd);p<u.childCount;){var b=u.child(p),w=m.matchType(b.type);if(!w)break;(++p>1||0==l||b.content.size)&&(m=w,d.push(Wt(b.mark(v.allowedMarks(b.marks)),1==p?l:0,p==u.childCount?y:-1)))}var x=p==u.childCount;x||(y=-1),this.placed=Ut(this.placed,n,i.from(d)),this.frontier[n].match=m,x&&y<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(var _=0,O=u;_<y;_++){var k=O.lastChild;this.frontier.push({type:k.type,match:k.contentMatchAt(k.childCount)}),O=k.content}this.unplaced=x?0==e?f.empty:new f(Ht(c.content,e-1,1),e-1,y<0?c.openEnd:e-1):new f(Ht(c.content,e,p),c.openStart,c.openEnd)},Ft.prototype.mustMoveInline=function(){if(!this.$to.parent.isTextblock||this.$to.end()==this.$to.pos)return-1;var t,e=this.frontier[this.depth];if(!e.type.isTextblock||!Jt(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(t=this.findCloseLevel(this.$to))&&t.depth==this.depth)return-1;for(var n=this.$to.depth,r=this.$to.after(n);n>1&&r==this.$to.end(--n);)++r;return r},Ft.prototype.findCloseLevel=function(t){t:for(var e=Math.min(this.depth,t.depth);e>=0;e--){var n=this.frontier[e],r=n.match,o=n.type,i=e<t.depth&&t.end(e+1)==t.pos+(t.depth-(e+1)),s=Jt(t,e,o,r,i);if(s){for(var a=e-1;a>=0;a--){var c=this.frontier[a],u=c.match,l=Jt(t,a,c.type,u,!0);if(!l||l.childCount)continue t}return{depth:e,fit:s,move:i?t.doc.resolve(t.after(e+1)):t}}}},Ft.prototype.close=function(t){var e=this.findCloseLevel(t);if(!e)return null;for(;this.depth>e.depth;)this.closeFrontierNode();e.fit.childCount&&(this.placed=Ut(this.placed,e.depth,e.fit)),t=e.move;for(var n=e.depth+1;n<=t.depth;n++){var r=t.node(n),o=r.type.contentMatch.fillBefore(r.content,!0,t.index(n));this.openFrontierNode(r.type,r.attrs,o)}return t},Ft.prototype.openFrontierNode=function(t,e,n){var r=this.frontier[this.depth];r.match=r.match.matchType(t),this.placed=Ut(this.placed,this.depth,i.from(t.create(e,n))),this.frontier.push({type:t,match:t.contentMatch})},Ft.prototype.closeFrontierNode=function(){var t=this.frontier.pop().match.fillBefore(i.empty,!0);t.childCount&&(this.placed=Ut(this.placed,this.frontier.length,t))},Object.defineProperties(Ft.prototype,Vt),wt.prototype.replaceRange=function(t,e,n){if(!n.size)return this.deleteRange(t,e);var r=this.doc.resolve(t),o=this.doc.resolve(e);if(Bt(r,o,n))return this.step(new Ct(t,e,n));var i=Gt(r,this.doc.resolve(e));0==i[i.length-1]&&i.pop();var s=-(r.depth+1);i.unshift(s);for(var a=r.depth,c=r.pos-1;a>0;a--,c--){var u=r.node(a).type.spec;if(u.defining||u.isolating)break;i.indexOf(a)>-1?s=a:r.before(a)==c&&i.splice(1,0,-a)}for(var l=i.indexOf(s),p=[],d=n.openStart,h=n.content,m=0;;m++){var v=h.firstChild;if(p.push(v),m==n.openStart)break;h=v.content}d>0&&p[d-1].type.spec.defining&&r.node(l).type!=p[d-1].type?d-=1:d>=2&&p[d-1].isTextblock&&p[d-2].type.spec.defining&&r.node(l).type!=p[d-2].type&&(d-=2);for(var g=n.openStart;g>=0;g--){var y=(g+d+1)%(n.openStart+1),b=p[y];if(b)for(var w=0;w<i.length;w++){var x=i[(w+l)%i.length],_=!0;x<0&&(_=!1,x=-x);var O=r.node(x-1),k=r.index(x-1);if(O.canReplaceWith(k,k,b.type,b.marks))return this.replace(r.before(x),_?o.after(x):e,new f(Kt(n.content,0,n.openStart,y),y,n.openEnd))}}for(var S=this.steps.length,C=i.length-1;C>=0&&(this.replace(t,e,n),!(this.steps.length>S));C--){var M=i[C];M<0||(t=r.before(M),e=o.after(M))}return this},wt.prototype.replaceRangeWith=function(t,e,n){if(!n.isInline&&t==e&&this.doc.resolve(t).parent.content.size){var r=function(t,e,n){var r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(0==r.parentOffset)for(var o=r.depth-1;o>=0;o--){var i=r.index(o);if(r.node(o).canReplaceWith(i,i,n))return r.before(o+1);if(i>0)return null}if(r.parentOffset==r.parent.content.size)for(var s=r.depth-1;s>=0;s--){var a=r.indexAfter(s);if(r.node(s).canReplaceWith(a,a,n))return r.after(s+1);if(a<r.node(s).childCount)return null}}(this.doc,t,n.type);null!=r&&(t=e=r)}return this.replaceRange(t,e,new f(i.from(n),0,0))},wt.prototype.deleteRange=function(t,e){for(var n=this.doc.resolve(t),r=this.doc.resolve(e),o=Gt(n,r),i=0;i<o.length;i++){var s=o[i],a=i==o.length-1;if(a&&0==s||n.node(s).type.contentMatch.validEnd)return this.delete(n.start(s),r.end(s));if(s>0&&(a||n.node(s-1).canReplace(n.index(s-1),r.indexAfter(s-1))))return this.delete(n.before(s),r.after(s))}for(var c=1;c<=n.depth&&c<=r.depth;c++)if(t-n.start(c)==n.depth-c&&e>n.end(c)&&r.end(c)-e!=r.depth-c)return this.delete(n.before(c),e);return this.delete(t,e)};var Yt=Object.create(null),Xt=function(t,e,n){this.ranges=n||[new Qt(t.min(e),t.max(e))],this.$anchor=t,this.$head=e},Zt={anchor:{configurable:!0},head:{configurable:!0},from:{configurable:!0},to:{configurable:!0},$from:{configurable:!0},$to:{configurable:!0},empty:{configurable:!0}};Zt.anchor.get=function(){return this.$anchor.pos},Zt.head.get=function(){return this.$head.pos},Zt.from.get=function(){return this.$from.pos},Zt.to.get=function(){return this.$to.pos},Zt.$from.get=function(){return this.ranges[0].$from},Zt.$to.get=function(){return this.ranges[0].$to},Zt.empty.get=function(){for(var t=this.ranges,e=0;e<t.length;e++)if(t[e].$from.pos!=t[e].$to.pos)return!1;return!0},Xt.prototype.content=function(){return this.$from.node(0).slice(this.from,this.to,!0)},Xt.prototype.replace=function(t,e){void 0===e&&(e=f.empty);for(var n=e.content.lastChild,r=null,o=0;o<e.openEnd;o++)r=n,n=n.lastChild;for(var i=t.steps.length,s=this.ranges,a=0;a<s.length;a++){var c=s[a],u=c.$from,l=c.$to,p=t.mapping.slice(i);t.replaceRange(p.map(u.pos),p.map(l.pos),a?f.empty:e),0==a&&ae(t,i,(n?n.isInline:r&&r.isTextblock)?-1:1)}},Xt.prototype.replaceWith=function(t,e){for(var n=t.steps.length,r=this.ranges,o=0;o<r.length;o++){var i=r[o],s=i.$from,a=i.$to,c=t.mapping.slice(n),u=c.map(s.pos),l=c.map(a.pos);o?t.deleteRange(u,l):(t.replaceRangeWith(u,l,e),ae(t,n,e.isInline?-1:1))}},Xt.findFrom=function(t,e,n){var r=t.parent.inlineContent?new te(t):se(t.node(0),t.parent,t.pos,t.index(),e,n);if(r)return r;for(var o=t.depth-1;o>=0;o--){var i=e<0?se(t.node(0),t.node(o),t.before(o+1),t.index(o),e,n):se(t.node(0),t.node(o),t.after(o+1),t.index(o)+1,e,n);if(i)return i}},Xt.near=function(t,e){return void 0===e&&(e=1),this.findFrom(t,e)||this.findFrom(t,-e)||new oe(t.node(0))},Xt.atStart=function(t){return se(t,t,0,0,1)||new oe(t)},Xt.atEnd=function(t){return se(t,t,t.content.size,t.childCount,-1)||new oe(t)},Xt.fromJSON=function(t,e){if(!e||!e.type)throw new RangeError("Invalid input for Selection.fromJSON");var n=Yt[e.type];if(!n)throw new RangeError("No selection type "+e.type+" defined");return n.fromJSON(t,e)},Xt.jsonID=function(t,e){if(t in Yt)throw new RangeError("Duplicate use of selection JSON ID "+t);return Yt[t]=e,e.prototype.jsonID=t,e},Xt.prototype.getBookmark=function(){return te.between(this.$anchor,this.$head).getBookmark()},Object.defineProperties(Xt.prototype,Zt),Xt.prototype.visible=!0;var Qt=function(t,e){this.$from=t,this.$to=e},te=function(t){function e(e,n){void 0===n&&(n=e),t.call(this,e,n)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={$cursor:{configurable:!0}};return n.$cursor.get=function(){return this.$anchor.pos==this.$head.pos?this.$head:null},e.prototype.map=function(n,r){var o=n.resolve(r.map(this.head));if(!o.parent.inlineContent)return t.near(o);var i=n.resolve(r.map(this.anchor));return new e(i.parent.inlineContent?i:o,o)},e.prototype.replace=function(e,n){if(void 0===n&&(n=f.empty),t.prototype.replace.call(this,e,n),n==f.empty){var r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}},e.prototype.eq=function(t){return t instanceof e&&t.anchor==this.anchor&&t.head==this.head},e.prototype.getBookmark=function(){return new ee(this.anchor,this.head)},e.prototype.toJSON=function(){return{type:"text",anchor:this.anchor,head:this.head}},e.fromJSON=function(t,n){if("number"!=typeof n.anchor||"number"!=typeof n.head)throw new RangeError("Invalid input for TextSelection.fromJSON");return new e(t.resolve(n.anchor),t.resolve(n.head))},e.create=function(t,e,n){void 0===n&&(n=e);var r=t.resolve(e);return new this(r,n==e?r:t.resolve(n))},e.between=function(n,r,o){var i=n.pos-r.pos;if(o&&!i||(o=i>=0?1:-1),!r.parent.inlineContent){var s=t.findFrom(r,o,!0)||t.findFrom(r,-o,!0);if(!s)return t.near(r,o);r=s.$head}return n.parent.inlineContent||(0==i||(n=(t.findFrom(n,-o,!0)||t.findFrom(n,o,!0)).$anchor).pos<r.pos!=i<0)&&(n=r),new e(n,r)},Object.defineProperties(e.prototype,n),e}(Xt);Xt.jsonID("text",te);var ee=function(t,e){this.anchor=t,this.head=e};ee.prototype.map=function(t){return new ee(t.map(this.anchor),t.map(this.head))},ee.prototype.resolve=function(t){return te.between(t.resolve(this.anchor),t.resolve(this.head))};var ne=function(t){function e(e){var n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);t.call(this,e,r),this.node=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.map=function(n,r){var o=r.mapResult(this.anchor),i=o.deleted,s=o.pos,a=n.resolve(s);return i?t.near(a):new e(a)},e.prototype.content=function(){return new f(i.from(this.node),0,0)},e.prototype.eq=function(t){return t instanceof e&&t.anchor==this.anchor},e.prototype.toJSON=function(){return{type:"node",anchor:this.anchor}},e.prototype.getBookmark=function(){return new re(this.anchor)},e.fromJSON=function(t,n){if("number"!=typeof n.anchor)throw new RangeError("Invalid input for NodeSelection.fromJSON");return new e(t.resolve(n.anchor))},e.create=function(t,e){return new this(t.resolve(e))},e.isSelectable=function(t){return!t.isText&&!1!==t.type.spec.selectable},e}(Xt);ne.prototype.visible=!1,Xt.jsonID("node",ne);var re=function(t){this.anchor=t};re.prototype.map=function(t){var e=t.mapResult(this.anchor),n=e.deleted,r=e.pos;return n?new ee(r,r):new re(r)},re.prototype.resolve=function(t){var e=t.resolve(this.anchor),n=e.nodeAfter;return n&&ne.isSelectable(n)?new ne(e):Xt.near(e)};var oe=function(t){function e(e){t.call(this,e.resolve(0),e.resolve(e.content.size))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.replace=function(e,n){if(void 0===n&&(n=f.empty),n==f.empty){e.delete(0,e.doc.content.size);var r=t.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else t.prototype.replace.call(this,e,n)},e.prototype.toJSON=function(){return{type:"all"}},e.fromJSON=function(t){return new e(t)},e.prototype.map=function(t){return new e(t)},e.prototype.eq=function(t){return t instanceof e},e.prototype.getBookmark=function(){return ie},e}(Xt);Xt.jsonID("all",oe);var ie={map:function(){return this},resolve:function(t){return new oe(t)}};function se(t,e,n,r,o,i){if(e.inlineContent)return te.create(t,n);for(var s=r-(o>0?0:1);o>0?s<e.childCount:s>=0;s+=o){var a=e.child(s);if(a.isAtom){if(!i&&ne.isSelectable(a))return ne.create(t,n-(o<0?a.nodeSize:0))}else{var c=se(t,a,n+o,o<0?a.childCount:0,o,i);if(c)return c}n+=a.nodeSize*o}}function ae(t,e,n){var r=t.steps.length-1;if(!(r<e)){var o,i=t.steps[r];if(i instanceof Ct||i instanceof Mt)t.mapping.maps[r].forEach((function(t,e,n,r){null==o&&(o=r)})),t.setSelection(Xt.near(t.doc.resolve(o),n))}}var ce=function(t){function e(e){t.call(this,e.doc),this.time=Date.now(),this.curSelection=e.selection,this.curSelectionFor=0,this.storedMarks=e.storedMarks,this.updated=0,this.meta=Object.create(null)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={selection:{configurable:!0},selectionSet:{configurable:!0},storedMarksSet:{configurable:!0},isGeneric:{configurable:!0},scrolledIntoView:{configurable:!0}};return n.selection.get=function(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection},e.prototype.setSelection=function(t){if(t.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=t,this.curSelectionFor=this.steps.length,this.updated=-3&(1|this.updated),this.storedMarks=null,this},n.selectionSet.get=function(){return(1&this.updated)>0},e.prototype.setStoredMarks=function(t){return this.storedMarks=t,this.updated|=2,this},e.prototype.ensureMarks=function(t){return l.sameSet(this.storedMarks||this.selection.$from.marks(),t)||this.setStoredMarks(t),this},e.prototype.addStoredMark=function(t){return this.ensureMarks(t.addToSet(this.storedMarks||this.selection.$head.marks()))},e.prototype.removeStoredMark=function(t){return this.ensureMarks(t.removeFromSet(this.storedMarks||this.selection.$head.marks()))},n.storedMarksSet.get=function(){return(2&this.updated)>0},e.prototype.addStep=function(e,n){t.prototype.addStep.call(this,e,n),this.updated=-3&this.updated,this.storedMarks=null},e.prototype.setTime=function(t){return this.time=t,this},e.prototype.replaceSelection=function(t){return this.selection.replace(this,t),this},e.prototype.replaceSelectionWith=function(t,e){var n=this.selection;return!1!==e&&(t=t.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||l.none))),n.replaceWith(this,t),this},e.prototype.deleteSelection=function(){return this.selection.replace(this),this},e.prototype.insertText=function(t,e,n){void 0===n&&(n=e);var r=this.doc.type.schema;if(null==e)return t?this.replaceSelectionWith(r.text(t),!0):this.deleteSelection();if(!t)return this.deleteRange(e,n);var o=this.storedMarks;if(!o){var i=this.doc.resolve(e);o=n==e?i.marks():i.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(e,n,r.text(t,o)),this.selection.empty||this.setSelection(Xt.near(this.selection.$to)),this},e.prototype.setMeta=function(t,e){return this.meta["string"==typeof t?t:t.key]=e,this},e.prototype.getMeta=function(t){return this.meta["string"==typeof t?t:t.key]},n.isGeneric.get=function(){for(var t in this.meta)return!1;return!0},e.prototype.scrollIntoView=function(){return this.updated|=4,this},n.scrolledIntoView.get=function(){return(4&this.updated)>0},Object.defineProperties(e.prototype,n),e}(wt);function ue(t,e){return e&&t?t.bind(e):t}var le=function(t,e,n){this.name=t,this.init=ue(e.init,n),this.apply=ue(e.apply,n)},pe=[new le("doc",{init:function(t){return t.doc||t.schema.topNodeType.createAndFill()},apply:function(t){return t.doc}}),new le("selection",{init:function(t,e){return t.selection||Xt.atStart(e.doc)},apply:function(t){return t.selection}}),new le("storedMarks",{init:function(t){return t.storedMarks||null},apply:function(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new le("scrollToSelection",{init:function(){return 0},apply:function(t,e){return t.scrolledIntoView?e+1:e}})],fe=function(t,e){var n=this;this.schema=t,this.fields=pe.concat(),this.plugins=[],this.pluginsByKey=Object.create(null),e&&e.forEach((function(t){if(n.pluginsByKey[t.key])throw new RangeError("Adding different instances of a keyed plugin ("+t.key+")");n.plugins.push(t),n.pluginsByKey[t.key]=t,t.spec.state&&n.fields.push(new le(t.key,t.spec.state,t))}))},de=function(t){this.config=t},he={schema:{configurable:!0},plugins:{configurable:!0},tr:{configurable:!0}};he.schema.get=function(){return this.config.schema},he.plugins.get=function(){return this.config.plugins},de.prototype.apply=function(t){return this.applyTransaction(t).state},de.prototype.filterTransaction=function(t,e){void 0===e&&(e=-1);for(var n=0;n<this.config.plugins.length;n++)if(n!=e){var r=this.config.plugins[n];if(r.spec.filterTransaction&&!r.spec.filterTransaction.call(r,t,this))return!1}return!0},de.prototype.applyTransaction=function(t){if(!this.filterTransaction(t))return{state:this,transactions:[]};for(var e=[t],n=this.applyInner(t),r=null;;){for(var o=!1,i=0;i<this.config.plugins.length;i++){var s=this.config.plugins[i];if(s.spec.appendTransaction){var a=r?r[i].n:0,c=r?r[i].state:this,u=a<e.length&&s.spec.appendTransaction.call(s,a?e.slice(a):e,c,n);if(u&&n.filterTransaction(u,i)){if(u.setMeta("appendedTransaction",t),!r){r=[];for(var l=0;l<this.config.plugins.length;l++)r.push(l<i?{state:n,n:e.length}:{state:this,n:0})}e.push(u),n=n.applyInner(u),o=!0}r&&(r[i]={state:n,n:e.length})}}if(!o)return{state:n,transactions:e}}},de.prototype.applyInner=function(t){if(!t.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");for(var e=new de(this.config),n=this.config.fields,r=0;r<n.length;r++){var o=n[r];e[o.name]=o.apply(t,this[o.name],this,e)}for(var i=0;i<me.length;i++)me[i](this,t,e);return e},he.tr.get=function(){return new ce(this)},de.create=function(t){for(var e=new fe(t.doc?t.doc.type.schema:t.schema,t.plugins),n=new de(e),r=0;r<e.fields.length;r++)n[e.fields[r].name]=e.fields[r].init(t,n);return n},de.prototype.reconfigure=function(t){for(var e=new fe(this.schema,t.plugins),n=e.fields,r=new de(e),o=0;o<n.length;o++){var i=n[o].name;r[i]=this.hasOwnProperty(i)?this[i]:n[o].init(t,r)}return r},de.prototype.toJSON=function(t){var e={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(e.storedMarks=this.storedMarks.map((function(t){return t.toJSON()}))),t&&"object"==typeof t)for(var n in t){if("doc"==n||"selection"==n)throw new RangeError("The JSON fields `doc` and `selection` are reserved");var r=t[n],o=r.spec.state;o&&o.toJSON&&(e[n]=o.toJSON.call(r,this[r.key]))}return e},de.fromJSON=function(t,e,n){if(!e)throw new RangeError("Invalid input for EditorState.fromJSON");if(!t.schema)throw new RangeError("Required config field 'schema' missing");var r=new fe(t.schema,t.plugins),o=new de(r);return r.fields.forEach((function(r){if("doc"==r.name)o.doc=T.fromJSON(t.schema,e.doc);else if("selection"==r.name)o.selection=Xt.fromJSON(o.doc,e.selection);else if("storedMarks"==r.name)e.storedMarks&&(o.storedMarks=e.storedMarks.map(t.schema.markFromJSON));else{if(n)for(var i in n){var s=n[i],a=s.spec.state;if(s.key==r.name&&a&&a.fromJSON&&Object.prototype.hasOwnProperty.call(e,i))return void(o[r.name]=a.fromJSON.call(s,t,e[i],o))}o[r.name]=r.init(t,o)}})),o},de.addApplyListener=function(t){me.push(t)},de.removeApplyListener=function(t){var e=me.indexOf(t);e>-1&&me.splice(e,1)},Object.defineProperties(de.prototype,he);var me=[];var ve=function(t){this.props={},t.props&&function t(e,n,r){for(var o in e){var i=e[o];i instanceof Function?i=i.bind(n):"handleDOMEvents"==o&&(i=t(i,n,{})),r[o]=i}return r}(t.props,this,this.props),this.spec=t,this.key=t.key?t.key.key:ye("plugin")};ve.prototype.getState=function(t){return t[this.key]};var ge=Object.create(null);function ye(t){return t in ge?t+"$"+ ++ge[t]:(ge[t]=0,t+"$")}var be=function(t){void 0===t&&(t="key"),this.key=ye(t)};be.prototype.get=function(t){return t.config.pluginsByKey[this.key]},be.prototype.getState=function(t){return t[this.key]};var we={};if("undefined"!=typeof navigator&&"undefined"!=typeof document){var xe=/Edge\/(\d+)/.exec(navigator.userAgent),_e=/MSIE \d/.test(navigator.userAgent),Oe=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);we.mac=/Mac/.test(navigator.platform);var ke=we.ie=!!(_e||Oe||xe);we.ie_version=_e?document.documentMode||6:Oe?+Oe[1]:xe?+xe[1]:null,we.gecko=!ke&&/gecko\/(\d+)/i.test(navigator.userAgent),we.gecko_version=we.gecko&&+(/Firefox\/(\d+)/.exec(navigator.userAgent)||[0,0])[1];var Se=!ke&&/Chrome\/(\d+)/.exec(navigator.userAgent);we.chrome=!!Se,we.chrome_version=Se&&+Se[1],we.safari=!ke&&/Apple Computer/.test(navigator.vendor),we.ios=we.safari&&(/Mobile\/\w+/.test(navigator.userAgent)||navigator.maxTouchPoints>2),we.android=/Android \d/.test(navigator.userAgent),we.webkit="webkitFontSmoothing"in document.documentElement.style,we.webkit_version=we.webkit&&+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]}var Ce=function(t){for(var e=0;;e++)if(!(t=t.previousSibling))return e},Me=function(t){var e=t.assignedSlot||t.parentNode;return e&&11==e.nodeType?e.host:e},Ee=null,Te=function(t,e,n){var r=Ee||(Ee=document.createRange());return r.setEnd(t,null==n?t.nodeValue.length:n),r.setStart(t,e||0),r},Ae=function(t,e,n,r){return n&&($e(t,e,n,r,-1)||$e(t,e,n,r,1))},je=/^(img|br|input|textarea|hr)$/i;function $e(t,e,n,r,o){for(;;){if(t==n&&e==r)return!0;if(e==(o<0?0:Ne(t))){var i=t.parentNode;if(1!=i.nodeType||De(t)||je.test(t.nodeName)||"false"==t.contentEditable)return!1;e=Ce(t)+(o<0?0:1),t=i}else{if(1!=t.nodeType)return!1;if("false"==(t=t.childNodes[e+(o<0?-1:0)]).contentEditable)return!1;e=o<0?Ne(t):0}}}function Ne(t){return 3==t.nodeType?t.nodeValue.length:t.childNodes.length}function De(t){for(var e,n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}var Pe=function(t){var e=t.isCollapsed;return e&&we.chrome&&t.rangeCount&&!t.getRangeAt(0).collapsed&&(e=!1),e};function Le(t,e){var n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function Ie(t){return{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function Re(t,e){return"number"==typeof t?t:t[e]}function ze(t){var e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function Be(t,e,n){for(var r=t.someProp("scrollThreshold")||0,o=t.someProp("scrollMargin")||5,i=t.dom.ownerDocument,s=n||t.dom;s;s=Me(s))if(1==s.nodeType){var a=s==i.body||1!=s.nodeType,c=a?Ie(i):ze(s),u=0,l=0;if(e.top<c.top+Re(r,"top")?l=-(c.top-e.top+Re(o,"top")):e.bottom>c.bottom-Re(r,"bottom")&&(l=e.bottom-c.bottom+Re(o,"bottom")),e.left<c.left+Re(r,"left")?u=-(c.left-e.left+Re(o,"left")):e.right>c.right-Re(r,"right")&&(u=e.right-c.right+Re(o,"right")),u||l)if(a)i.defaultView.scrollBy(u,l);else{var p=s.scrollLeft,f=s.scrollTop;l&&(s.scrollTop+=l),u&&(s.scrollLeft+=u);var d=s.scrollLeft-p,h=s.scrollTop-f;e={left:e.left-d,top:e.top-h,right:e.right-d,bottom:e.bottom-h}}if(a)break}}function Fe(t){for(var e=[],n=t.ownerDocument;t&&(e.push({dom:t,top:t.scrollTop,left:t.scrollLeft}),t!=n);t=Me(t));return e}function Ve(t,e){for(var n=0;n<t.length;n++){var r=t[n],o=r.dom,i=r.top,s=r.left;o.scrollTop!=i+e&&(o.scrollTop=i+e),o.scrollLeft!=s&&(o.scrollLeft=s)}}var He=null;function Ue(t,e){for(var n,r,o=2e8,i=0,s=e.top,a=e.top,c=t.firstChild,u=0;c;c=c.nextSibling,u++){var l=void 0;if(1==c.nodeType)l=c.getClientRects();else{if(3!=c.nodeType)continue;l=Te(c).getClientRects()}for(var p=0;p<l.length;p++){var f=l[p];if(f.top<=s&&f.bottom>=a){s=Math.max(f.bottom,s),a=Math.min(f.top,a);var d=f.left>e.left?f.left-e.left:f.right<e.left?e.left-f.right:0;if(d<o){n=c,o=d,r=d&&3==n.nodeType?{left:f.right<e.left?f.right:f.left,top:e.top}:e,1==c.nodeType&&d&&(i=u+(e.left>=(f.left+f.right)/2?1:0));continue}}!n&&(e.left>=f.right&&e.top>=f.top||e.left>=f.left&&e.top>=f.bottom)&&(i=u+1)}}return n&&3==n.nodeType?function(t,e){for(var n=t.nodeValue.length,r=document.createRange(),o=0;o<n;o++){r.setEnd(t,o+1),r.setStart(t,o);var i=Je(r,1);if(i.top!=i.bottom&&qe(e,i))return{node:t,offset:o+(e.left>=(i.left+i.right)/2?1:0)}}return{node:t,offset:0}}(n,r):!n||o&&1==n.nodeType?{node:t,offset:i}:Ue(n,r)}function qe(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function We(t,e){var n,r,o,i,s=t.root;if(s.caretPositionFromPoint)try{var a=s.caretPositionFromPoint(e.left,e.top);a&&(o=(n=a).offsetNode,i=n.offset)}catch(t){}if(!o&&s.caretRangeFromPoint){var c=s.caretRangeFromPoint(e.left,e.top);c&&(o=(r=c).startContainer,i=r.startOffset)}var u,l=s.elementFromPoint(e.left,e.top+1);if(!l||!t.dom.contains(1!=l.nodeType?l.parentNode:l)){var p=t.dom.getBoundingClientRect();if(!qe(e,p))return null;if(!(l=function t(e,n,r){var o=e.childNodes.length;if(o&&r.top<r.bottom)for(var i=Math.max(0,Math.min(o-1,Math.floor(o*(n.top-r.top)/(r.bottom-r.top))-2)),s=i;;){var a=e.childNodes[s];if(1==a.nodeType)for(var c=a.getClientRects(),u=0;u<c.length;u++){var l=c[u];if(qe(n,l))return t(a,n,l)}if((s=(s+1)%o)==i)break}return e}(t.dom,e,p)))return null}if(we.safari)for(var f=l;o&&f;f=Me(f))f.draggable&&(o=i=null);if(l=function(t,e){var n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}(l,e),o){if(we.gecko&&1==o.nodeType&&(i=Math.min(i,o.childNodes.length))<o.childNodes.length){var d,h=o.childNodes[i];"IMG"==h.nodeName&&(d=h.getBoundingClientRect()).right<=e.left&&d.bottom>e.top&&i++}o==t.dom&&i==o.childNodes.length-1&&1==o.lastChild.nodeType&&e.top>o.lastChild.getBoundingClientRect().bottom?u=t.state.doc.content.size:0!=i&&1==o.nodeType&&"BR"==o.childNodes[i-1].nodeName||(u=function(t,e,n,r){for(var o=-1,i=e;i!=t.dom;){var s=t.docView.nearestDesc(i,!0);if(!s)return null;if(s.node.isBlock&&s.parent){var a=s.dom.getBoundingClientRect();if(a.left>r.left||a.top>r.top)o=s.posBefore;else{if(!(a.right<r.left||a.bottom<r.top))break;o=s.posAfter}}i=s.dom.parentNode}return o>-1?o:t.docView.posFromDOM(e,n)}(t,o,i,e))}null==u&&(u=function(t,e,n){var r=Ue(e,n),o=r.node,i=r.offset,s=-1;if(1==o.nodeType&&!o.firstChild){var a=o.getBoundingClientRect();s=a.left!=a.right&&n.left>(a.left+a.right)/2?1:-1}return t.docView.posFromDOM(o,i,s)}(t,l,e));var m=t.docView.nearestDesc(l,!0);return{pos:u,inside:m?m.posAtStart-m.border:-1}}function Je(t,e){var n=t.getClientRects();return n.length?n[e<0?0:n.length-1]:t.getBoundingClientRect()}var Ke=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function Ge(t,e,n){var r=t.docView.domFromPos(e,n<0?-1:1),o=r.node,i=r.offset,s=we.webkit||we.gecko;if(3==o.nodeType){if(!s||!Ke.test(o.nodeValue)&&(n<0?i:i!=o.nodeValue.length)){var a=i,c=i,u=n<0?1:-1;return n<0&&!i?(c++,u=-1):n>=0&&i==o.nodeValue.length?(a--,u=1):n<0?a--:c++,Ye(Je(Te(o,a,c),u),u<0)}var l=Je(Te(o,i,i),n);if(we.gecko&&i&&/\s/.test(o.nodeValue[i-1])&&i<o.nodeValue.length){var p=Je(Te(o,i-1,i-1),-1);if(p.top==l.top){var f=Je(Te(o,i,i+1),-1);if(f.top!=l.top)return Ye(f,f.left<p.left)}}return l}if(!t.state.doc.resolve(e).parent.inlineContent){if(i&&(n<0||i==Ne(o))){var d=o.childNodes[i-1];if(1==d.nodeType)return Xe(d.getBoundingClientRect(),!1)}if(i<Ne(o)){var h=o.childNodes[i];if(1==h.nodeType)return Xe(h.getBoundingClientRect(),!0)}return Xe(o.getBoundingClientRect(),n>=0)}if(i&&(n<0||i==Ne(o))){var m=o.childNodes[i-1],v=3==m.nodeType?Te(m,Ne(m)-(s?0:1)):1!=m.nodeType||"BR"==m.nodeName&&m.nextSibling?null:m;if(v)return Ye(Je(v,1),!1)}if(i<Ne(o)){var g=o.childNodes[i],y=3==g.nodeType?Te(g,0,s?0:1):1==g.nodeType?g:null;if(y)return Ye(Je(y,-1),!0)}return Ye(Je(3==o.nodeType?Te(o):o,-n),n>=0)}function Ye(t,e){if(0==t.width)return t;var n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function Xe(t,e){if(0==t.height)return t;var n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function Ze(t,e,n){var r=t.state,o=t.root.activeElement;r!=e&&t.updateState(e),o!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),o!=t.dom&&o&&o.focus()}}var Qe=/[\u0590-\u08ac]/;var tn=null,en=null,nn=!1;function rn(t,e,n){return tn==e&&en==n?nn:(tn=e,en=n,nn="up"==n||"down"==n?function(t,e,n){var r=e.selection,o="up"==n?r.$from:r.$to;return Ze(t,e,(function(){for(var e=t.docView.domFromPos(o.pos,"up"==n?-1:1).node;;){var r=t.docView.nearestDesc(e,!0);if(!r)break;if(r.node.isBlock){e=r.dom;break}e=r.dom.parentNode}for(var i=Ge(t,o.pos,1),s=e.firstChild;s;s=s.nextSibling){var a=void 0;if(1==s.nodeType)a=s.getClientRects();else{if(3!=s.nodeType)continue;a=Te(s,0,s.nodeValue.length).getClientRects()}for(var c=0;c<a.length;c++){var u=a[c];if(u.bottom>u.top&&("up"==n?u.bottom<i.top+1:u.top>i.bottom-1))return!1}}return!0}))}(t,e,n):function(t,e,n){var r=e.selection.$head;if(!r.parent.isTextblock)return!1;var o=r.parentOffset,i=!o,s=o==r.parent.content.size,a=t.root.getSelection();return Qe.test(r.parent.textContent)&&a.modify?Ze(t,e,(function(){var e=a.getRangeAt(0),o=a.focusNode,i=a.focusOffset,s=a.caretBidiLevel;a.modify("move",n,"character");var c=!(r.depth?t.docView.domAfterPos(r.before()):t.dom).contains(1==a.focusNode.nodeType?a.focusNode:a.focusNode.parentNode)||o==a.focusNode&&i==a.focusOffset;return a.removeAllRanges(),a.addRange(e),null!=s&&(a.caretBidiLevel=s),c})):"left"==n||"backward"==n?i:s}(t,e,n))}var on=function(t,e,n,r){this.parent=t,this.children=e,this.dom=n,n.pmViewDesc=this,this.contentDOM=r,this.dirty=0},sn={beforePosition:{configurable:!0},size:{configurable:!0},border:{configurable:!0},posBefore:{configurable:!0},posAtStart:{configurable:!0},posAfter:{configurable:!0},posAtEnd:{configurable:!0},contentLost:{configurable:!0},domAtom:{configurable:!0}};on.prototype.matchesWidget=function(){return!1},on.prototype.matchesMark=function(){return!1},on.prototype.matchesNode=function(){return!1},on.prototype.matchesHack=function(t){return!1},sn.beforePosition.get=function(){return!1},on.prototype.parseRule=function(){return null},on.prototype.stopEvent=function(){return!1},sn.size.get=function(){for(var t=0,e=0;e<this.children.length;e++)t+=this.children[e].size;return t},sn.border.get=function(){return 0},on.prototype.destroy=function(){this.parent=null,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=null);for(var t=0;t<this.children.length;t++)this.children[t].destroy()},on.prototype.posBeforeChild=function(t){for(var e=0,n=this.posAtStart;e<this.children.length;e++){var r=this.children[e];if(r==t)return n;n+=r.size}},sn.posBefore.get=function(){return this.parent.posBeforeChild(this)},sn.posAtStart.get=function(){return this.parent?this.parent.posBeforeChild(this)+this.border:0},sn.posAfter.get=function(){return this.posBefore+this.size},sn.posAtEnd.get=function(){return this.posAtStart+this.size-2*this.border},on.prototype.localPosFromDOM=function(t,e,n){if(this.contentDOM&&this.contentDOM.contains(1==t.nodeType?t:t.parentNode)){if(n<0){var r,o;if(t==this.contentDOM)r=t.childNodes[e-1];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;r=t.previousSibling}for(;r&&(!(o=r.pmViewDesc)||o.parent!=this);)r=r.previousSibling;return r?this.posBeforeChild(o)+o.size:this.posAtStart}var i,s;if(t==this.contentDOM)i=t.childNodes[e];else{for(;t.parentNode!=this.contentDOM;)t=t.parentNode;i=t.nextSibling}for(;i&&(!(s=i.pmViewDesc)||s.parent!=this);)i=i.nextSibling;return i?this.posBeforeChild(s):this.posAtEnd}var a;if(t==this.dom&&this.contentDOM)a=e>Ce(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))a=2&t.compareDocumentPosition(this.contentDOM);else if(this.dom.firstChild){if(0==e)for(var c=t;;c=c.parentNode){if(c==this.dom){a=!1;break}if(c.parentNode.firstChild!=c)break}if(null==a&&e==t.childNodes.length)for(var u=t;;u=u.parentNode){if(u==this.dom){a=!0;break}if(u.parentNode.lastChild!=u)break}}return(null==a?n>0:a)?this.posAtEnd:this.posAtStart},on.prototype.nearestDesc=function(t,e){for(var n=!0,r=t;r;r=r.parentNode){var o=this.getDesc(r);if(o&&(!e||o.node)){if(!n||!o.nodeDOM||(1==o.nodeDOM.nodeType?o.nodeDOM.contains(1==t.nodeType?t:t.parentNode):o.nodeDOM==t))return o;n=!1}}},on.prototype.getDesc=function(t){for(var e=t.pmViewDesc,n=e;n;n=n.parent)if(n==this)return e},on.prototype.posFromDOM=function(t,e,n){for(var r=t;r;r=r.parentNode){var o=this.getDesc(r);if(o)return o.localPosFromDOM(t,e,n)}return-1},on.prototype.descAt=function(t){for(var e=0,n=0;e<this.children.length;e++){var r=this.children[e],o=n+r.size;if(n==t&&o!=n){for(;!r.border&&r.children.length;)r=r.children[0];return r}if(t<o)return r.descAt(t-n-r.border);n=o}},on.prototype.domFromPos=function(t,e){if(!this.contentDOM)return{node:this.dom,offset:0};for(var n=0,r=0,o=!0;;r++,o=!1){for(;r<this.children.length&&(this.children[r].beforePosition||this.children[r].dom.parentNode!=this.contentDOM);)n+=this.children[r++].size;var i=r==this.children.length?null:this.children[r];if(n==t&&(0==e||!i||!i.size||i.border||e<0&&o)||i&&i.domAtom&&t<n+i.size)return{node:this.contentDOM,offset:i?Ce(i.dom):this.contentDOM.childNodes.length};if(!i)throw new Error("Invalid position "+t);var s=n+i.size;if(!i.domAtom&&(e<0&&!i.border?s>=t:s>t)&&(s>t||r+1>=this.children.length||!this.children[r+1].beforePosition))return i.domFromPos(t-n-i.border,e);n=s}},on.prototype.parseRange=function(t,e,n){if(void 0===n&&(n=0),0==this.children.length)return{node:this.contentDOM,from:t,to:e,fromOffset:0,toOffset:this.contentDOM.childNodes.length};for(var r=-1,o=-1,i=n,s=0;;s++){var a=this.children[s],c=i+a.size;if(-1==r&&t<=c){var u=i+a.border;if(t>=u&&e<=c-a.border&&a.node&&a.contentDOM&&this.contentDOM.contains(a.contentDOM))return a.parseRange(t,e,u);t=i;for(var l=s;l>0;l--){var p=this.children[l-1];if(p.size&&p.dom.parentNode==this.contentDOM&&!p.emptyChildAt(1)){r=Ce(p.dom)+1;break}t-=p.size}-1==r&&(r=0)}if(r>-1&&(c>e||s==this.children.length-1)){e=c;for(var f=s+1;f<this.children.length;f++){var d=this.children[f];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(-1)){o=Ce(d.dom);break}e+=d.size}-1==o&&(o=this.contentDOM.childNodes.length);break}i=c}return{node:this.contentDOM,from:t,to:e,fromOffset:r,toOffset:o}},on.prototype.emptyChildAt=function(t){if(this.border||!this.contentDOM||!this.children.length)return!1;var e=this.children[t<0?0:this.children.length-1];return 0==e.size||e.emptyChildAt(t)},on.prototype.domAfterPos=function(t){var e=this.domFromPos(t,0),n=e.node,r=e.offset;if(1!=n.nodeType||r==n.childNodes.length)throw new RangeError("No node after pos "+t);return n.childNodes[r]},on.prototype.setSelection=function(t,e,n,r){for(var o=Math.min(t,e),i=Math.max(t,e),s=0,a=0;s<this.children.length;s++){var c=this.children[s],u=a+c.size;if(o>a&&i<u)return c.setSelection(t-a-c.border,e-a-c.border,n,r);a=u}var l=this.domFromPos(t,t?-1:1),p=e==t?l:this.domFromPos(e,e?-1:1),f=n.getSelection(),d=!1;if((we.gecko||we.safari)&&t==e){var h=l.node,m=l.offset;if(3==h.nodeType){if((d=m&&"\n"==h.nodeValue[m-1])&&m==h.nodeValue.length)for(var v=h,g=void 0;v;v=v.parentNode){if(g=v.nextSibling){"BR"==g.nodeName&&(l=p={node:g.parentNode,offset:Ce(g)+1});break}var y=v.pmViewDesc;if(y&&y.node&&y.node.isBlock)break}}else{var b=h.childNodes[m-1];d=b&&("BR"==b.nodeName||"false"==b.contentEditable)}}if(we.gecko&&f.focusNode&&f.focusNode!=p.node&&1==f.focusNode.nodeType){var w=f.focusNode.childNodes[f.focusOffset];w&&"false"==w.contentEditable&&(r=!0)}if(r||d&&we.safari||!Ae(l.node,l.offset,f.anchorNode,f.anchorOffset)||!Ae(p.node,p.offset,f.focusNode,f.focusOffset)){var x=!1;if((f.extend||t==e)&&!d){f.collapse(l.node,l.offset);try{t!=e&&f.extend(p.node,p.offset),x=!0}catch(t){if(!(t instanceof DOMException))throw t}}if(!x){if(t>e){var _=l;l=p,p=_}var O=document.createRange();O.setEnd(p.node,p.offset),O.setStart(l.node,l.offset),f.removeAllRanges(),f.addRange(O)}}},on.prototype.ignoreMutation=function(t){return!this.contentDOM&&"selection"!=t.type},sn.contentLost.get=function(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)},on.prototype.markDirty=function(t,e){for(var n=0,r=0;r<this.children.length;r++){var o=this.children[r],i=n+o.size;if(n==i?t<=i&&e>=n:t<i&&e>n){var s=n+o.border,a=i-o.border;if(t>=s&&e<=a)return this.dirty=t==n||e==i?2:1,void(t!=s||e!=a||!o.contentLost&&o.dom.parentNode==this.contentDOM?o.markDirty(t-s,e-s):o.dirty=3);o.dirty=o.dom==o.contentDOM&&o.dom.parentNode==this.contentDOM?2:3}n=i}this.dirty=2},on.prototype.markParentsDirty=function(){for(var t=1,e=this.parent;e;e=e.parent,t++){var n=1==t?2:1;e.dirty<n&&(e.dirty=n)}},sn.domAtom.get=function(){return!1},Object.defineProperties(on.prototype,sn);var an=[],cn=function(t){function e(e,n,r,o){var i,s=n.type.toDOM;if("function"==typeof s&&(s=s(r,(function(){return i?i.parent?i.parent.posBeforeChild(i):void 0:o}))),!n.type.spec.raw){if(1!=s.nodeType){var a=document.createElement("span");a.appendChild(s),s=a}s.contentEditable=!1,s.classList.add("ProseMirror-widget")}t.call(this,e,an,s,null),this.widget=n,i=this}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={beforePosition:{configurable:!0},domAtom:{configurable:!0}};return n.beforePosition.get=function(){return this.widget.type.side<0},e.prototype.matchesWidget=function(t){return 0==this.dirty&&t.type.eq(this.widget.type)},e.prototype.parseRule=function(){return{ignore:!0}},e.prototype.stopEvent=function(t){var e=this.widget.spec.stopEvent;return!!e&&e(t)},e.prototype.ignoreMutation=function(t){return"selection"!=t.type||this.widget.spec.ignoreSelection},n.domAtom.get=function(){return!0},Object.defineProperties(e.prototype,n),e}(on),un=function(t){function e(e,n,r,o){t.call(this,e,an,n,null),this.textDOM=r,this.text=o}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={size:{configurable:!0}};return n.size.get=function(){return this.text.length},e.prototype.localPosFromDOM=function(t,e){return t!=this.textDOM?this.posAtStart+(e?this.size:0):this.posAtStart+e},e.prototype.domFromPos=function(t){return{node:this.textDOM,offset:t}},e.prototype.ignoreMutation=function(t){return"characterData"===t.type&&t.target.nodeValue==t.oldValue},Object.defineProperties(e.prototype,n),e}(on),ln=function(t){function e(e,n,r,o){t.call(this,e,[],r,o),this.mark=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.create=function(t,n,r,o){var i=o.nodeViews[n.type.name],s=i&&i(n,o,r);return s&&s.dom||(s=pt.renderSpec(document,n.type.spec.toDOM(n,r))),new e(t,n,s.dom,s.contentDOM||s.dom)},e.prototype.parseRule=function(){return{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}},e.prototype.matchesMark=function(t){return 3!=this.dirty&&this.mark.eq(t)},e.prototype.markDirty=function(e,n){if(t.prototype.markDirty.call(this,e,n),0!=this.dirty){for(var r=this.parent;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=0}},e.prototype.slice=function(t,n,r){var o=e.create(this.parent,this.mark,!0,r),i=this.children,s=this.size;n<s&&(i=Cn(i,n,s,r)),t>0&&(i=Cn(i,0,t,r));for(var a=0;a<i.length;a++)i[a].parent=o;return o.children=i,o},e}(on),pn=function(t){function e(e,n,r,o,i,s,a,c,u){t.call(this,e,n.isLeaf?an:[],i,s),this.nodeDOM=a,this.node=n,this.outerDeco=r,this.innerDeco=o,s&&this.updateChildren(c,u)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={size:{configurable:!0},border:{configurable:!0},domAtom:{configurable:!0}};return e.create=function(t,n,r,o,i,s){var a,c,u=i.nodeViews[n.type.name],l=u&&u(n,i,(function(){return c?c.parent?c.parent.posBeforeChild(c):void 0:s}),r,o),p=l&&l.dom,f=l&&l.contentDOM;if(n.isText)if(p){if(3!=p.nodeType)throw new RangeError("Text must be rendered as a DOM text node")}else p=document.createTextNode(n.text);else p||(p=(a=pt.renderSpec(document,n.type.spec.toDOM(n))).dom,f=a.contentDOM);f||n.isText||"BR"==p.nodeName||(p.hasAttribute("contenteditable")||(p.contentEditable=!1),n.type.spec.draggable&&(p.draggable=!0));var d=p;return p=xn(p,r,n),l?c=new mn(t,n,r,o,p,f,d,l,i,s+1):n.isText?new dn(t,n,r,o,p,d,i):new e(t,n,r,o,p,f,d,i,s+1)},e.prototype.parseRule=function(){var t=this;if(this.node.type.spec.reparseInView)return null;var e={node:this.node.type.name,attrs:this.node.attrs};return this.node.type.spec.code&&(e.preserveWhitespace="full"),this.contentDOM&&!this.contentLost?e.contentElement=this.contentDOM:e.getContent=function(){return t.contentDOM?i.empty:t.node.content},e},e.prototype.matchesNode=function(t,e,n){return 0==this.dirty&&t.eq(this.node)&&_n(e,this.outerDeco)&&n.eq(this.innerDeco)},n.size.get=function(){return this.node.nodeSize},n.border.get=function(){return this.node.isLeaf?0:1},e.prototype.updateChildren=function(t,e){var n=this,r=this.node.inlineContent,o=e,i=t.composing&&this.localCompositionInfo(t,e),s=i&&i.pos>-1?i:null,a=i&&i.pos<0,c=new kn(this,s&&s.node);!function(t,e,n,r){var o=e.locals(t),i=0;if(0==o.length){for(var s=0;s<t.childCount;s++){var a=t.child(s);r(a,o,e.forChild(i,a),s),i+=a.nodeSize}return}for(var c=0,u=[],l=null,p=0;;){if(c<o.length&&o[c].to==i){for(var f=o[c++],d=void 0;c<o.length&&o[c].to==i;)(d||(d=[f])).push(o[c++]);if(d){d.sort(Sn);for(var h=0;h<d.length;h++)n(d[h],p,!!l)}else n(f,p,!!l)}var m=void 0,v=void 0;if(l)v=-1,m=l,l=null;else{if(!(p<t.childCount))break;v=p,m=t.child(p++)}for(var g=0;g<u.length;g++)u[g].to<=i&&u.splice(g--,1);for(;c<o.length&&o[c].from<=i&&o[c].to>i;)u.push(o[c++]);var y=i+m.nodeSize;if(m.isText){var b=y;c<o.length&&o[c].from<b&&(b=o[c].from);for(var w=0;w<u.length;w++)u[w].to<b&&(b=u[w].to);b<y&&(l=m.cut(b-i),m=m.cut(0,b-i),y=b,v=-1)}var x=u.length?m.isInline&&!m.isLeaf?u.filter((function(t){return!t.inline})):u.slice():an;r(m,x,e.forChild(i,m),v),i=y}}(this.node,this.innerDeco,(function(e,i,s){e.spec.marks?c.syncToMarks(e.spec.marks,r,t):e.type.side>=0&&!s&&c.syncToMarks(i==n.node.childCount?l.none:n.node.child(i).marks,r,t),c.placeWidget(e,t,o)}),(function(e,n,s,u){var l;c.syncToMarks(e.marks,r,t),c.findNodeMatch(e,n,s,u)||a&&t.state.selection.from>o&&t.state.selection.to<o+e.nodeSize&&(l=c.findIndexWithChild(i.node))>-1&&c.updateNodeAt(e,n,s,l,t)||c.updateNextNode(e,n,s,t,u)||c.addNode(e,n,s,t,o),o+=e.nodeSize})),c.syncToMarks(an,r,t),this.node.isTextblock&&c.addTextblockHacks(),c.destroyRest(),(c.changed||2==this.dirty)&&(s&&this.protectLocalComposition(t,s),function t(e,n,r){for(var o=e.firstChild,i=!1,s=0;s<n.length;s++){var a=n[s],c=a.dom;if(c.parentNode==e){for(;c!=o;)o=On(o),i=!0;o=o.nextSibling}else i=!0,e.insertBefore(c,o);if(a instanceof ln){var u=o?o.previousSibling:e.lastChild;t(a.contentDOM,a.children,r),o=u?u.nextSibling:e.firstChild}}for(;o;)o=On(o),i=!0;i&&r.trackWrites==e&&(r.trackWrites=null)}(this.contentDOM,this.children,t),we.ios&&function(t){if("UL"==t.nodeName||"OL"==t.nodeName){var e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}(this.dom))},e.prototype.localCompositionInfo=function(t,e){var n=t.state.selection,r=n.from,o=n.to;if(!(!(t.state.selection instanceof te)||r<e||o>e+this.node.content.size)){var i=t.root.getSelection(),s=function(t,e){for(;;){if(3==t.nodeType)return t;if(1==t.nodeType&&e>0){if(t.childNodes.length>e&&3==t.childNodes[e].nodeType)return t.childNodes[e];t=t.childNodes[e-1],e=Ne(t)}else{if(!(1==t.nodeType&&e<t.childNodes.length))return null;t=t.childNodes[e],e=0}}}(i.focusNode,i.focusOffset);if(s&&this.dom.contains(s.parentNode)){if(this.node.inlineContent){var a=s.nodeValue,c=function(t,e,n,r){for(var o=0,i=0;o<t.childCount&&i<=r;){var s=t.child(o++),a=i;if(i+=s.nodeSize,s.isText){for(var c=s.text;o<t.childCount;){var u=t.child(o++);if(i+=u.nodeSize,!u.isText)break;c+=u.text}if(i>=n){var l=c.lastIndexOf(e,r-a);if(l>=0&&l+e.length+a>=n)return a+l}}}return-1}(this.node.content,a,r-e,o-e);return c<0?null:{node:s,pos:c,text:a}}return{node:s,pos:-1}}}},e.prototype.protectLocalComposition=function(t,e){var n=e.node,r=e.pos,o=e.text;if(!this.getDesc(n)){for(var i=n;i.parentNode!=this.contentDOM;i=i.parentNode){for(;i.previousSibling;)i.parentNode.removeChild(i.previousSibling);for(;i.nextSibling;)i.parentNode.removeChild(i.nextSibling);i.pmViewDesc&&(i.pmViewDesc=null)}var s=new un(this,i,n,o);t.compositionNodes.push(s),this.children=Cn(this.children,r,r+o.length,t,s)}},e.prototype.update=function(t,e,n,r){return!(3==this.dirty||!t.sameMarkup(this.node))&&(this.updateInner(t,e,n,r),!0)},e.prototype.updateInner=function(t,e,n,r){this.updateOuterDeco(e),this.node=t,this.innerDeco=n,this.contentDOM&&this.updateChildren(r,this.posAtStart),this.dirty=0},e.prototype.updateOuterDeco=function(t){if(!_n(t,this.outerDeco)){var e=1!=this.nodeDOM.nodeType,n=this.dom;this.dom=bn(this.dom,this.nodeDOM,yn(this.outerDeco,this.node,e),yn(t,this.node,e)),this.dom!=n&&(n.pmViewDesc=null,this.dom.pmViewDesc=this),this.outerDeco=t}},e.prototype.selectNode=function(){this.nodeDOM.classList.add("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||(this.dom.draggable=!0)},e.prototype.deselectNode=function(){this.nodeDOM.classList.remove("ProseMirror-selectednode"),!this.contentDOM&&this.node.type.spec.draggable||this.dom.removeAttribute("draggable")},n.domAtom.get=function(){return this.node.isAtom},Object.defineProperties(e.prototype,n),e}(on);function fn(t,e,n,r,o){return xn(r,e,t),new pn(null,t,e,n,r,r,r,o,0)}var dn=function(t){function e(e,n,r,o,i,s,a){t.call(this,e,n,r,o,i,null,s,a)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={domAtom:{configurable:!0}};return e.prototype.parseRule=function(){for(var t=this.nodeDOM.parentNode;t&&t!=this.dom&&!t.pmIsDeco;)t=t.parentNode;return{skip:t||!0}},e.prototype.update=function(t,e,n,r){return!(3==this.dirty||0!=this.dirty&&!this.inParent()||!t.sameMarkup(this.node))&&(this.updateOuterDeco(e),0==this.dirty&&t.text==this.node.text||t.text==this.nodeDOM.nodeValue||(this.nodeDOM.nodeValue=t.text,r.trackWrites==this.nodeDOM&&(r.trackWrites=null)),this.node=t,this.dirty=0,!0)},e.prototype.inParent=function(){for(var t=this.parent.contentDOM,e=this.nodeDOM;e;e=e.parentNode)if(e==t)return!0;return!1},e.prototype.domFromPos=function(t){return{node:this.nodeDOM,offset:t}},e.prototype.localPosFromDOM=function(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):t.prototype.localPosFromDOM.call(this,e,n,r)},e.prototype.ignoreMutation=function(t){return"characterData"!=t.type&&"selection"!=t.type},e.prototype.slice=function(t,n,r){var o=this.node.cut(t,n),i=document.createTextNode(o.text);return new e(this.parent,o,this.outerDeco,this.innerDeco,i,i,r)},e.prototype.markDirty=function(e,n){t.prototype.markDirty.call(this,e,n),this.dom==this.nodeDOM||0!=e&&n!=this.nodeDOM.nodeValue.length||(this.dirty=3)},n.domAtom.get=function(){return!1},Object.defineProperties(e.prototype,n),e}(pn),hn=function(t){function e(){t.apply(this,arguments)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={domAtom:{configurable:!0}};return e.prototype.parseRule=function(){return{ignore:!0}},e.prototype.matchesHack=function(t){return 0==this.dirty&&this.dom.nodeName==t},n.domAtom.get=function(){return!0},Object.defineProperties(e.prototype,n),e}(on),mn=function(t){function e(e,n,r,o,i,s,a,c,u,l){t.call(this,e,n,r,o,i,s,a,u,l),this.spec=c}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.update=function(e,n,r,o){if(3==this.dirty)return!1;if(this.spec.update){var i=this.spec.update(e,n,r);return i&&this.updateInner(e,n,r,o),i}return!(!this.contentDOM&&!e.isLeaf)&&t.prototype.update.call(this,e,n,r,o)},e.prototype.selectNode=function(){this.spec.selectNode?this.spec.selectNode():t.prototype.selectNode.call(this)},e.prototype.deselectNode=function(){this.spec.deselectNode?this.spec.deselectNode():t.prototype.deselectNode.call(this)},e.prototype.setSelection=function(e,n,r,o){this.spec.setSelection?this.spec.setSelection(e,n,r):t.prototype.setSelection.call(this,e,n,r,o)},e.prototype.destroy=function(){this.spec.destroy&&this.spec.destroy(),t.prototype.destroy.call(this)},e.prototype.stopEvent=function(t){return!!this.spec.stopEvent&&this.spec.stopEvent(t)},e.prototype.ignoreMutation=function(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):t.prototype.ignoreMutation.call(this,e)},e}(pn);function vn(t){t&&(this.nodeName=t)}vn.prototype=Object.create(null);var gn=[new vn];function yn(t,e,n){if(0==t.length)return gn;for(var r=n?gn[0]:new vn,o=[r],i=0;i<t.length;i++){var s=t[i].type.attrs;if(s)for(var a in s.nodeName&&o.push(r=new vn(s.nodeName)),s){var c=s[a];null!=c&&(n&&1==o.length&&o.push(r=new vn(e.isInline?"span":"div")),"class"==a?r.class=(r.class?r.class+" ":"")+c:"style"==a?r.style=(r.style?r.style+";":"")+c:"nodeName"!=a&&(r[a]=c))}}return o}function bn(t,e,n,r){if(n==gn&&r==gn)return e;for(var o=e,i=0;i<r.length;i++){var s=r[i],a=n[i];if(i){var c=void 0;a&&a.nodeName==s.nodeName&&o!=t&&(c=o.parentNode)&&c.tagName.toLowerCase()==s.nodeName||((c=document.createElement(s.nodeName)).pmIsDeco=!0,c.appendChild(o),a=gn[0]),o=c}wn(o,a||gn[0],s)}return o}function wn(t,e,n){for(var r in e)"class"==r||"style"==r||"nodeName"==r||r in n||t.removeAttribute(r);for(var o in n)"class"!=o&&"style"!=o&&"nodeName"!=o&&n[o]!=e[o]&&t.setAttribute(o,n[o]);if(e.class!=n.class){for(var i=e.class?e.class.split(" ").filter(Boolean):an,s=n.class?n.class.split(" ").filter(Boolean):an,a=0;a<i.length;a++)-1==s.indexOf(i[a])&&t.classList.remove(i[a]);for(var c=0;c<s.length;c++)-1==i.indexOf(s[c])&&t.classList.add(s[c])}if(e.style!=n.style){if(e.style)for(var u,l=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g;u=l.exec(e.style);)t.style.removeProperty(u[1]);n.style&&(t.style.cssText+=n.style)}}function xn(t,e,n){return bn(t,t,gn,yn(e,n,1!=t.nodeType))}function _n(t,e){if(t.length!=e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function On(t){var e=t.nextSibling;return t.parentNode.removeChild(t),e}var kn=function(t,e){this.top=t,this.lock=e,this.index=0,this.stack=[],this.changed=!1,this.preMatch=function(t,e){for(var n=t.childCount,r=e.length,o=new Map;n>0&&r>0;r--){var i=e[r-1],s=i.node;if(s){if(s!=t.child(n-1))break;--n,o.set(i,n)}}return{index:n,matched:o}}(t.node.content,t.children)};function Sn(t,e){return t.type.side-e.type.side}function Cn(t,e,n,r,o){for(var i=[],s=0,a=0;s<t.length;s++){var c=t[s],u=a,l=a+=c.size;u>=n||l<=e?i.push(c):(u<e&&i.push(c.slice(0,e-u,r)),o&&(i.push(o),o=null),l>n&&i.push(c.slice(n-u,c.size,r)))}return i}function Mn(t,e){var n=t.root.getSelection(),r=t.state.doc;if(!n.focusNode)return null;var o=t.docView.nearestDesc(n.focusNode),i=o&&0==o.size,s=t.docView.posFromDOM(n.focusNode,n.focusOffset);if(s<0)return null;var a,c,u=r.resolve(s);if(Pe(n)){for(a=u;o&&!o.node;)o=o.parent;if(o&&o.node.isAtom&&ne.isSelectable(o.node)&&o.parent&&(!o.node.isInline||!function(t,e,n){for(var r=0==e,o=e==Ne(t);r||o;){if(t==n)return!0;var i=Ce(t);if(!(t=t.parentNode))return!1;r=r&&0==i,o=o&&i==Ne(t)}}(n.focusNode,n.focusOffset,o.dom))){var l=o.posBefore;c=new ne(s==l?u:r.resolve(l))}}else{var p=t.docView.posFromDOM(n.anchorNode,n.anchorOffset);if(p<0)return null;a=r.resolve(p)}c||(c=Ln(t,a,u,"pointer"==e||t.state.selection.head<u.pos&&!i?1:-1));return c}function En(t){return t.editable?t.hasFocus():In(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function Tn(t,e){var n=t.state.selection;if(Dn(t,n),En(t)){if(t.domObserver.disconnectSelection(),t.cursorWrapper)!function(t){var e=t.root.getSelection(),n=document.createRange(),r=t.cursorWrapper.dom,o="IMG"==r.nodeName;o?n.setEnd(r.parentNode,Ce(r)+1):n.setEnd(r,0);n.collapse(!1),e.removeAllRanges(),e.addRange(n),!o&&!t.state.selection.visible&&we.ie&&we.ie_version<=11&&(r.disabled=!0,r.disabled=!1)}(t);else{var r,o,i=n.anchor,s=n.head;!An||n instanceof te||(n.$from.parent.inlineContent||(r=jn(t,n.from)),n.empty||n.$from.parent.inlineContent||(o=jn(t,n.to))),t.docView.setSelection(i,s,t.root,e),An&&(r&&Nn(r),o&&Nn(o)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&function(t){var e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.hideSelectionGuard);var n=t.root.getSelection(),r=n.anchorNode,o=n.anchorOffset;e.addEventListener("selectionchange",t.hideSelectionGuard=function(){n.anchorNode==r&&n.anchorOffset==o||(e.removeEventListener("selectionchange",t.hideSelectionGuard),setTimeout((function(){En(t)&&!t.state.selection.visible||t.dom.classList.remove("ProseMirror-hideselection")}),20))})}(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}kn.prototype.destroyBetween=function(t,e){if(t!=e){for(var n=t;n<e;n++)this.top.children[n].destroy();this.top.children.splice(t,e-t),this.changed=!0}},kn.prototype.destroyRest=function(){this.destroyBetween(this.index,this.top.children.length)},kn.prototype.syncToMarks=function(t,e,n){for(var r=0,o=this.stack.length>>1,i=Math.min(o,t.length);r<i&&(r==o-1?this.top:this.stack[r+1<<1]).matchesMark(t[r])&&!1!==t[r].type.spec.spanning;)r++;for(;r<o;)this.destroyRest(),this.top.dirty=0,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<t.length;){this.stack.push(this.top,this.index+1);for(var s=-1,a=this.index;a<Math.min(this.index+3,this.top.children.length);a++)if(this.top.children[a].matchesMark(t[o])){s=a;break}if(s>-1)s>this.index&&(this.changed=!0,this.destroyBetween(this.index,s)),this.top=this.top.children[this.index];else{var c=ln.create(this.top,t[o],e,n);this.top.children.splice(this.index,0,c),this.top=c,this.changed=!0}this.index=0,o++}},kn.prototype.findNodeMatch=function(t,e,n,r){var o=this.top.children,i=-1;if(r>=this.preMatch.index){for(var s=this.index;s<o.length;s++)if(o[s].matchesNode(t,e,n)){i=s;break}}else for(var a=this.index,c=Math.min(o.length,a+1);a<c;a++){var u=o[a];if(u.matchesNode(t,e,n)&&!this.preMatch.matched.has(u)){i=a;break}}return!(i<0)&&(this.destroyBetween(this.index,i),this.index++,!0)},kn.prototype.updateNodeAt=function(t,e,n,r,o){return!!this.top.children[r].update(t,e,n,o)&&(this.destroyBetween(this.index,r),this.index=r+1,!0)},kn.prototype.findIndexWithChild=function(t){for(;;){var e=t.parentNode;if(!e)return-1;if(e==this.top.contentDOM){var n=t.pmViewDesc;if(n)for(var r=this.index;r<this.top.children.length;r++)if(this.top.children[r]==n)return r;return-1}t=e}},kn.prototype.updateNextNode=function(t,e,n,r,o){for(var i=this.index;i<this.top.children.length;i++){var s=this.top.children[i];if(s instanceof pn){var a=this.preMatch.matched.get(s);if(null!=a&&a!=o)return!1;var c=s.dom;if(!(this.lock&&(c==this.lock||1==c.nodeType&&c.contains(this.lock.parentNode))&&!(t.isText&&s.node&&s.node.isText&&s.nodeDOM.nodeValue==t.text&&3!=s.dirty&&_n(e,s.outerDeco)))&&s.update(t,e,n,r))return this.destroyBetween(this.index,i),s.dom!=c&&(this.changed=!0),this.index++,!0;break}}return!1},kn.prototype.addNode=function(t,e,n,r,o){this.top.children.splice(this.index++,0,pn.create(this.top,t,e,n,r,o)),this.changed=!0},kn.prototype.placeWidget=function(t,e,n){var r=this.index<this.top.children.length?this.top.children[this.index]:null;if(!r||!r.matchesWidget(t)||t!=r.widget&&r.widget.type.toDOM.parentNode){var o=new cn(this.top,t,e,n);this.top.children.splice(this.index++,0,o),this.changed=!0}else this.index++},kn.prototype.addTextblockHacks=function(){for(var t=this.top.children[this.index-1];t instanceof ln;)t=t.children[t.children.length-1];t&&t instanceof dn&&!/\n$/.test(t.node.text)||(we.safari&&t&&"false"==t.dom.contentEditable&&this.addHackNode("IMG"),this.addHackNode("BR"))},kn.prototype.addHackNode=function(t){if(this.index<this.top.children.length&&this.top.children[this.index].matchesHack(t))this.index++;else{var e=document.createElement(t);this.top.children.splice(this.index++,0,new hn(this.top,an,e,null)),this.changed=!0}};var An=we.safari||we.chrome&&we.chrome_version<63;function jn(t,e){var n=t.docView.domFromPos(e,0),r=n.node,o=n.offset,i=o<r.childNodes.length?r.childNodes[o]:null,s=o?r.childNodes[o-1]:null;if(we.safari&&i&&"false"==i.contentEditable)return $n(i);if(!(i&&"false"!=i.contentEditable||s&&"false"!=s.contentEditable)){if(i)return $n(i);if(s)return $n(s)}}function $n(t){return t.contentEditable="true",we.safari&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function Nn(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function Dn(t,e){if(e instanceof ne){var n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(Pn(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else Pn(t)}function Pn(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=null)}function Ln(t,e,n,r){return t.someProp("createSelectionBetween",(function(r){return r(t,e,n)}))||te.between(e,n,r)}function In(t){var e=t.root.getSelection();if(!e.anchorNode)return!1;try{return t.dom.contains(3==e.anchorNode.nodeType?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(3==e.focusNode.nodeType?e.focusNode.parentNode:e.focusNode))}catch(t){return!1}}function Rn(t,e){var n=t.selection,r=n.$anchor,o=n.$head,i=e>0?r.max(o):r.min(o),s=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return s&&Xt.findFrom(s,e)}function zn(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function Bn(t,e,n){var r=t.state.selection;if(!(r instanceof te)){if(r instanceof ne&&r.node.isInline)return zn(t,new te(e>0?r.$to:r.$from));var o=Rn(t.state,e);return!!o&&zn(t,o)}if(!r.empty||n.indexOf("s")>-1)return!1;if(t.endOfTextblock(e>0?"right":"left")){var i=Rn(t.state,e);return!!(i&&i instanceof ne)&&zn(t,i)}if(!(we.mac&&n.indexOf("m")>-1)){var s,a=r.$head,c=a.textOffset?null:e<0?a.nodeBefore:a.nodeAfter;if(!c||c.isText)return!1;var u=e<0?a.pos-c.nodeSize:a.pos;return!!(c.isAtom||(s=t.docView.descAt(u))&&!s.contentDOM)&&(ne.isSelectable(c)?zn(t,new ne(e<0?t.state.doc.resolve(a.pos-c.nodeSize):a)):!!we.webkit&&zn(t,new te(t.state.doc.resolve(e<0?u:u+c.nodeSize))))}}function Fn(t){return 3==t.nodeType?t.nodeValue.length:t.childNodes.length}function Vn(t){var e=t.pmViewDesc;return e&&0==e.size&&(t.nextSibling||"BR"!=t.nodeName)}function Hn(t){var e=t.root.getSelection(),n=e.focusNode,r=e.focusOffset;if(n){var o,i,s=!1;for(we.gecko&&1==n.nodeType&&r<Fn(n)&&Vn(n.childNodes[r])&&(s=!0);;)if(r>0){if(1!=n.nodeType)break;var a=n.childNodes[r-1];if(Vn(a))o=n,i=--r;else{if(3!=a.nodeType)break;r=(n=a).nodeValue.length}}else{if(qn(n))break;for(var c=n.previousSibling;c&&Vn(c);)o=n.parentNode,i=Ce(c),c=c.previousSibling;if(c)r=Fn(n=c);else{if((n=n.parentNode)==t.dom)break;r=0}}s?Wn(t,e,n,r):o&&Wn(t,e,o,i)}}function Un(t){var e=t.root.getSelection(),n=e.focusNode,r=e.focusOffset;if(n){for(var o,i,s=Fn(n);;)if(r<s){if(1!=n.nodeType)break;if(!Vn(n.childNodes[r]))break;o=n,i=++r}else{if(qn(n))break;for(var a=n.nextSibling;a&&Vn(a);)o=a.parentNode,i=Ce(a)+1,a=a.nextSibling;if(a)r=0,s=Fn(n=a);else{if((n=n.parentNode)==t.dom)break;r=s=0}}o&&Wn(t,e,o,i)}}function qn(t){var e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function Wn(t,e,n,r){if(Pe(e)){var o=document.createRange();o.setEnd(n,r),o.setStart(n,r),e.removeAllRanges(),e.addRange(o)}else e.extend&&e.extend(n,r);t.domObserver.setCurSelection();var i=t.state;setTimeout((function(){t.state==i&&Tn(t)}),50)}function Jn(t,e,n){var r=t.state.selection;if(r instanceof te&&!r.empty||n.indexOf("s")>-1)return!1;if(we.mac&&n.indexOf("m")>-1)return!1;var o=r.$from,i=r.$to;if(!o.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){var s=Rn(t.state,e);if(s&&s instanceof ne)return zn(t,s)}if(!o.parent.inlineContent){var a=e<0?o:i,c=r instanceof oe?Xt.near(a,e):Xt.findFrom(a,e);return!!c&&zn(t,c)}return!1}function Kn(t,e){if(!(t.state.selection instanceof te))return!0;var n=t.state.selection,r=n.$head,o=n.$anchor,i=n.empty;if(!r.sameParent(o))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;var s=!r.textOffset&&(e<0?r.nodeBefore:r.nodeAfter);if(s&&!s.isText){var a=t.state.tr;return e<0?a.delete(r.pos-s.nodeSize,r.pos):a.delete(r.pos,r.pos+s.nodeSize),t.dispatch(a),!0}return!1}function Gn(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function Yn(t,e){var n=e.keyCode,r=function(t){var e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}(e);return 8==n||we.mac&&72==n&&"c"==r?Kn(t,-1)||Hn(t):46==n||we.mac&&68==n&&"c"==r?Kn(t,1)||Un(t):13==n||27==n||(37==n?Bn(t,-1,r)||Hn(t):39==n?Bn(t,1,r)||Un(t):38==n?Jn(t,-1,r)||Hn(t):40==n?function(t){if(we.safari&&!(t.state.selection.$head.parentOffset>0)){var e=t.root.getSelection(),n=e.focusNode,r=e.focusOffset;if(n&&1==n.nodeType&&0==r&&n.firstChild&&"false"==n.firstChild.contentEditable){var o=n.firstChild;Gn(t,o,!0),setTimeout((function(){return Gn(t,o,!1)}),20)}}}(t)||Jn(t,1,r)||Un(t):r==(we.mac?"m":"c")&&(66==n||73==n||89==n||90==n))}function Xn(t){var e=t.pmViewDesc;if(e)return e.parseRule();if("BR"==t.nodeName&&t.parentNode){if(we.safari&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){var n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}if(t.parentNode.lastChild==t||we.safari&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if("IMG"==t.nodeName&&t.getAttribute("mark-placeholder"))return{ignore:!0}}function Zn(t,e,n,r,o){if(e<0){var s=t.lastSelectionTime>Date.now()-50?t.lastSelectionOrigin:null,a=Mn(t,s);if(a&&!t.state.selection.eq(a)){var c=t.state.tr.setSelection(a);"pointer"==s?c.setMeta("pointer",!0):"key"==s&&c.scrollIntoView(),t.dispatch(c)}}else{var u=t.state.doc.resolve(e),l=u.sharedDepth(n);e=u.before(l+1),n=t.state.doc.resolve(n).after(l+1);var p=t.state.selection,f=function(t,e,n){var r=t.docView.parseRange(e,n),o=r.node,i=r.fromOffset,s=r.toOffset,a=r.from,c=r.to,u=t.root.getSelection(),l=null,p=u.anchorNode;if(p&&t.dom.contains(1==p.nodeType?p:p.parentNode)&&(l=[{node:p,offset:u.anchorOffset}],Pe(u)||l.push({node:u.focusNode,offset:u.focusOffset})),we.chrome&&8===t.lastKeyCode)for(var f=s;f>i;f--){var d=o.childNodes[f-1],h=d.pmViewDesc;if("BR"==d.nodeName&&!h){s=f;break}if(!h||h.size)break}var m=t.state.doc,v=t.someProp("domParser")||tt.fromSchema(t.state.schema),g=m.resolve(a),y=null,b=v.parse(o,{topNode:g.parent,topMatch:g.parent.contentMatchAt(g.index()),topOpen:!0,from:i,to:s,preserveWhitespace:!g.parent.type.spec.code||"full",editableContent:!0,findPositions:l,ruleFromNode:Xn,context:g});if(l&&null!=l[0].pos){var w=l[0].pos,x=l[1]&&l[1].pos;null==x&&(x=w),y={anchor:w+a,head:x+a}}return{doc:b,sel:y,from:a,to:c}}(t,e,n);if(we.chrome&&t.cursorWrapper&&f.sel&&f.sel.anchor==t.cursorWrapper.deco.from){var d=t.cursorWrapper.deco.type.toDOM.nextSibling,h=d&&d.nodeValue?d.nodeValue.length:1;f.sel={anchor:f.sel.anchor+h,head:f.sel.anchor+h}}var m,v,g=t.state.doc,y=g.slice(f.from,f.to);8===t.lastKeyCode&&Date.now()-100<t.lastKeyCodeTime?(m=t.state.selection.to,v="end"):(m=t.state.selection.from,v="start"),t.lastKeyCode=null;var b=function(t,e,n,r,o){var i=t.findDiffStart(e,n);if(null==i)return null;var s=t.findDiffEnd(e,n+t.size,n+e.size),a=s.a,c=s.b;if("end"==o){var u=Math.max(0,i-Math.min(a,c));r-=a+u-i}if(a<i&&t.size<e.size){c=(i-=r<=i&&r>=a?i-r:0)+(c-a),a=i}else if(c<i){a=(i-=r<=i&&r>=c?i-r:0)+(a-c),c=i}return{start:i,endA:a,endB:c}}(y.content,f.doc.content,f.from,m,v);if(!b){if(!(r&&p instanceof te&&!p.empty&&p.$head.sameParent(p.$anchor))||t.composing||f.sel&&f.sel.anchor!=f.sel.head){if((we.ios&&t.lastIOSEnter>Date.now()-225||we.android)&&o.some((function(t){return"DIV"==t.nodeName||"P"==t.nodeName}))&&t.someProp("handleKeyDown",(function(e){return e(t,Le(13,"Enter"))})))return void(t.lastIOSEnter=0);if(f.sel){var w=Qn(t,t.state.doc,f.sel);w&&!w.eq(t.state.selection)&&t.dispatch(t.state.tr.setSelection(w))}return}b={start:p.from,endA:p.to,endB:p.to}}t.domChangeCount++,t.state.selection.from<t.state.selection.to&&b.start==b.endB&&t.state.selection instanceof te&&(b.start>t.state.selection.from&&b.start<=t.state.selection.from+2?b.start=t.state.selection.from:b.endA<t.state.selection.to&&b.endA>=t.state.selection.to-2&&(b.endB+=t.state.selection.to-b.endA,b.endA=t.state.selection.to)),we.ie&&we.ie_version<=11&&b.endB==b.start+1&&b.endA==b.start&&b.start>f.from&&"  "==f.doc.textBetween(b.start-f.from-1,b.start-f.from+1)&&(b.start--,b.endA--,b.endB--);var x,_=f.doc.resolveNoCache(b.start-f.from),O=f.doc.resolveNoCache(b.endB-f.from),k=_.sameParent(O)&&_.parent.inlineContent;if((we.ios&&t.lastIOSEnter>Date.now()-225&&(!k||o.some((function(t){return"DIV"==t.nodeName||"P"==t.nodeName})))||!k&&_.pos<f.doc.content.size&&(x=Xt.findFrom(f.doc.resolve(_.pos+1),1,!0))&&x.head==O.pos)&&t.someProp("handleKeyDown",(function(e){return e(t,Le(13,"Enter"))})))t.lastIOSEnter=0;else if(t.state.selection.anchor>b.start&&function(t,e,n,r,o){if(!r.parent.isTextblock||n-e<=o.pos-r.pos||tr(r,!0,!1)<o.pos)return!1;var i=t.resolve(e);if(i.parentOffset<i.parent.content.size||!i.parent.isTextblock)return!1;var s=t.resolve(tr(i,!0,!0));if(!s.parent.isTextblock||s.pos>n||tr(s,!0,!1)<n)return!1;return r.parent.content.cut(r.parentOffset).eq(s.parent.content)}(g,b.start,b.endA,_,O)&&t.someProp("handleKeyDown",(function(e){return e(t,Le(8,"Backspace"))})))we.android&&we.chrome&&t.domObserver.suppressSelectionUpdates();else{we.chrome&&we.android&&b.toB==b.from&&(t.lastAndroidDelete=Date.now()),we.android&&!k&&_.start()!=O.start()&&0==O.parentOffset&&_.depth==O.depth&&f.sel&&f.sel.anchor==f.sel.head&&f.sel.head==b.endA&&(b.endB-=2,O=f.doc.resolveNoCache(b.endB-f.from),setTimeout((function(){t.someProp("handleKeyDown",(function(e){return e(t,Le(13,"Enter"))}))}),20));var S,C,M,E,T=b.start,A=b.endA;if(k)if(_.pos==O.pos)we.ie&&we.ie_version<=11&&0==_.parentOffset&&(t.domObserver.suppressSelectionUpdates(),setTimeout((function(){return Tn(t)}),20)),S=t.state.tr.delete(T,A),C=g.resolve(b.start).marksAcross(g.resolve(b.endA));else if(b.endA==b.endB&&(E=g.resolve(b.start))&&(M=function(t,e){for(var n,r,o,s=t.firstChild.marks,a=e.firstChild.marks,c=s,u=a,l=0;l<a.length;l++)c=a[l].removeFromSet(c);for(var p=0;p<s.length;p++)u=s[p].removeFromSet(u);if(1==c.length&&0==u.length)r=c[0],n="add",o=function(t){return t.mark(r.addToSet(t.marks))};else{if(0!=c.length||1!=u.length)return null;r=u[0],n="remove",o=function(t){return t.mark(r.removeFromSet(t.marks))}}for(var f=[],d=0;d<e.childCount;d++)f.push(o(e.child(d)));if(i.from(f).eq(t))return{mark:r,type:n}}(_.parent.content.cut(_.parentOffset,O.parentOffset),E.parent.content.cut(E.parentOffset,b.endA-E.start()))))S=t.state.tr,"add"==M.type?S.addMark(T,A,M.mark):S.removeMark(T,A,M.mark);else if(_.parent.child(_.index()).isText&&_.index()==O.index()-(O.textOffset?0:1)){var j=_.parent.textBetween(_.parentOffset,O.parentOffset);if(t.someProp("handleTextInput",(function(e){return e(t,T,A,j)})))return;S=t.state.tr.insertText(j,T,A)}if(S||(S=t.state.tr.replace(T,A,f.doc.slice(b.start-f.from,b.endB-f.from))),f.sel){var $=Qn(t,S.doc,f.sel);$&&!(we.chrome&&we.android&&t.composing&&$.empty&&(b.start!=b.endB||t.lastAndroidDelete<Date.now()-100)&&($.head==T||$.head==S.mapping.map(A)-1)||we.ie&&$.empty&&$.head==T)&&S.setSelection($)}C&&S.ensureMarks(C),t.dispatch(S.scrollIntoView())}}}function Qn(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:Ln(t,e.resolve(n.anchor),e.resolve(n.head))}function tr(t,e,n){for(var r=t.depth,o=e?t.end():t.pos;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,o++,e=!1;if(n)for(var i=t.node(r).maybeChild(t.indexAfter(r));i&&!i.isLeaf;)i=i.firstChild,o++;return o}function er(t,e){for(var n=[],r=e.content,o=e.openStart,i=e.openEnd;o>1&&i>1&&1==r.childCount&&1==r.firstChild.childCount;){o--,i--;var s=r.firstChild;n.push(s.type.name,s.attrs!=s.type.defaultAttrs?s.attrs:null),r=s.content}var a=t.someProp("clipboardSerializer")||pt.fromSchema(t.state.schema),c=ar(),u=c.createElement("div");u.appendChild(a.serializeFragment(r,{document:c}));for(var l,p=u.firstChild;p&&1==p.nodeType&&(l=ir[p.nodeName.toLowerCase()]);){for(var f=l.length-1;f>=0;f--){for(var d=c.createElement(l[f]);u.firstChild;)d.appendChild(u.firstChild);u.appendChild(d),"tbody"!=l[f]&&(o++,i++)}p=u.firstChild}return p&&1==p.nodeType&&p.setAttribute("data-pm-slice",o+" "+i+" "+JSON.stringify(n)),{dom:u,text:t.someProp("clipboardTextSerializer",(function(t){return t(e)}))||e.content.textBetween(0,e.content.size,"\n\n")}}function nr(t,e,n,r,o){var s,a,c=o.parent.type.spec.code;if(!n&&!e)return null;var u=e&&(r||c||!n);if(u){if(t.someProp("transformPastedText",(function(t){e=t(e,c||r)})),c)return new f(i.from(t.state.schema.text(e.replace(/\r\n?/g,"\n"))),0,0);var l=t.someProp("clipboardTextParser",(function(t){return t(e,o,r)}));if(l)a=l;else{var p=o.marks(),d=t.state.schema,h=pt.fromSchema(d);s=document.createElement("div"),e.trim().split(/(?:\r\n?|\n)+/).forEach((function(t){s.appendChild(document.createElement("p")).appendChild(h.serializeNode(d.text(t,p)))}))}}else t.someProp("transformPastedHTML",(function(t){n=t(n)})),s=function(t){var e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));var n,r=ar().createElement("div"),o=/<([a-z][^>\s]+)/i.exec(t);(n=o&&ir[o[1].toLowerCase()])&&(t=n.map((function(t){return"<"+t+">"})).join("")+t+n.map((function(t){return"</"+t+">"})).reverse().join(""));if(r.innerHTML=t,n)for(var i=0;i<n.length;i++)r=r.querySelector(n[i])||r;return r}(n),we.webkit&&function(t){for(var e=t.querySelectorAll(we.chrome?"span:not([class]):not([style])":"span.Apple-converted-space"),n=0;n<e.length;n++){var r=e[n];1==r.childNodes.length&&" "==r.textContent&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}(s);var m=s&&s.querySelector("[data-pm-slice]"),v=m&&/^(\d+) (\d+) (.*)/.exec(m.getAttribute("data-pm-slice"));if(!a){var g=t.someProp("clipboardParser")||t.someProp("domParser")||tt.fromSchema(t.state.schema);a=g.parseSlice(s,{preserveWhitespace:!(!u&&!v),context:o})}return a=v?function(t,e){if(!t.size)return t;var n,r=t.content.firstChild.type.schema;try{n=JSON.parse(e)}catch(e){return t}for(var o=t.content,s=t.openStart,a=t.openEnd,c=n.length-2;c>=0;c-=2){var u=r.nodes[n[c]];if(!u||u.hasRequiredAttrs())break;o=i.from(u.create(n[c+1],o)),s++,a++}return new f(o,s,a)}(function(t,e,n){e<t.openStart&&(t=new f(or(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd));n<t.openEnd&&(t=new f(or(t.content,1,n,t.openEnd,0,0),t.openStart,n));return t}(a,+v[1],+v[2]),v[3]):f.maxOpen(function(t,e){if(t.childCount<2)return t;for(var n=function(n){var r=e.node(n).contentMatchAt(e.index(n)),o=void 0,s=[];if(t.forEach((function(t){if(s){var e,n=r.findWrapping(t.type);if(!n)return s=null;if(e=s.length&&o.length&&function t(e,n,r,o,s){if(s<e.length&&s<n.length&&e[s]==n[s]){var a=t(e,n,r,o.lastChild,s+1);if(a)return o.copy(o.content.replaceChild(o.childCount-1,a));if(o.contentMatchAt(o.childCount).matchType(s==e.length-1?r.type:e[s+1]))return o.copy(o.content.append(i.from(rr(r,e,s+1))))}}(n,o,t,s[s.length-1],0))s[s.length-1]=e;else{s.length&&(s[s.length-1]=function t(e,n){if(0==n)return e;var r=e.content.replaceChild(e.childCount-1,t(e.lastChild,n-1)),o=e.contentMatchAt(e.childCount).fillBefore(i.empty,!0);return e.copy(r.append(o))}(s[s.length-1],o.length));var a=rr(t,n);s.push(a),r=r.matchType(a.type,a.attrs),o=n}}})),s)return{v:i.from(s)}},r=e.depth;r>=0;r--){var o=n(r);if(o)return o.v}return t}(a.content,o),!1),t.someProp("transformPasted",(function(t){a=t(a)})),a}function rr(t,e,n){void 0===n&&(n=0);for(var r=e.length-1;r>=n;r--)t=e[r].create(null,i.from(t));return t}function or(t,e,n,r,o,s){var a=e<0?t.firstChild:t.lastChild,c=a.content;return o<r-1&&(c=or(c,e,n,r,o+1,s)),o>=n&&(c=e<0?a.contentMatchAt(0).fillBefore(c,t.childCount>1||s<=o).append(c):c.append(a.contentMatchAt(a.childCount).fillBefore(i.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,a.copy(c))}var ir={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]},sr=null;function ar(){return sr||(sr=document.implementation.createHTMLDocument("title"))}var cr={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},ur=we.ie&&we.ie_version<=11,lr=function(){this.anchorNode=this.anchorOffset=this.focusNode=this.focusOffset=null};lr.prototype.set=function(t){this.anchorNode=t.anchorNode,this.anchorOffset=t.anchorOffset,this.focusNode=t.focusNode,this.focusOffset=t.focusOffset},lr.prototype.eq=function(t){return t.anchorNode==this.anchorNode&&t.anchorOffset==this.anchorOffset&&t.focusNode==this.focusNode&&t.focusOffset==this.focusOffset};var pr=function(t,e){var n=this;this.view=t,this.handleDOMChange=e,this.queue=[],this.flushingSoon=-1,this.observer=window.MutationObserver&&new window.MutationObserver((function(t){for(var e=0;e<t.length;e++)n.queue.push(t[e]);we.ie&&we.ie_version<=11&&t.some((function(t){return"childList"==t.type&&t.removedNodes.length||"characterData"==t.type&&t.oldValue.length>t.target.nodeValue.length}))?n.flushSoon():n.flush()})),this.currentSelection=new lr,ur&&(this.onCharData=function(t){n.queue.push({target:t.target,type:"characterData",oldValue:t.prevValue}),n.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.suppressingSelectionUpdates=!1};pr.prototype.flushSoon=function(){var t=this;this.flushingSoon<0&&(this.flushingSoon=window.setTimeout((function(){t.flushingSoon=-1,t.flush()}),20))},pr.prototype.forceFlush=function(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())},pr.prototype.start=function(){this.observer&&this.observer.observe(this.view.dom,cr),ur&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()},pr.prototype.stop=function(){var t=this;if(this.observer){var e=this.observer.takeRecords();if(e.length){for(var n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout((function(){return t.flush()}),20)}this.observer.disconnect()}ur&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()},pr.prototype.connectSelection=function(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)},pr.prototype.disconnectSelection=function(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)},pr.prototype.suppressSelectionUpdates=function(){var t=this;this.suppressingSelectionUpdates=!0,setTimeout((function(){return t.suppressingSelectionUpdates=!1}),50)},pr.prototype.onSelectionChange=function(){if((!(t=this.view).editable||t.root.activeElement==t.dom)&&In(t)){var t;if(this.suppressingSelectionUpdates)return Tn(this.view);if(we.ie&&we.ie_version<=11&&!this.view.state.selection.empty){var e=this.view.root.getSelection();if(e.focusNode&&Ae(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}},pr.prototype.setCurSelection=function(){this.currentSelection.set(this.view.root.getSelection())},pr.prototype.ignoreSelectionChange=function(t){if(0==t.rangeCount)return!0;var e=t.getRangeAt(0).commonAncestorContainer,n=this.view.docView.nearestDesc(e);return n&&n.ignoreMutation({type:"selection",target:3==e.nodeType?e.parentNode:e})?(this.setCurSelection(),!0):void 0},pr.prototype.flush=function(){if(this.view.docView&&!(this.flushingSoon>-1)){var t=this.observer?this.observer.takeRecords():[];this.queue.length&&(t=this.queue.concat(t),this.queue.length=0);var e=this.view.root.getSelection(),n=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(e)&&In(this.view)&&!this.ignoreSelectionChange(e),r=-1,o=-1,i=!1,s=[];if(this.view.editable)for(var a=0;a<t.length;a++){var c=this.registerMutation(t[a],s);c&&(r=r<0?c.from:Math.min(c.from,r),o=o<0?c.to:Math.max(c.to,o),c.typeOver&&(i=!0))}if(we.gecko&&s.length>1){var u=s.filter((function(t){return"BR"==t.nodeName}));if(2==u.length){var l=u[0],p=u[1];l.parentNode&&l.parentNode.parentNode==p.parentNode?p.remove():l.remove()}}(r>-1||n)&&(r>-1&&(this.view.docView.markDirty(r,o),function(t){if(fr)return;fr=!0,"normal"==getComputedStyle(t.dom).whiteSpace&&console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package.")}(this.view)),this.handleDOMChange(r,o,i,s),this.view.docView.dirty?this.view.updateState(this.view.state):this.currentSelection.eq(e)||Tn(this.view),this.currentSelection.set(e))}},pr.prototype.registerMutation=function(t,e){if(e.indexOf(t.target)>-1)return null;var n=this.view.docView.nearestDesc(t.target);if("attributes"==t.type&&(n==this.view.docView||"contenteditable"==t.attributeName||"style"==t.attributeName&&!t.oldValue&&!t.target.getAttribute("style")))return null;if(!n||n.ignoreMutation(t))return null;if("childList"==t.type){for(var r=0;r<t.addedNodes.length;r++)e.push(t.addedNodes[r]);if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(t.target))return{from:n.posBefore,to:n.posAfter};var o=t.previousSibling,i=t.nextSibling;if(we.ie&&we.ie_version<=11&&t.addedNodes.length)for(var s=0;s<t.addedNodes.length;s++){var a=t.addedNodes[s],c=a.previousSibling,u=a.nextSibling;(!c||Array.prototype.indexOf.call(t.addedNodes,c)<0)&&(o=c),(!u||Array.prototype.indexOf.call(t.addedNodes,u)<0)&&(i=u)}var l=o&&o.parentNode==t.target?Ce(o)+1:0,p=n.localPosFromDOM(t.target,l,-1),f=i&&i.parentNode==t.target?Ce(i):t.target.childNodes.length;return{from:p,to:n.localPosFromDOM(t.target,f,1)}}return"attributes"==t.type?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:{from:n.posAtStart,to:n.posAtEnd,typeOver:t.target.nodeValue==t.oldValue}};var fr=!1;var dr={},hr={};function mr(t,e){t.lastSelectionOrigin=e,t.lastSelectionTime=Date.now()}function vr(t){t.someProp("handleDOMEvents",(function(e){for(var n in e)t.eventHandlers[n]||t.dom.addEventListener(n,t.eventHandlers[n]=function(e){return gr(t,e)})}))}function gr(t,e){return t.someProp("handleDOMEvents",(function(n){var r=n[e.type];return!!r&&(r(t,e)||e.defaultPrevented)}))}function yr(t){return{left:t.clientX,top:t.clientY}}function br(t,e,n,r,o){if(-1==r)return!1;for(var i=t.state.doc.resolve(r),s=function(r){if(t.someProp(e,(function(e){return r>i.depth?e(t,n,i.nodeAfter,i.before(r),o,!0):e(t,n,i.node(r),i.before(r),o,!1)})))return{v:!0}},a=i.depth+1;a>0;a--){var c=s(a);if(c)return c.v}return!1}function wr(t,e,n){t.focused||t.focus();var r=t.state.tr.setSelection(e);"pointer"==n&&r.setMeta("pointer",!0),t.dispatch(r)}function xr(t,e,n,r,o){return br(t,"handleClickOn",e,n,r)||t.someProp("handleClick",(function(n){return n(t,e,r)}))||(o?function(t,e){if(-1==e)return!1;var n,r,o=t.state.selection;o instanceof ne&&(n=o.node);for(var i=t.state.doc.resolve(e),s=i.depth+1;s>0;s--){var a=s>i.depth?i.nodeAfter:i.node(s);if(ne.isSelectable(a)){r=n&&o.$from.depth>0&&s>=o.$from.depth&&i.before(o.$from.depth+1)==o.$from.pos?i.before(o.$from.depth):i.before(s);break}}return null!=r&&(wr(t,ne.create(t.state.doc,r),"pointer"),!0)}(t,n):function(t,e){if(-1==e)return!1;var n=t.state.doc.resolve(e),r=n.nodeAfter;return!!(r&&r.isAtom&&ne.isSelectable(r))&&(wr(t,new ne(n),"pointer"),!0)}(t,n))}function _r(t,e,n,r){return br(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",(function(n){return n(t,e,r)}))}function Or(t,e,n,r){return br(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",(function(n){return n(t,e,r)}))||function(t,e,n){if(0!=n.button)return!1;var r=t.state.doc;if(-1==e)return!!r.inlineContent&&(wr(t,te.create(r,0,r.content.size),"pointer"),!0);for(var o=r.resolve(e),i=o.depth+1;i>0;i--){var s=i>o.depth?o.nodeAfter:o.node(i),a=o.before(i);if(s.inlineContent)wr(t,te.create(r,a+1,a+1+s.content.size),"pointer");else{if(!ne.isSelectable(s))continue;wr(t,ne.create(r,a),"pointer")}return!0}}(t,n,r)}function kr(t){return jr(t)}hr.keydown=function(t,e){if(t.shiftKey=16==e.keyCode||e.shiftKey,!Mr(t,e))if(229!=e.keyCode&&t.domObserver.forceFlush(),t.lastKeyCode=e.keyCode,t.lastKeyCodeTime=Date.now(),!we.ios||13!=e.keyCode||e.ctrlKey||e.altKey||e.metaKey)t.someProp("handleKeyDown",(function(n){return n(t,e)}))||Yn(t,e)?e.preventDefault():mr(t,"key");else{var n=Date.now();t.lastIOSEnter=n,t.lastIOSEnterFallbackTimeout=setTimeout((function(){t.lastIOSEnter==n&&(t.someProp("handleKeyDown",(function(e){return e(t,Le(13,"Enter"))})),t.lastIOSEnter=0)}),200)}},hr.keyup=function(t,e){16==e.keyCode&&(t.shiftKey=!1)},hr.keypress=function(t,e){if(!(Mr(t,e)||!e.charCode||e.ctrlKey&&!e.altKey||we.mac&&e.metaKey))if(t.someProp("handleKeyPress",(function(n){return n(t,e)})))e.preventDefault();else{var n=t.state.selection;if(!(n instanceof te&&n.$from.sameParent(n.$to))){var r=String.fromCharCode(e.charCode);t.someProp("handleTextInput",(function(e){return e(t,n.$from.pos,n.$to.pos,r)}))||t.dispatch(t.state.tr.insertText(r).scrollIntoView()),e.preventDefault()}}};var Sr=we.mac?"metaKey":"ctrlKey";dr.mousedown=function(t,e){t.shiftKey=e.shiftKey;var n=kr(t),r=Date.now(),o="singleClick";r-t.lastClick.time<500&&function(t,e){var n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}(e,t.lastClick)&&!e[Sr]&&("singleClick"==t.lastClick.type?o="doubleClick":"doubleClick"==t.lastClick.type&&(o="tripleClick")),t.lastClick={time:r,x:e.clientX,y:e.clientY,type:o};var i=t.posAtCoords(yr(e));i&&("singleClick"==o?(t.mouseDown&&t.mouseDown.done(),t.mouseDown=new Cr(t,i,e,n)):("doubleClick"==o?_r:Or)(t,i.pos,i.inside,e)?e.preventDefault():mr(t,"pointer"))};var Cr=function(t,e,n,r){var o,i,s=this;if(this.view=t,this.startDoc=t.state.doc,this.pos=e,this.event=n,this.flushed=r,this.selectNode=n[Sr],this.allowDefault=n.shiftKey,e.inside>-1)o=t.state.doc.nodeAt(e.inside),i=e.inside;else{var a=t.state.doc.resolve(e.pos);o=a.parent,i=a.depth?a.before():0}this.mightDrag=null;var c=r?null:n.target,u=c?t.docView.nearestDesc(c,!0):null;this.target=u?u.dom:null;var l=t.state.selection;(0==n.button&&o.type.spec.draggable&&!1!==o.type.spec.selectable||l instanceof ne&&l.from<=i&&l.to>i)&&(this.mightDrag={node:o,pos:i,addAttr:this.target&&!this.target.draggable,setUneditable:this.target&&we.gecko&&!this.target.hasAttribute("contentEditable")}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout((function(){s.view.mouseDown==s&&s.target.setAttribute("contentEditable","false")}),20),this.view.domObserver.start()),t.root.addEventListener("mouseup",this.up=this.up.bind(this)),t.root.addEventListener("mousemove",this.move=this.move.bind(this)),mr(t,"pointer")};function Mr(t,e){return!!t.composing||!!(we.safari&&Math.abs(e.timeStamp-t.compositionEndedAt)<500)&&(t.compositionEndedAt=-2e8,!0)}Cr.prototype.done=function(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.view.mouseDown=null},Cr.prototype.up=function(t){if(this.done(),this.view.dom.contains(3==t.target.nodeType?t.target.parentNode:t.target)){var e=this.pos;this.view.state.doc!=this.startDoc&&(e=this.view.posAtCoords(yr(t))),this.allowDefault||!e?mr(this.view,"pointer"):xr(this.view,e.pos,e.inside,t,this.selectNode)?t.preventDefault():0==t.button&&(this.flushed||we.safari&&this.mightDrag&&!this.mightDrag.node.isAtom||we.chrome&&!(this.view.state.selection instanceof te)&&Math.min(Math.abs(e.pos-this.view.state.selection.from),Math.abs(e.pos-this.view.state.selection.to))<=2)?(wr(this.view,Xt.near(this.view.state.doc.resolve(e.pos)),"pointer"),t.preventDefault()):mr(this.view,"pointer")}},Cr.prototype.move=function(t){!this.allowDefault&&(Math.abs(this.event.x-t.clientX)>4||Math.abs(this.event.y-t.clientY)>4)&&(this.allowDefault=!0),mr(this.view,"pointer"),0==t.buttons&&this.done()},dr.touchdown=function(t){kr(t),mr(t,"pointer")},dr.contextmenu=function(t){return kr(t)};var Er=we.android?5e3:-1;function Tr(t,e){clearTimeout(t.composingTimeout),e>-1&&(t.composingTimeout=setTimeout((function(){return jr(t)}),e))}function Ar(t){var e;for(t.composing&&(t.composing=!1,t.compositionEndedAt=((e=document.createEvent("Event")).initEvent("event",!0,!0),e.timeStamp));t.compositionNodes.length>0;)t.compositionNodes.pop().markParentsDirty()}function jr(t,e){if(t.domObserver.forceFlush(),Ar(t),e||t.docView.dirty){var n=Mn(t);return n&&!n.eq(t.state.selection)?t.dispatch(t.state.tr.setSelection(n)):t.updateState(t.state),!0}return!1}hr.compositionstart=hr.compositionupdate=function(t){if(!t.composing){t.domObserver.flush();var e=t.state,n=e.selection.$from;if(e.selection.empty&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some((function(t){return!1===t.type.spec.inclusive}))))t.markCursor=t.state.storedMarks||n.marks(),jr(t,!0),t.markCursor=null;else if(jr(t),we.gecko&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length)for(var r=t.root.getSelection(),o=r.focusNode,i=r.focusOffset;o&&1==o.nodeType&&0!=i;){var s=i<0?o.lastChild:o.childNodes[i-1];if(!s)break;if(3==s.nodeType){r.collapse(s,s.nodeValue.length);break}o=s,i=-1}t.composing=!0}Tr(t,Er)},hr.compositionend=function(t,e){t.composing&&(t.composing=!1,t.compositionEndedAt=e.timeStamp,Tr(t,20))};var $r=we.ie&&we.ie_version<15||we.ios&&we.webkit_version<604;function Nr(t,e,n,r){var o=nr(t,e,n,t.shiftKey,t.state.selection.$from);if(t.someProp("handlePaste",(function(e){return e(t,r,o||f.empty)})))return!0;if(!o)return!1;var i=function(t){return 0==t.openStart&&0==t.openEnd&&1==t.content.childCount?t.content.firstChild:null}(o),s=i?t.state.tr.replaceSelectionWith(i,t.shiftKey):t.state.tr.replaceSelection(o);return t.dispatch(s.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}dr.copy=hr.cut=function(t,e){var n=t.state.selection,r="cut"==e.type;if(!n.empty){var o=$r?null:e.clipboardData,i=er(t,n.content()),s=i.dom,a=i.text;o?(e.preventDefault(),o.clearData(),o.setData("text/html",s.innerHTML),o.setData("text/plain",a)):function(t,e){if(t.dom.parentNode){var n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";var r=getSelection(),o=document.createRange();o.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(o),setTimeout((function(){n.parentNode&&n.parentNode.removeChild(n),t.focus()}),50)}}(t,s),r&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))}},hr.paste=function(t,e){var n=$r?null:e.clipboardData;n&&Nr(t,n.getData("text/plain"),n.getData("text/html"),e)?e.preventDefault():function(t,e){if(t.dom.parentNode){var n=t.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus(),setTimeout((function(){t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?Nr(t,r.value,null,e):Nr(t,r.textContent,r.innerHTML,e)}),50)}}(t,e)};var Dr=function(t,e){this.slice=t,this.move=e},Pr=we.mac?"altKey":"ctrlKey";for(var Lr in dr.dragstart=function(t,e){var n=t.mouseDown;if(n&&n.done(),e.dataTransfer){var r=t.state.selection,o=r.empty?null:t.posAtCoords(yr(e));if(o&&o.pos>=r.from&&o.pos<=(r instanceof ne?r.to-1:r.to));else if(n&&n.mightDrag)t.dispatch(t.state.tr.setSelection(ne.create(t.state.doc,n.mightDrag.pos)));else if(e.target&&1==e.target.nodeType){var i=t.docView.nearestDesc(e.target,!0);i&&i.node.type.spec.draggable&&i!=t.docView&&t.dispatch(t.state.tr.setSelection(ne.create(t.state.doc,i.posBefore)))}var s=t.state.selection.content(),a=er(t,s),c=a.dom,u=a.text;e.dataTransfer.clearData(),e.dataTransfer.setData($r?"Text":"text/html",c.innerHTML),e.dataTransfer.effectAllowed="copyMove",$r||e.dataTransfer.setData("text/plain",u),t.dragging=new Dr(s,!e[Pr])}},dr.dragend=function(t){var e=t.dragging;window.setTimeout((function(){t.dragging==e&&(t.dragging=null)}),50)},hr.dragover=hr.dragenter=function(t,e){return e.preventDefault()},hr.drop=function(t,e){var n=t.dragging;if(t.dragging=null,e.dataTransfer){var r=t.posAtCoords(yr(e));if(r){var o=t.state.doc.resolve(r.pos);if(o){var i=n&&n.slice;i?t.someProp("transformPasted",(function(t){i=t(i)})):i=nr(t,e.dataTransfer.getData($r?"Text":"text/plain"),$r?null:e.dataTransfer.getData("text/html"),!1,o);var s=n&&!e[Pr];if(t.someProp("handleDrop",(function(n){return n(t,e,i||f.empty,s)})))e.preventDefault();else if(i){e.preventDefault();var a=i?Lt(t.state.doc,o.pos,i):o.pos;null==a&&(a=o.pos);var c=t.state.tr;s&&c.deleteSelection();var u=c.mapping.map(a),l=0==i.openStart&&0==i.openEnd&&1==i.content.childCount,p=c.doc;if(l?c.replaceRangeWith(u,u,i.content.firstChild):c.replaceRange(u,u,i),!c.doc.eq(p)){var d=c.doc.resolve(u);if(l&&ne.isSelectable(i.content.firstChild)&&d.nodeAfter&&d.nodeAfter.sameMarkup(i.content.firstChild))c.setSelection(new ne(d));else{var h=c.mapping.map(a);c.mapping.maps[c.mapping.maps.length-1].forEach((function(t,e,n,r){return h=r})),c.setSelection(Ln(t,d,c.doc.resolve(h)))}t.focus(),t.dispatch(c.setMeta("uiEvent","drop"))}}}}}},dr.focus=function(t){t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout((function(){t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.root.getSelection())&&Tn(t)}),20))},dr.blur=function(t){t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),t.domObserver.currentSelection.set({}),t.focused=!1)},dr.beforeinput=function(t,e){if(we.chrome&&we.android&&"deleteContentBackward"==e.inputType){var n=t.domChangeCount;setTimeout((function(){if(t.domChangeCount==n&&(t.dom.blur(),t.focus(),!t.someProp("handleKeyDown",(function(e){return e(t,Le(8,"Backspace"))})))){var e=t.state.selection.$cursor;e&&e.pos>0&&t.dispatch(t.state.tr.delete(e.pos-1,e.pos).scrollIntoView())}}),50)}},hr)dr[Lr]=hr[Lr];function Ir(t,e){if(t==e)return!0;for(var n in t)if(t[n]!==e[n])return!1;for(var r in e)if(!(r in t))return!1;return!0}var Rr=function(t,e){this.spec=e||Ur,this.side=this.spec.side||0,this.toDOM=t};Rr.prototype.map=function(t,e,n,r){var o=t.mapResult(e.from+r,this.side<0?-1:1),i=o.pos;return o.deleted?null:new Fr(i-n,i-n,this)},Rr.prototype.valid=function(){return!0},Rr.prototype.eq=function(t){return this==t||t instanceof Rr&&(this.spec.key&&this.spec.key==t.spec.key||this.toDOM==t.toDOM&&Ir(this.spec,t.spec))};var zr=function(t,e){this.spec=e||Ur,this.attrs=t};zr.prototype.map=function(t,e,n,r){var o=t.map(e.from+r,this.spec.inclusiveStart?-1:1)-n,i=t.map(e.to+r,this.spec.inclusiveEnd?1:-1)-n;return o>=i?null:new Fr(o,i,this)},zr.prototype.valid=function(t,e){return e.from<e.to},zr.prototype.eq=function(t){return this==t||t instanceof zr&&Ir(this.attrs,t.attrs)&&Ir(this.spec,t.spec)},zr.is=function(t){return t.type instanceof zr};var Br=function(t,e){this.spec=e||Ur,this.attrs=t};Br.prototype.map=function(t,e,n,r){var o=t.mapResult(e.from+r,1);if(o.deleted)return null;var i=t.mapResult(e.to+r,-1);return i.deleted||i.pos<=o.pos?null:new Fr(o.pos-n,i.pos-n,this)},Br.prototype.valid=function(t,e){var n=t.content.findIndex(e.from),r=n.index,o=n.offset;return o==e.from&&o+t.child(r).nodeSize==e.to},Br.prototype.eq=function(t){return this==t||t instanceof Br&&Ir(this.attrs,t.attrs)&&Ir(this.spec,t.spec)};var Fr=function(t,e,n){this.from=t,this.to=e,this.type=n},Vr={spec:{configurable:!0},inline:{configurable:!0}};Fr.prototype.copy=function(t,e){return new Fr(t,e,this.type)},Fr.prototype.eq=function(t,e){return void 0===e&&(e=0),this.type.eq(t.type)&&this.from+e==t.from&&this.to+e==t.to},Fr.prototype.map=function(t,e,n){return this.type.map(t,this,e,n)},Fr.widget=function(t,e,n){return new Fr(t,t,new Rr(e,n))},Fr.inline=function(t,e,n,r){return new Fr(t,e,new zr(n,r))},Fr.node=function(t,e,n,r){return new Fr(t,e,new Br(n,r))},Vr.spec.get=function(){return this.type.spec},Vr.inline.get=function(){return this.type instanceof zr},Object.defineProperties(Fr.prototype,Vr);var Hr=[],Ur={},qr=function(t,e){this.local=t&&t.length?t:Hr,this.children=e&&e.length?e:Hr};qr.create=function(t,e){return e.length?Xr(e,t,0,Ur):Wr},qr.prototype.find=function(t,e,n){var r=[];return this.findInner(null==t?0:t,null==e?1e9:e,r,0,n),r},qr.prototype.findInner=function(t,e,n,r,o){for(var i=0;i<this.local.length;i++){var s=this.local[i];s.from<=e&&s.to>=t&&(!o||o(s.spec))&&n.push(s.copy(s.from+r,s.to+r))}for(var a=0;a<this.children.length;a+=3)if(this.children[a]<e&&this.children[a+1]>t){var c=this.children[a]+1;this.children[a+2].findInner(t-c,e-c,n,r+c,o)}},qr.prototype.map=function(t,e,n){return this==Wr||0==t.maps.length?this:this.mapInner(t,e,0,0,n||Ur)},qr.prototype.mapInner=function(t,e,n,r,o){for(var i,s=0;s<this.local.length;s++){var a=this.local[s].map(t,n,r);a&&a.type.valid(e,a)?(i||(i=[])).push(a):o.onRemove&&o.onRemove(this.local[s].spec)}return this.children.length?function(t,e,n,r,o,i,s){for(var a=t.slice(),c=function(t,e,n,r){for(var s=0;s<a.length;s+=3){var c=a[s+1],u=void 0;-1==c||t>c+i||(e>=a[s]+i?a[s+1]=-1:n>=o&&(u=r-n-(e-t))&&(a[s]+=u,a[s+1]+=u))}},u=0;u<n.maps.length;u++)n.maps[u].forEach(c);for(var l=!1,p=0;p<a.length;p+=3)if(-1==a[p+1]){var f=n.map(t[p]+i),d=f-o;if(d<0||d>=r.content.size){l=!0;continue}var h=n.map(t[p+1]+i,-1)-o,m=r.content.findIndex(d),v=m.index,g=m.offset,y=r.maybeChild(v);if(y&&g==d&&g+y.nodeSize==h){var b=a[p+2].mapInner(n,y,f+1,t[p]+i+1,s);b!=Wr?(a[p]=d,a[p+1]=h,a[p+2]=b):(a[p+1]=-2,l=!0)}else l=!0}if(l){var w=Xr(function(t,e,n,r,o,i,s){function a(t,e){for(var i=0;i<t.local.length;i++){var c=t.local[i].map(r,o,e);c?n.push(c):s.onRemove&&s.onRemove(t.local[i].spec)}for(var u=0;u<t.children.length;u+=3)a(t.children[u+2],t.children[u]+e+1)}for(var c=0;c<t.length;c+=3)-1==t[c+1]&&a(t[c+2],e[c]+i+1);return n}(a,t,e||[],n,o,i,s),r,0,s);e=w.local;for(var x=0;x<a.length;x+=3)a[x+1]<0&&(a.splice(x,3),x-=3);for(var _=0,O=0;_<w.children.length;_+=3){for(var k=w.children[_];O<a.length&&a[O]<k;)O+=3;a.splice(O,0,w.children[_],w.children[_+1],w.children[_+2])}}return new qr(e&&e.sort(Zr),a)}(this.children,i,t,e,n,r,o):i?new qr(i.sort(Zr)):Wr},qr.prototype.add=function(t,e){return e.length?this==Wr?qr.create(t,e):this.addInner(t,e,0):this},qr.prototype.addInner=function(t,e,n){var r,o=this,i=0;t.forEach((function(t,s){var a,c=s+n;if(a=Gr(e,t,c)){for(r||(r=o.children.slice());i<r.length&&r[i]<s;)i+=3;r[i]==s?r[i+2]=r[i+2].addInner(t,a,c+1):r.splice(i,0,s,s+t.nodeSize,Xr(a,t,c+1,Ur)),i+=3}}));for(var s=Kr(i?Yr(e):e,-n),a=0;a<s.length;a++)s[a].type.valid(t,s[a])||s.splice(a--,1);return new qr(s.length?this.local.concat(s).sort(Zr):this.local,r||this.children)},qr.prototype.remove=function(t){return 0==t.length||this==Wr?this:this.removeInner(t,0)},qr.prototype.removeInner=function(t,e){for(var n=this.children,r=this.local,o=0;o<n.length;o+=3){for(var i=void 0,s=n[o]+e,a=n[o+1]+e,c=0,u=void 0;c<t.length;c++)(u=t[c])&&u.from>s&&u.to<a&&(t[c]=null,(i||(i=[])).push(u));if(i){n==this.children&&(n=this.children.slice());var l=n[o+2].removeInner(i,s+1);l!=Wr?n[o+2]=l:(n.splice(o,3),o-=3)}}if(r.length)for(var p=0,f=void 0;p<t.length;p++)if(f=t[p])for(var d=0;d<r.length;d++)r[d].eq(f,e)&&(r==this.local&&(r=this.local.slice()),r.splice(d--,1));return n==this.children&&r==this.local?this:r.length||n.length?new qr(r,n):Wr},qr.prototype.forChild=function(t,e){if(this==Wr)return this;if(e.isLeaf)return qr.empty;for(var n,r,o=0;o<this.children.length;o+=3)if(this.children[o]>=t){this.children[o]==t&&(n=this.children[o+2]);break}for(var i=t+1,s=i+e.content.size,a=0;a<this.local.length;a++){var c=this.local[a];if(c.from<s&&c.to>i&&c.type instanceof zr){var u=Math.max(i,c.from)-i,l=Math.min(s,c.to)-i;u<l&&(r||(r=[])).push(c.copy(u,l))}}if(r){var p=new qr(r.sort(Zr));return n?new Jr([p,n]):p}return n||Wr},qr.prototype.eq=function(t){if(this==t)return!0;if(!(t instanceof qr)||this.local.length!=t.local.length||this.children.length!=t.children.length)return!1;for(var e=0;e<this.local.length;e++)if(!this.local[e].eq(t.local[e]))return!1;for(var n=0;n<this.children.length;n+=3)if(this.children[n]!=t.children[n]||this.children[n+1]!=t.children[n+1]||!this.children[n+2].eq(t.children[n+2]))return!1;return!0},qr.prototype.locals=function(t){return Qr(this.localsInner(t))},qr.prototype.localsInner=function(t){if(this==Wr)return Hr;if(t.inlineContent||!this.local.some(zr.is))return this.local;for(var e=[],n=0;n<this.local.length;n++)this.local[n].type instanceof zr||e.push(this.local[n]);return e};var Wr=new qr;qr.empty=Wr,qr.removeOverlap=Qr;var Jr=function(t){this.members=t};function Kr(t,e){if(!e||!t.length)return t;for(var n=[],r=0;r<t.length;r++){var o=t[r];n.push(new Fr(o.from+e,o.to+e,o.type))}return n}function Gr(t,e,n){if(e.isLeaf)return null;for(var r=n+e.nodeSize,o=null,i=0,s=void 0;i<t.length;i++)(s=t[i])&&s.from>n&&s.to<r&&((o||(o=[])).push(s),t[i]=null);return o}function Yr(t){for(var e=[],n=0;n<t.length;n++)null!=t[n]&&e.push(t[n]);return e}function Xr(t,e,n,r){var o=[],i=!1;e.forEach((function(e,s){var a=Gr(t,e,s+n);if(a){i=!0;var c=Xr(a,e,n+s+1,r);c!=Wr&&o.push(s,s+e.nodeSize,c)}}));for(var s=Kr(i?Yr(t):t,-n).sort(Zr),a=0;a<s.length;a++)s[a].type.valid(e,s[a])||(r.onRemove&&r.onRemove(s[a].spec),s.splice(a--,1));return s.length||o.length?new qr(s,o):Wr}function Zr(t,e){return t.from-e.from||t.to-e.to}function Qr(t){for(var e=t,n=0;n<e.length-1;n++){var r=e[n];if(r.from!=r.to)for(var o=n+1;o<e.length;o++){var i=e[o];if(i.from!=r.from){i.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,i.from),to(e,o,r.copy(i.from,r.to)));break}i.to!=r.to&&(e==t&&(e=t.slice()),e[o]=i.copy(i.from,r.to),to(e,o+1,i.copy(r.to,i.to)))}}return e}function to(t,e,n){for(;e<t.length&&Zr(n,t[e])>0;)e++;t.splice(e,0,n)}function eo(t){var e=[];return t.someProp("decorations",(function(n){var r=n(t.state);r&&r!=Wr&&e.push(r)})),t.cursorWrapper&&e.push(qr.create(t.state.doc,[t.cursorWrapper.deco])),Jr.from(e)}Jr.prototype.map=function(t,e){var n=this.members.map((function(n){return n.map(t,e,Ur)}));return Jr.from(n)},Jr.prototype.forChild=function(t,e){if(e.isLeaf)return qr.empty;for(var n=[],r=0;r<this.members.length;r++){var o=this.members[r].forChild(t,e);o!=Wr&&(o instanceof Jr?n=n.concat(o.members):n.push(o))}return Jr.from(n)},Jr.prototype.eq=function(t){if(!(t instanceof Jr)||t.members.length!=this.members.length)return!1;for(var e=0;e<this.members.length;e++)if(!this.members[e].eq(t.members[e]))return!1;return!0},Jr.prototype.locals=function(t){for(var e,n=!0,r=0;r<this.members.length;r++){var o=this.members[r].localsInner(t);if(o.length)if(e){n&&(e=e.slice(),n=!1);for(var i=0;i<o.length;i++)e.push(o[i])}else e=o}return e?Qr(n?e:e.sort(Zr)):Hr},Jr.from=function(t){switch(t.length){case 0:return Wr;case 1:return t[0];default:return new Jr(t)}};var no=function(t,e){this._props=e,this.state=e.state,this.dispatch=this.dispatch.bind(this),this._root=null,this.focused=!1,this.trackWrites=null,this.dom=t&&t.mount||document.createElement("div"),t&&(t.appendChild?t.appendChild(this.dom):t.apply?t(this.dom):t.mount&&(this.mounted=!0)),this.editable=so(this),this.markCursor=null,this.cursorWrapper=null,io(this),this.nodeViews=ao(this),this.docView=fn(this.state.doc,oo(this),eo(this),this.dom,this),this.lastSelectedViewDesc=null,this.dragging=null,function(t){t.shiftKey=!1,t.mouseDown=null,t.lastKeyCode=null,t.lastKeyCodeTime=0,t.lastClick={time:0,x:0,y:0,type:""},t.lastSelectionOrigin=null,t.lastSelectionTime=0,t.lastIOSEnter=0,t.lastIOSEnterFallbackTimeout=null,t.lastAndroidDelete=0,t.composing=!1,t.composingTimeout=null,t.compositionNodes=[],t.compositionEndedAt=-2e8,t.domObserver=new pr(t,(function(e,n,r,o){return Zn(t,e,n,r,o)})),t.domObserver.start(),t.domChangeCount=0,t.eventHandlers=Object.create(null);var e=function(e){var n=dr[e];t.dom.addEventListener(e,t.eventHandlers[e]=function(e){!function(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(var n=e.target;n!=t.dom;n=n.parentNode)if(!n||11==n.nodeType||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}(t,e)||gr(t,e)||!t.editable&&e.type in hr||n(t,e)})};for(var n in dr)e(n);we.safari&&t.dom.addEventListener("input",(function(){return null})),vr(t)}(this),this.pluginViews=[],this.updatePluginViews()},ro={props:{configurable:!0},root:{configurable:!0}};function oo(t){var e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),e.translate="no",t.someProp("attributes",(function(n){if("function"==typeof n&&(n=n(t.state)),n)for(var r in n)"class"==r?e.class+=" "+n[r]:e[r]||"contenteditable"==r||"nodeName"==r||(e[r]=String(n[r]))})),[Fr.node(0,t.state.doc.content.size,e)]}function io(t){if(t.markCursor){var e=document.createElement("img");e.setAttribute("mark-placeholder","true"),t.cursorWrapper={dom:e,deco:Fr.widget(t.state.selection.head,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function so(t){return!t.someProp("editable",(function(e){return!1===e(t.state)}))}function ao(t){var e={};return t.someProp("nodeViews",(function(t){for(var n in t)Object.prototype.hasOwnProperty.call(e,n)||(e[n]=t[n])})),e}ro.props.get=function(){if(this._props.state!=this.state){var t=this._props;for(var e in this._props={},t)this._props[e]=t[e];this._props.state=this.state}return this._props},no.prototype.update=function(t){t.handleDOMEvents!=this._props.handleDOMEvents&&vr(this),this._props=t,this.updateStateInner(t.state,!0)},no.prototype.setProps=function(t){var e={};for(var n in this._props)e[n]=this._props[n];for(var r in e.state=this.state,t)e[r]=t[r];this.update(e)},no.prototype.updateState=function(t){this.updateStateInner(t,this.state.plugins!=t.plugins)},no.prototype.updateStateInner=function(t,e){var n=this,r=this.state,o=!1,i=!1;if(t.storedMarks&&this.composing&&(Ar(this),i=!0),this.state=t,e){var s=ao(this);(function(t,e){var n=0,r=0;for(var o in t){if(t[o]!=e[o])return!0;n++}for(var i in e)r++;return n!=r})(s,this.nodeViews)&&(this.nodeViews=s,o=!0),vr(this)}this.editable=so(this),io(this);var a=eo(this),c=oo(this),u=e?"reset":t.scrollToSelection>r.scrollToSelection?"to selection":"preserve",l=o||!this.docView.matchesNode(t.doc,c,a);!l&&t.selection.eq(r.selection)||(i=!0);var p,f,d,h,m,v,g,y,b,w,x,_="preserve"==u&&i&&null==this.dom.style.overflowAnchor&&function(t){for(var e,n,r=t.dom.getBoundingClientRect(),o=Math.max(0,r.top),i=(r.left+r.right)/2,s=o+1;s<Math.min(innerHeight,r.bottom);s+=5){var a=t.root.elementFromPoint(i,s);if(a!=t.dom&&t.dom.contains(a)){var c=a.getBoundingClientRect();if(c.top>=o-20){e=a,n=c.top;break}}}return{refDOM:e,refTop:n,stack:Fe(t.dom)}}(this);if(i){this.domObserver.stop();var O=l&&(we.ie||we.chrome)&&!this.composing&&!r.selection.empty&&!t.selection.empty&&(h=r.selection,m=t.selection,v=Math.min(h.$anchor.sharedDepth(h.head),m.$anchor.sharedDepth(m.head)),h.$anchor.start(v)!=m.$anchor.start(v));if(l){var k=we.chrome?this.trackWrites=this.root.getSelection().focusNode:null;!o&&this.docView.update(t.doc,c,a,this)||(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=fn(t.doc,c,a,this.dom,this)),k&&!this.trackWrites&&(O=!0)}O||!(this.mouseDown&&this.domObserver.currentSelection.eq(this.root.getSelection())&&(p=this,f=p.docView.domFromPos(p.state.selection.anchor,0),d=p.root.getSelection(),Ae(f.node,f.offset,d.anchorNode,d.anchorOffset)))?Tn(this,O):(Dn(this,t.selection),this.domObserver.setCurSelection()),this.domObserver.start()}if(this.updatePluginViews(r),"reset"==u)this.dom.scrollTop=0;else if("to selection"==u){var S=this.root.getSelection().focusNode;this.someProp("handleScrollToSelection",(function(t){return t(n)}))||(t.selection instanceof ne?Be(this,this.docView.domAfterPos(t.selection.from).getBoundingClientRect(),S):Be(this,this.coordsAtPos(t.selection.head,1),S))}else _&&(y=(g=_).refDOM,b=g.refTop,w=g.stack,x=y?y.getBoundingClientRect().top:0,Ve(w,0==x?0:x-b))},no.prototype.destroyPluginViews=function(){for(var t;t=this.pluginViews.pop();)t.destroy&&t.destroy()},no.prototype.updatePluginViews=function(t){if(t&&t.plugins==this.state.plugins)for(var e=0;e<this.pluginViews.length;e++){var n=this.pluginViews[e];n.update&&n.update(this,t)}else{this.destroyPluginViews();for(var r=0;r<this.state.plugins.length;r++){var o=this.state.plugins[r];o.spec.view&&this.pluginViews.push(o.spec.view(this))}}},no.prototype.someProp=function(t,e){var n,r=this._props&&this._props[t];if(null!=r&&(n=e?e(r):r))return n;var o=this.state.plugins;if(o)for(var i=0;i<o.length;i++){var s=o[i].props[t];if(null!=s&&(n=e?e(s):s))return n}},no.prototype.hasFocus=function(){return this.root.activeElement==this.dom},no.prototype.focus=function(){this.domObserver.stop(),this.editable&&function(t){if(t.setActive)return t.setActive();if(He)return t.focus(He);var e=Fe(t);t.focus(null==He?{get preventScroll(){return He={preventScroll:!0},!0}}:void 0),He||(He=!1,Ve(e,0))}(this.dom),Tn(this),this.domObserver.start()},ro.root.get=function(){var t=this._root;if(null==t)for(var e=this.dom.parentNode;e;e=e.parentNode)if(9==e.nodeType||11==e.nodeType&&e.host)return e.getSelection||(Object.getPrototypeOf(e).getSelection=function(){return document.getSelection()}),this._root=e;return t||document},no.prototype.posAtCoords=function(t){return We(this,t)},no.prototype.coordsAtPos=function(t,e){return void 0===e&&(e=1),Ge(this,t,e)},no.prototype.domAtPos=function(t,e){return void 0===e&&(e=0),this.docView.domFromPos(t,e)},no.prototype.nodeDOM=function(t){var e=this.docView.descAt(t);return e?e.nodeDOM:null},no.prototype.posAtDOM=function(t,e,n){void 0===n&&(n=-1);var r=this.docView.posFromDOM(t,e,n);if(null==r)throw new RangeError("DOM position not inside the editor");return r},no.prototype.endOfTextblock=function(t,e){return rn(this,e||this.state,t)},no.prototype.destroy=function(){this.docView&&(!function(t){for(var e in t.domObserver.stop(),t.eventHandlers)t.dom.removeEventListener(e,t.eventHandlers[e]);clearTimeout(t.composingTimeout),clearTimeout(t.lastIOSEnterFallbackTimeout)}(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],eo(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)},no.prototype.dispatchEvent=function(t){return function(t,e){gr(t,e)||!dr[e.type]||!t.editable&&e.type in hr||dr[e.type](t,e)}(this,t)},no.prototype.dispatch=function(t){var e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))},Object.defineProperties(no.prototype,ro);for(var co={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",229:"q"},uo={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"',229:"Q"},lo="undefined"!=typeof navigator&&/Chrome\/(\d+)/.exec(navigator.userAgent),po="undefined"!=typeof navigator&&/Apple Computer/.test(navigator.vendor),fo="undefined"!=typeof navigator&&/Gecko\/\d+/.test(navigator.userAgent),ho="undefined"!=typeof navigator&&/Mac/.test(navigator.platform),mo="undefined"!=typeof navigator&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),vo=lo&&(ho||+lo[1]<57)||fo&&ho,go=0;go<10;go++)co[48+go]=co[96+go]=String(go);for(go=1;go<=24;go++)co[go+111]="F"+go;for(go=65;go<=90;go++)co[go]=String.fromCharCode(go+32),uo[go]=String.fromCharCode(go);for(var yo in co)uo.hasOwnProperty(yo)||(uo[yo]=co[yo]);var bo="undefined"!=typeof navigator&&/Mac/.test(navigator.platform);function wo(t){var e,n,r,o,i=t.split(/-(?!$)/),s=i[i.length-1];"Space"==s&&(s=" ");for(var a=0;a<i.length-1;a++){var c=i[a];if(/^(cmd|meta|m)$/i.test(c))o=!0;else if(/^a(lt)?$/i.test(c))e=!0;else if(/^(c|ctrl|control)$/i.test(c))n=!0;else if(/^s(hift)?$/i.test(c))r=!0;else{if(!/^mod$/i.test(c))throw new Error("Unrecognized modifier name: "+c);bo?o=!0:n=!0}}return e&&(s="Alt-"+s),n&&(s="Ctrl-"+s),o&&(s="Meta-"+s),r&&(s="Shift-"+s),s}function xo(t,e,n){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),!1!==n&&e.shiftKey&&(t="Shift-"+t),t}function _o(t){var e=function(t){var e=Object.create(null);for(var n in t)e[wo(n)]=t[n];return e}(t);return function(t,n){var r,o=function(t){var e=!(vo&&(t.ctrlKey||t.altKey||t.metaKey)||(po||mo)&&t.shiftKey&&t.key&&1==t.key.length)&&t.key||(t.shiftKey?uo:co)[t.keyCode]||t.key||"Unidentified";return"Esc"==e&&(e="Escape"),"Del"==e&&(e="Delete"),"Left"==e&&(e="ArrowLeft"),"Up"==e&&(e="ArrowUp"),"Right"==e&&(e="ArrowRight"),"Down"==e&&(e="ArrowDown"),e}(n),i=1==o.length&&" "!=o,s=e[xo(o,n,!i)];if(s&&s(t.state,t.dispatch,t))return!0;if(i&&(n.shiftKey||n.altKey||n.metaKey||o.charCodeAt(0)>127)&&(r=co[n.keyCode])&&r!=o){var a=e[xo(r,n,!0)];if(a&&a(t.state,t.dispatch,t))return!0}else if(i&&n.shiftKey){var c=e[xo(o,n,!0)];if(c&&c(t.state,t.dispatch,t))return!0}return!1}}var Oo=function(t,e){var n;this.match=t,this.handler="string"==typeof e?(n=e,function(t,e,r,o){var i=n;if(e[1]){var s=e[0].lastIndexOf(e[1]);i+=e[0].slice(s+e[1].length);var a=(r+=s)-o;a>0&&(i=e[0].slice(s-a,s)+i,r=o)}return t.tr.insertText(i,r,o)}):e};function ko(t,e,n,r,o,i){if(t.composing)return!1;var s=t.state,a=s.doc.resolve(e);if(a.parent.type.spec.code)return!1;for(var c=a.parent.textBetween(Math.max(0,a.parentOffset-500),a.parentOffset,null,"￼")+r,u=0;u<o.length;u++){var l=o[u].match.exec(c),p=l&&o[u].handler(s,l,e-(l[0].length-r.length),n);if(p)return t.dispatch(p.setMeta(i,{transform:p,from:e,to:n,text:r})),!0}return!1}new Oo(/--$/,"—"),new Oo(/\.\.\.$/,"…"),new Oo(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,"“"),new Oo(/"$/,"”"),new Oo(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,"‘"),new Oo(/'$/,"’");function So(t,e,n,r){return new Oo(t,(function(t,o,i,s){var a=n instanceof Function?n(o):n,c=t.tr.delete(i,s),u=c.doc.resolve(i).blockRange(),l=u&&jt(u,e,a);if(!l)return null;c.wrap(u,l);var p=c.doc.resolve(i-1).nodeBefore;return p&&p.type==e&&Dt(c.doc,i-1)&&(!r||r(o,p))&&c.join(i-1),c}))}function Co(t,e,n){return new Oo(t,(function(t,r,o,i){var s=t.doc.resolve(o),a=n instanceof Function?n(r):n;return s.node(-1).canReplaceWith(s.index(-1),s.indexAfter(-1),e)?t.tr.delete(o,i).setBlockType(o,o,e,a):null}))}function Mo(t,e){return!t.selection.empty&&(e&&e(t.tr.deleteSelection().scrollIntoView()),!0)}function Eo(t,e,n){var r=t.selection.$cursor;if(!r||(n?!n.endOfTextblock("backward",t):r.parentOffset>0))return!1;var o=jo(r);if(!o){var i=r.blockRange(),s=i&&At(i);return null!=s&&(e&&e(t.tr.lift(i,s).scrollIntoView()),!0)}var a=o.nodeBefore;if(!a.type.spec.isolating&&Ho(t,o,e))return!0;if(0==r.parent.content.size&&(To(a,"end")||ne.isSelectable(a))){if(e){var c=t.tr.deleteRange(r.before(),r.after());c.setSelection(To(a,"end")?Xt.findFrom(c.doc.resolve(c.mapping.map(o.pos,-1)),-1):ne.create(c.doc,o.pos-a.nodeSize)),e(c.scrollIntoView())}return!0}return!(!a.isAtom||o.depth!=r.depth-1)&&(e&&e(t.tr.delete(o.pos-a.nodeSize,o.pos).scrollIntoView()),!0)}function To(t,e,n){for(;t;t="start"==e?t.firstChild:t.lastChild){if(t.isTextblock)return!0;if(n&&1!=t.childCount)return!1}return!1}function Ao(t,e,n){var r=t.selection,o=r.$head,i=o;if(!r.empty)return!1;if(o.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):o.parentOffset>0)return!1;i=jo(o)}var s=i&&i.nodeBefore;return!(!s||!ne.isSelectable(s))&&(e&&e(t.tr.setSelection(ne.create(t.doc,i.pos-s.nodeSize)).scrollIntoView()),!0)}function jo(t){if(!t.parent.type.spec.isolating)for(var e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function $o(t,e,n){var r=t.selection.$cursor;if(!r||(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size))return!1;var o=Do(r);if(!o)return!1;var i=o.nodeAfter;if(Ho(t,o,e))return!0;if(0==r.parent.content.size&&(To(i,"start")||ne.isSelectable(i))){if(e){var s=t.tr.deleteRange(r.before(),r.after());s.setSelection(To(i,"start")?Xt.findFrom(s.doc.resolve(s.mapping.map(o.pos)),1):ne.create(s.doc,s.mapping.map(o.pos))),e(s.scrollIntoView())}return!0}return!(!i.isAtom||o.depth!=r.depth-1)&&(e&&e(t.tr.delete(o.pos,o.pos+i.nodeSize).scrollIntoView()),!0)}function No(t,e,n){var r=t.selection,o=r.$head,i=o;if(!r.empty)return!1;if(o.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):o.parentOffset<o.parent.content.size)return!1;i=Do(o)}var s=i&&i.nodeAfter;return!(!s||!ne.isSelectable(s))&&(e&&e(t.tr.setSelection(ne.create(t.doc,i.pos)).scrollIntoView()),!0)}function Do(t){if(!t.parent.type.spec.isolating)for(var e=t.depth-1;e>=0;e--){var n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}function Po(t,e){var n=t.selection,r=n.$from,o=n.$to,i=r.blockRange(o),s=i&&At(i);return null!=s&&(e&&e(t.tr.lift(i,s).scrollIntoView()),!0)}function Lo(t,e){var n=t.selection,r=n.$head,o=n.$anchor;return!(!r.parent.type.spec.code||!r.sameParent(o))&&(e&&e(t.tr.insertText("\n").scrollIntoView()),!0)}function Io(t){for(var e=0;e<t.edgeCount;e++){var n=t.edge(e).type;if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function Ro(t,e){var n=t.selection,r=n.$head,o=n.$anchor;if(!r.parent.type.spec.code||!r.sameParent(o))return!1;var i=r.node(-1),s=r.indexAfter(-1),a=Io(i.contentMatchAt(s));if(!i.canReplaceWith(s,s,a))return!1;if(e){var c=r.after(),u=t.tr.replaceWith(c,c,a.createAndFill());u.setSelection(Xt.near(u.doc.resolve(c),1)),e(u.scrollIntoView())}return!0}function zo(t,e){var n=t.selection,r=n.$from,o=n.$to;if(n instanceof oe||r.parent.inlineContent||o.parent.inlineContent)return!1;var i=Io(o.parent.contentMatchAt(o.indexAfter()));if(!i||!i.isTextblock)return!1;if(e){var s=(!r.parentOffset&&o.index()<o.parent.childCount?r:o).pos,a=t.tr.insert(s,i.createAndFill());a.setSelection(te.create(a.doc,s+1)),e(a.scrollIntoView())}return!0}function Bo(t,e){var n=t.selection.$cursor;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){var r=n.before();if(Nt(t.doc,r))return e&&e(t.tr.split(r).scrollIntoView()),!0}var o=n.blockRange(),i=o&&At(o);return null!=i&&(e&&e(t.tr.lift(o,i).scrollIntoView()),!0)}function Fo(t,e){var n=t.selection,r=n.$from,o=n.$to;if(t.selection instanceof ne&&t.selection.node.isBlock)return!(!r.parentOffset||!Nt(t.doc,r.pos))&&(e&&e(t.tr.split(r.pos).scrollIntoView()),!0);if(!r.parent.isBlock)return!1;if(e){var i=o.parentOffset==o.parent.content.size,s=t.tr;(t.selection instanceof te||t.selection instanceof oe)&&s.deleteSelection();var a=0==r.depth?null:Io(r.node(-1).contentMatchAt(r.indexAfter(-1))),c=i&&a?[{type:a}]:null,u=Nt(s.doc,s.mapping.map(r.pos),1,c);if(c||u||!Nt(s.doc,s.mapping.map(r.pos),1,a&&[{type:a}])||(c=[{type:a}],u=!0),u&&(s.split(s.mapping.map(r.pos),1,c),!i&&!r.parentOffset&&r.parent.type!=a)){var l=s.mapping.map(r.before()),p=s.doc.resolve(l);r.node(-1).canReplaceWith(p.index(),p.index()+1,a)&&s.setNodeMarkup(s.mapping.map(r.before()),a)}e(s.scrollIntoView())}return!0}function Vo(t,e){return e&&e(t.tr.setSelection(new oe(t.doc))),!0}function Ho(t,e,n){var r,o,s=e.nodeBefore,a=e.nodeAfter;if(s.type.spec.isolating||a.type.spec.isolating)return!1;if(function(t,e,n){var r=e.nodeBefore,o=e.nodeAfter,i=e.index();return!!(r&&o&&r.type.compatibleContent(o.type))&&(!r.content.size&&e.parent.canReplace(i-1,i)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!(!e.parent.canReplace(i,i+1)||!o.isTextblock&&!Dt(t.doc,e.pos))&&(n&&n(t.tr.clearIncompatible(e.pos,r.type,r.contentMatchAt(r.childCount)).join(e.pos).scrollIntoView()),!0))}(t,e,n))return!0;var c=e.parent.canReplace(e.index(),e.index()+1);if(c&&(r=(o=s.contentMatchAt(s.childCount)).findWrapping(a.type))&&o.matchType(r[0]||a.type).validEnd){if(n){for(var u=e.pos+a.nodeSize,l=i.empty,p=r.length-1;p>=0;p--)l=i.from(r[p].create(null,l));l=i.from(s.copy(l));var d=t.tr.step(new Mt(e.pos-1,u,e.pos,u,new f(l,1,0),r.length,!0)),h=u+2*r.length;Dt(d.doc,h)&&d.join(h),n(d.scrollIntoView())}return!0}var m=Xt.findFrom(e,1),v=m&&m.$from.blockRange(m.$to),g=v&&At(v);if(null!=g&&g>=e.depth)return n&&n(t.tr.lift(v,g).scrollIntoView()),!0;if(c&&To(a,"start",!0)&&To(s,"end")){for(var y=s,b=[];b.push(y),!y.isTextblock;)y=y.lastChild;for(var w=a,x=1;!w.isTextblock;w=w.firstChild)x++;if(y.canReplace(y.childCount,y.childCount,w.content)){if(n){for(var _=i.empty,O=b.length-1;O>=0;O--)_=i.from(b[O].copy(_));n(t.tr.step(new Mt(e.pos-b.length,e.pos+a.nodeSize,e.pos+x,e.pos+a.nodeSize-x,new f(_,b.length,0),0,!0)).scrollIntoView())}return!0}}return!1}function Uo(t,e){return function(n,r){var o=n.selection,i=o.$from,s=o.$to,a=i.blockRange(s),c=a&&jt(a,t,e);return!!c&&(r&&r(n.tr.wrap(a,c).scrollIntoView()),!0)}}function qo(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return function(e,n,r){for(var o=0;o<t.length;o++)if(t[o](e,n,r))return!0;return!1}}var Wo=qo(Mo,Eo,Ao),Jo=qo(Mo,$o,No),Ko={Enter:qo(Lo,zo,Bo,Fo),"Mod-Enter":Ro,Backspace:Wo,"Mod-Backspace":Wo,Delete:Jo,"Mod-Delete":Jo,"Mod-a":Vo},Go={"Ctrl-h":Ko.Backspace,"Alt-Backspace":Ko["Mod-Backspace"],"Ctrl-d":Ko.Delete,"Ctrl-Alt-Backspace":Ko["Mod-Delete"],"Alt-Delete":Ko["Mod-Delete"],"Alt-d":Ko["Mod-Delete"]};for(var Yo in Ko)Go[Yo]=Ko[Yo];"undefined"!=typeof navigator?/Mac/.test(navigator.platform):"undefined"!=typeof os&&os.platform();function Xo(t,e){return function(n,r){var o=n.selection,s=o.$from,a=o.$to,c=s.blockRange(a),u=!1,l=c;if(!c)return!1;if(c.depth>=2&&s.node(c.depth-1).type.compatibleContent(t)&&0==c.startIndex){if(0==s.index(c.depth-1))return!1;var p=n.doc.resolve(c.start-2);l=new C(p,p,c.depth),c.endIndex<c.parent.childCount&&(c=new C(s,n.doc.resolve(a.end(c.depth)),c.depth)),u=!0}var d=jt(l,t,e,c);return!!d&&(r&&r(function(t,e,n,r,o){for(var s=i.empty,a=n.length-1;a>=0;a--)s=i.from(n[a].type.create(n[a].attrs,s));t.step(new Mt(e.start-(r?2:0),e.end,e.start,e.end,new f(s,0,0),n.length,!0));for(var c=0,u=0;u<n.length;u++)n[u].type==o&&(c=u+1);for(var l=n.length-c,p=e.start+n.length-(r?2:0),d=e.parent,h=e.startIndex,m=e.endIndex,v=!0;h<m;h++,v=!1)!v&&Nt(t.doc,p,l)&&(t.split(p,l),p+=2*l),p+=d.child(h).nodeSize;return t}(n.tr,c,d,u,t).scrollIntoView()),!0)}}function Zo(t){return function(e,n){var r=e.selection,o=r.$from,s=r.$to,a=o.blockRange(s,(function(e){return e.childCount&&e.firstChild.type==t}));return!!a&&(!n||(o.node(a.depth-1).type==t?function(t,e,n,r){var o=t.tr,s=r.end,a=r.$to.end(r.depth);s<a&&(o.step(new Mt(s-1,a,s,a,new f(i.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new C(o.doc.resolve(r.$from.pos),o.doc.resolve(a),r.depth));return e(o.lift(r,At(r)).scrollIntoView()),!0}(e,n,t,a):function(t,e,n){for(var r=t.tr,o=n.parent,s=n.end,a=n.endIndex-1,c=n.startIndex;a>c;a--)s-=o.child(a).nodeSize,r.delete(s-1,s+1);var u=r.doc.resolve(n.start),l=u.nodeAfter,p=0==n.startIndex,d=n.endIndex==o.childCount,h=u.node(-1),m=u.index(-1);if(!h.canReplace(m+(p?0:1),m+1,l.content.append(d?i.empty:i.from(o))))return!1;var v=u.pos,g=v+l.nodeSize;return r.step(new Mt(v-(p?1:0),g+(d?1:0),v+1,g-1,new f((p?i.empty:i.from(o.copy(i.empty))).append(d?i.empty:i.from(o.copy(i.empty))),p?0:1,d?0:1),p?0:1)),e(r.scrollIntoView()),!0}(e,n,a)))}}function Qo(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function ti(t,e){if("string"==typeof t){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}function ei(t,e){if("string"==typeof t){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}function ni(t,e){const n=ei(e,t.schema),{from:r,to:o,empty:i}=t.selection;let s=[];i?s=t.selection.$head.marks():t.doc.nodesBetween(r,o,t=>{s=[...s,...t.marks]});const a=s.find(t=>t.type.name===n.name);return a?{...a.attrs}:{}}function ri(t,e){const n=Qo("string"==typeof e?e:e.name,t.schema);return"node"===n?function(t,e){const n=ti(e,t.schema),{from:r,to:o}=t.selection;let i=[];t.doc.nodesBetween(r,o,t=>{i=[...i,t]});const s=i.reverse().find(t=>t.type.name===n.name);return s?{...s.attrs}:{}}(t,e):"mark"===n?ni(t,e):{}}function oi(t,e){const n=Object.keys(e);return!n.length||!!n.filter(n=>e[n]===t[n]).length}function ii(t,e,n={}){const{from:r,to:o,empty:i}=t.selection,s=e?ti(e,t.schema):null;let a=[];if(t.doc.nodesBetween(r,o,(t,e)=>{if(!t.isText){const n=Math.max(r,e),i=Math.min(o,e+t.nodeSize);a=[...a,{node:t,from:n,to:i}]}}),i)return!!a.filter(t=>!s||s.name===t.node.type.name).find(t=>oi(t.node.attrs,n));const c=o-r;return a.filter(t=>!s||s.name===t.node.type.name).filter(t=>oi(t.node.attrs,n)).reduce((t,e)=>t+(e.to-e.from),0)>=c}function si(t,e,n={}){const{from:r,to:o,empty:i}=t.selection,s=e?ei(e,t.schema):null;if(i)return!!(t.storedMarks||t.selection.$from.marks()).filter(t=>!s||s.name===t.type.name).find(t=>oi(t.attrs,n));let a=0,c=[];if(t.doc.nodesBetween(r,o,(t,e)=>{if(t.isText){const n=Math.max(r,e),i=Math.min(o,e+t.nodeSize);a+=i-n,c=[...c,...t.marks.map(t=>({mark:t,from:n,to:i}))]}}),0===a)return!1;const u=c.filter(t=>!s||s.name===t.mark.type.name).filter(t=>oi(t.mark.attrs,n)).reduce((t,e)=>t+(e.to-e.from),0),l=c.filter(t=>!s||t.mark.type!==s&&t.mark.type.excludes(s)).reduce((t,e)=>t+(e.to-e.from),0);return(u>0?u+l:u)>=a}function ai(t){const e=`<body>${t}</body>`;return(new window.DOMParser).parseFromString(e,"text/html").body}function ci(t,e,n){if(n={slice:!0,parseOptions:{},...n},"object"==typeof t&&null!==t)try{return Array.isArray(t)?i.fromArray(t.map(t=>e.nodeFromJSON(t))):e.nodeFromJSON(t)}catch(r){return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",r),ci("",e,n)}if("string"==typeof t){const r=tt.fromSchema(e);return n.slice?r.parseSlice(ai(t),n.parseOptions).content:r.parse(ai(t),n.parseOptions)}return ci("",e,n)}function ui(t,e,n={}){return ci(t,e,{slice:!1,parseOptions:n})}function li(t,e){const n=pt.fromSchema(e).serializeFragment(t.content),r=document.implementation.createHTMLDocument().createElement("div");return r.appendChild(n),r.innerHTML}class pi{constructor(t,e){this.editor=t,this.commands=e}createCommands(){const{commands:t,editor:e}=this,{state:n,view:r}=e,{tr:o}=n,i=this.buildProps(o);return Object.fromEntries(Object.entries(t).map(([t,e])=>[t,(...t)=>{const n=e(...t)(i);return o.getMeta("preventDispatch")||r.dispatch(o),n}]))}createChain(t,e=!0){const{commands:n,editor:r}=this,{state:o,view:i}=r,s=[],a=!!t,c=t||o.tr,u={...Object.fromEntries(Object.entries(n).map(([t,n])=>[t,(...t)=>{const r=this.buildProps(c,e),o=n(...t)(r);return s.push(o),u}])),run:()=>(a||!e||c.getMeta("preventDispatch")||i.dispatch(c),s.every(t=>!0===t))};return u}createCan(t){const{commands:e,editor:n}=this,{state:r}=n,o=t||r.tr,i=this.buildProps(o,void 0);return{...Object.fromEntries(Object.entries(e).map(([t,e])=>[t,(...t)=>e(...t)({...i,dispatch:void 0})])),chain:()=>this.createChain(o,void 0)}}buildProps(t,e=!0){const{editor:n,commands:r}=this,{state:o,view:i}=n;o.storedMarks&&t.setStoredMarks(o.storedMarks);const s={tr:t,editor:n,view:i,state:this.chainableState(t,o),dispatch:e?()=>{}:void 0,chain:()=>this.createChain(t),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(r).map(([t,e])=>[t,(...t)=>e(...t)(s)]))}};return s}chainableState(t,e){let{selection:n}=t,{doc:r}=t,{storedMarks:o}=t;return{...e,schema:e.schema,plugins:e.plugins,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return o},get selection(){return n},get doc(){return r},get tr(){return n=t.selection,r=t.doc,o=t.storedMarks,t}}}}function fi(t,e,n={}){if(void 0===t.config[e]&&t.parent)return fi(t.parent,e,n);if("function"==typeof t.config[e]){return t.config[e].bind({...n,parent:t.parent?fi(t.parent,e,n):null})}return t.config[e]}function di(t){return{baseExtensions:t.filter(t=>"extension"===t.type),nodeExtensions:t.filter(t=>"node"===t.type),markExtensions:t.filter(t=>"mark"===t.type)}}function hi(t){const e=[],{nodeExtensions:n,markExtensions:r}=di(t),o=[...n,...r],i={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0};return t.forEach(t=>{const n=fi(t,"addGlobalAttributes",{name:t.name,options:t.options});if(!n)return;n().forEach(t=>{t.types.forEach(n=>{Object.entries(t.attributes).forEach(([t,r])=>{e.push({type:n,name:t,attribute:{...i,...r}})})})})}),o.forEach(t=>{const n={name:t.name,options:t.options},r=fi(t,"addAttributes",n);if(!r)return;const o=r();Object.entries(o).forEach(([n,r])=>{e.push({type:t.name,name:n,attribute:{...i,...r}})})}),e}function mi(...t){return t.filter(t=>!!t).reduce((t,e)=>{const n={...t};return Object.entries(e).forEach(([t,e])=>{n[t]?n[t]="class"===t?[n[t],e].join(" "):"style"===t?[n[t],e].join("; "):e:n[t]=e}),n},{})}function vi(t,e){return e.filter(t=>t.attribute.rendered).map(e=>e.attribute.renderHTML?e.attribute.renderHTML(t.attrs)||{}:{[e.name]:t.attrs[e.name]}).reduce((t,e)=>mi(t,e),{})}function gi(t,e){return t.style?t:{...t,getAttrs:n=>{const r=t.getAttrs?t.getAttrs(n):t.attrs;if(!1===r)return!1;const o=e.filter(t=>t.attribute.rendered).reduce((t,e)=>{const r=e.attribute.parseHTML?e.attribute.parseHTML(n)||{}:{[e.name]:(o=n.getAttribute(e.name),"string"!=typeof o?o:o.match(/^\d*(\.\d+)?$/)?Number(o):"true"===o||"false"!==o&&o)};var o;return{...t,...Object.fromEntries(Object.entries(r).filter(([,t])=>null!=t))}},{});return{...r,...o}}}}function yi(t,e,...n){return"function"==typeof t?e?t.bind(e)(...n):t(...n):t}function bi(t){return Object.fromEntries(Object.entries(t).filter(([t,e])=>("attrs"!==t||!function(t={}){return 0===Object.keys(t).length&&t.constructor===Object}(e))&&null!=e))}function wi(t){var e;const n=hi(t),{nodeExtensions:r,markExtensions:o}=di(t),i=null===(e=r.find(t=>fi(t,"topNode")))||void 0===e?void 0:e.name,s=Object.fromEntries(r.map(e=>{const r=n.filter(t=>t.type===e.name),o={name:e.name,options:e.options},i=bi({...t.reduce((t,n)=>{const r=fi(n,"extendNodeSchema",o);return{...t,...r?r(e):{}}},{}),content:yi(fi(e,"content",o)),marks:yi(fi(e,"marks",o)),group:yi(fi(e,"group",o)),inline:yi(fi(e,"inline",o)),atom:yi(fi(e,"atom",o)),selectable:yi(fi(e,"selectable",o)),draggable:yi(fi(e,"draggable",o)),code:yi(fi(e,"code",o)),defining:yi(fi(e,"defining",o)),isolating:yi(fi(e,"isolating",o)),attrs:Object.fromEntries(r.map(t=>{var e;return[t.name,{default:null===(e=null==t?void 0:t.attribute)||void 0===e?void 0:e.default}]}))}),s=yi(fi(e,"parseHTML",o));s&&(i.parseDOM=s.map(t=>gi(t,r)));const a=fi(e,"renderHTML",o);return a&&(i.toDOM=t=>a({node:t,HTMLAttributes:vi(t,r)})),[e.name,i]})),a=Object.fromEntries(o.map(e=>{const r=n.filter(t=>t.type===e.name),o={name:e.name,options:e.options},i=bi({...t.reduce((t,n)=>{const r=fi(n,"extendMarkSchema",o);return{...t,...r?r(e):{}}},{}),inclusive:yi(fi(e,"inclusive",o)),excludes:yi(fi(e,"excludes",o)),group:yi(fi(e,"group",o)),spanning:yi(fi(e,"spanning",o)),attrs:Object.fromEntries(r.map(t=>{var e;return[t.name,{default:null===(e=null==t?void 0:t.attribute)||void 0===e?void 0:e.default}]}))}),s=yi(fi(e,"parseHTML",o));s&&(i.parseDOM=s.map(t=>gi(t,r)));const a=fi(e,"renderHTML",o);return a&&(i.toDOM=t=>a({mark:t,HTMLAttributes:vi(t,r)})),[e.name,i]}));return new Z({topNode:i,nodes:s,marks:a})}function xi(t,e){return e.nodes[t]?e.nodes[t]:e.marks[t]?e.marks[t]:null}class _i{constructor(t,e){this.splittableMarks=[],this.editor=e,this.extensions=_i.resolve(t),this.schema=wi(this.extensions),this.extensions.forEach(t=>{var e;const n={name:t.name,options:t.options,editor:this.editor,type:xi(t.name,this.schema)};if("mark"===t.type){(null===(e=yi(fi(t,"keepOnSplit",n)))||void 0===e||e)&&this.splittableMarks.push(t.name)}const r=fi(t,"onBeforeCreate",n);r&&this.editor.on("beforeCreate",r);const o=fi(t,"onCreate",n);o&&this.editor.on("create",o);const i=fi(t,"onUpdate",n);i&&this.editor.on("update",i);const s=fi(t,"onSelectionUpdate",n);s&&this.editor.on("selectionUpdate",s);const a=fi(t,"onTransaction",n);a&&this.editor.on("transaction",a);const c=fi(t,"onFocus",n);c&&this.editor.on("focus",c);const u=fi(t,"onBlur",n);u&&this.editor.on("blur",u);const l=fi(t,"onDestroy",n);l&&this.editor.on("destroy",l)})}static resolve(t){return _i.sort(_i.flatten(t))}static flatten(t){return t.map(t=>{const e=fi(t,"addExtensions",{name:t.name,options:t.options});return e?[t,...this.flatten(e())]:t}).flat(10)}static sort(t){return t.sort((t,e)=>{const n=fi(t,"priority")||100,r=fi(e,"priority")||100;return n>r?-1:n<r?1:0})}get commands(){return this.extensions.reduce((t,e)=>{const n=fi(e,"addCommands",{name:e.name,options:e.options,editor:this.editor,type:xi(e.name,this.schema)});return n?{...t,...n()}:t},{})}get plugins(){return[...this.extensions].reverse().map(t=>{const e={name:t.name,options:t.options,editor:this.editor,type:xi(t.name,this.schema)},n=[],r=fi(t,"addKeyboardShortcuts",e);if(r){const t=function(t){return new ve({props:{handleKeyDown:_o(t)}})}(Object.fromEntries(Object.entries(r()).map(([t,e])=>[t,()=>e({editor:this.editor})])));n.push(t)}const o=fi(t,"addInputRules",e);if(this.editor.options.enableInputRules&&o){const t=o(),e=t.length?[(i={rules:t},s=i.rules,a=new ve({state:{init:function(){return null},apply:function(t,e){var n=t.getMeta(this);return n||(t.selectionSet||t.docChanged?null:e)}},props:{handleTextInput:function(t,e,n,r){return ko(t,e,n,r,s,a)},handleDOMEvents:{compositionend:function(t){setTimeout((function(){var e=t.state.selection.$cursor;e&&ko(t,e.pos,e.pos,"",s,a)}))}}},isInputRules:!0}),a)]:[];n.push(...e)}var i,s,a;const c=fi(t,"addPasteRules",e);if(this.editor.options.enablePasteRules&&c){const t=c();n.push(...t)}const u=fi(t,"addProseMirrorPlugins",e);if(u){const t=u();n.push(...t)}return n}).flat()}get attributes(){return hi(this.extensions)}get nodeViews(){const{editor:t}=this,{nodeExtensions:e}=di(this.extensions);return Object.fromEntries(e.filter(t=>!!fi(t,"addNodeView")).map(e=>{const n=this.attributes.filter(t=>t.type===e.name),r={name:e.name,options:e.options,editor:t,type:ti(e.name,this.schema)},o=fi(e,"addNodeView",r);if(!o)return[];return[e.name,(r,i,s,a)=>{const c=vi(r,n);return o()({editor:t,node:r,getPos:s,decorations:a,HTMLAttributes:c,extension:e})}]}))}get textSerializers(){const{editor:t}=this,{nodeExtensions:e}=di(this.extensions);return Object.fromEntries(e.filter(t=>!!fi(t,"renderText")).map(e=>{const n=fi(e,"renderText",{name:e.name,options:e.options,editor:t,type:ti(e.name,this.schema)});if(!n)return[];return[e.name,t=>n(t)]}))}}function Oi(t){return"Object"===function(t){return Object.prototype.toString.call(t).slice(8,-1)}(t)&&(t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype)}function ki(t,e){const n={...t};return Oi(t)&&Oi(e)&&Object.keys(e).forEach(r=>{Oi(e[r])?r in t?n[r]=ki(t[r],e[r]):Object.assign(n,{[r]:e[r]}):Object.assign(n,{[r]:e[r]})}),n}class Si{constructor(t={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...t},this.name=this.config.name,this.options=this.config.defaultOptions}static create(t={}){return new Si(t)}configure(t={}){const e=this.extend();return e.options=ki(this.options,t),e}extend(t={}){const e=new Si(t);return e.parent=this,this.child=e,e.name=t.name?t.name:e.parent.name,e.options=t.defaultOptions?t.defaultOptions:e.parent.options,e}}const Ci=Si.create({name:"editable",addProseMirrorPlugins(){return[new ve({key:new be("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{from:e,to:n}=t.state.selection;return((t,e,n,r,o)=>{let i="",s=!0;return t.state.doc.nodesBetween(e,n,(a,c)=>{var u;const l=t.extensionManager.textSerializers[a.type.name];l?(i+=l({node:a}),s=!r):a.isText?(i+=null===(u=null==a?void 0:a.text)||void 0===u?void 0:u.slice(Math.max(e,c)-c,n-c),s=!r):a.isLeaf&&o?(i+=o,s=!r):!s&&a.isBlock&&(i+=r,s=!0)},0),i})(t,e,n,"\n")}}})]}});var Mi=Object.freeze({__proto__:null,blur:()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{t.isDestroyed||e.dom.blur()}),!0)});var Ei=Object.freeze({__proto__:null,clearContent:(t=!1)=>({commands:e})=>e.setContent("",t)});var Ti=Object.freeze({__proto__:null,clearNodes:()=>({state:t,tr:e,dispatch:n})=>{const{selection:r}=e,{ranges:o}=r;return o.forEach(r=>{t.doc.nodesBetween(r.$from.pos,r.$to.pos,(t,r)=>{if(t.type.isText)return;const o=e.doc.resolve(e.mapping.map(r)),i=e.doc.resolve(e.mapping.map(r+t.nodeSize)),s=o.blockRange(i);if(!s)return;const a=At(s);if(t.type.isTextblock&&n){const{defaultType:t}=o.parent.contentMatchAt(o.index());e.setNodeMarkup(s.start,t)}(a||0===a)&&n&&e.lift(s,a)})}),!0}});var Ai=Object.freeze({__proto__:null,command:t=>e=>t(e)});var ji=Object.freeze({__proto__:null,createParagraphNear:()=>({state:t,dispatch:e})=>zo(t,e)});var $i=Object.freeze({__proto__:null,deleteNode:t=>({tr:e,state:n,dispatch:r})=>{const o=ti(t,n.schema),i=e.selection.$anchor;for(let t=i.depth;t>0;t-=1){if(i.node(t).type===o){if(r){const n=i.before(t),r=i.after(t);e.delete(n,r).scrollIntoView()}return!0}}return!1}});var Ni=Object.freeze({__proto__:null,deleteRange:t=>({tr:e,dispatch:n})=>{const{from:r,to:o}=t;return n&&e.delete(r,o),!0}});var Di=Object.freeze({__proto__:null,deleteSelection:()=>({state:t,dispatch:e})=>Mo(t,e)});var Pi=Object.freeze({__proto__:null,enter:()=>({commands:t})=>t.keyboardShortcut("Enter")});var Li=Object.freeze({__proto__:null,exitCode:()=>({state:t,dispatch:e})=>Ro(t,e)});function Ii(t,e,n={}){return t.find(t=>t.type===e&&oi(t.attrs,n))}function Ri(t,e,n={}){return!!Ii(t,e,n)}function zi(t,e,n={}){if(!t||!e)return;const r=t.parent.childAfter(t.parentOffset);if(!r.node)return;const o=Ii(r.node.marks,e,n);if(!o)return;let i=t.index(),s=t.start()+r.offset,a=i+1,c=s+r.node.nodeSize;for(Ii(r.node.marks,e,n);i>0&&o.isInSet(t.parent.child(i-1).marks);)i-=1,s-=t.parent.child(i).nodeSize;for(;a<t.parent.childCount&&Ri(t.parent.child(a).marks,e,n);)c+=t.parent.child(a).nodeSize,a+=1;return{from:s,to:c}}var Bi=Object.freeze({__proto__:null,extendMarkRange:(t,e={})=>({tr:n,state:r,dispatch:o})=>{const i=ei(t,r.schema),{doc:s,selection:a}=n,{$from:c,from:u,to:l}=a;if(o){const t=zi(c,i,e);if(t&&t.from<=u&&t.to>=l){const e=te.create(s,t.from,t.to);n.setSelection(e)}}return!0}});var Fi=Object.freeze({__proto__:null,first:t=>e=>{const n="function"==typeof t?t(e):t;for(let t=0;t<n.length;t+=1)if(n[t](e))return!0;return!1}});function Vi(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function Hi(t){return t&&"object"==typeof t&&!Array.isArray(t)&&!function(t){var e;return"class"===(null===(e=t.constructor)||void 0===e?void 0:e.toString().substring(0,5))}(t)}function Ui(t){return Hi(t)&&t instanceof te}var qi=Object.freeze({__proto__:null,focus:(t=null)=>({editor:e,view:n,tr:r,dispatch:o})=>{const i=()=>{requestAnimationFrame(()=>{e.isDestroyed||n.focus()})};if(n.hasFocus()&&null===t||!1===t)return!0;if(o&&null===t&&!Ui(e.state.selection))return i(),!0;const{from:s,to:a}=function(t,e=null){if(!e)return null;if("start"===e||!0===e)return{from:0,to:0};if("end"===e){const{size:e}=t.doc.content;return{from:e,to:e}}return{from:e,to:e}}(e.state,t)||e.state.selection,{doc:c,storedMarks:u}=r,l=Xt.atStart(c).from,p=Xt.atEnd(c).to,f=Vi(s,l,p),d=Vi(a,l,p),h=te.create(c,f,d),m=e.state.selection.eq(h);return o&&(m||r.setSelection(h),m&&u&&r.setStoredMarks(u),i()),!0}});var Wi=Object.freeze({__proto__:null,forEach:(t,e)=>n=>t.every((t,r)=>e(t,{...n,index:r}))});var Ji=Object.freeze({__proto__:null,insertContent:(t,e)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},t,e)});var Ki=Object.freeze({__proto__:null,insertContentAt:(t,e,n)=>({tr:r,dispatch:o,editor:i})=>{if(o){const o=ci(e,i.schema,{parseOptions:{preserveWhitespace:"full"},...n||{}});if("<>"===o.toString())return!0;const{from:s,to:a}="number"==typeof t?{from:t,to:t}:t;r.replaceWith(s,a,o),function(t,e,n){const r=t.steps.length-1;if(r<e)return;const o=t.steps[r];if(!(o instanceof Ct||o instanceof Mt))return;const i=t.mapping.maps[r];let s=0;i.forEach((t,e,n,r)=>{0===s&&(s=r)}),t.setSelection(Xt.near(t.doc.resolve(s),n))}(r,r.steps.length-1,1)}return!0}});var Gi=Object.freeze({__proto__:null,joinBackward:()=>({state:t,dispatch:e})=>Eo(t,e)});var Yi=Object.freeze({__proto__:null,joinForward:()=>({state:t,dispatch:e})=>$o(t,e)});const Xi="undefined"!=typeof navigator&&/Mac/.test(navigator.platform);var Zi=Object.freeze({__proto__:null,keyboardShortcut:t=>({editor:e,view:n,tr:r,dispatch:o})=>{const i=function(t){const e=t.split(/-(?!$)/);let n,r,o,i,s=e[e.length-1];"Space"===s&&(s=" ");for(let t=0;t<e.length-1;t+=1){const s=e[t];if(/^(cmd|meta|m)$/i.test(s))i=!0;else if(/^a(lt)?$/i.test(s))n=!0;else if(/^(c|ctrl|control)$/i.test(s))r=!0;else if(/^s(hift)?$/i.test(s))o=!0;else{if(!/^mod$/i.test(s))throw new Error("Unrecognized modifier name: "+s);Xi?i=!0:r=!0}}return n&&(s="Alt-"+s),r&&(s="Ctrl-"+s),i&&(s="Meta-"+s),o&&(s="Shift-"+s),s}(t).split(/-(?!$)/),s=i.find(t=>!["Alt","Ctrl","Meta","Shift"].includes(t)),a=new KeyboardEvent("keydown",{key:"Space"===s?" ":s,altKey:i.includes("Alt"),ctrlKey:i.includes("Ctrl"),metaKey:i.includes("Meta"),shiftKey:i.includes("Shift"),bubbles:!0,cancelable:!0}),c=e.captureTransaction(()=>{n.someProp("handleKeyDown",t=>t(n,a))});return null==c||c.steps.forEach(t=>{const e=t.map(r.mapping);e&&o&&r.maybeStep(e)}),!0}});var Qi=Object.freeze({__proto__:null,lift:(t,e={})=>({state:n,dispatch:r})=>!!ii(n,ti(t,n.schema),e)&&Po(n,r)});var ts=Object.freeze({__proto__:null,liftEmptyBlock:()=>({state:t,dispatch:e})=>Bo(t,e)});var es=Object.freeze({__proto__:null,liftListItem:t=>({state:e,dispatch:n})=>Zo(ti(t,e.schema))(e,n)});var ns=Object.freeze({__proto__:null,newlineInCode:()=>({state:t,dispatch:e})=>Lo(t,e)});function rs(t,e){const n="string"==typeof e?[e]:e;return Object.keys(t).reduce((e,r)=>(n.includes(r)||(e[r]=t[r]),e),{})}var is=Object.freeze({__proto__:null,resetAttributes:(t,e)=>({tr:n,state:r,dispatch:o})=>{let i=null,s=null;const a=Qo("string"==typeof t?t:t.name,r.schema);return!!a&&("node"===a&&(i=ti(t,r.schema)),"mark"===a&&(s=ei(t,r.schema)),o&&n.selection.ranges.forEach(t=>{r.doc.nodesBetween(t.$from.pos,t.$to.pos,(t,r)=>{i&&i===t.type&&n.setNodeMarkup(r,void 0,rs(t.attrs,e)),s&&t.marks.length&&t.marks.forEach(o=>{s===o.type&&n.addMark(r,r+t.nodeSize,s.create(rs(o.attrs,e)))})})}),!0)}});var ss=Object.freeze({__proto__:null,scrollIntoView:()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0)});var as=Object.freeze({__proto__:null,selectAll:()=>({state:t,dispatch:e})=>Vo(t,e)});var cs=Object.freeze({__proto__:null,selectNodeBackward:()=>({state:t,dispatch:e})=>Ao(t,e)});var us=Object.freeze({__proto__:null,selectNodeForward:()=>({state:t,dispatch:e})=>No(t,e)});var ls=Object.freeze({__proto__:null,selectParentNode:()=>({state:t,dispatch:e})=>function(t,e){var n,r=t.selection,o=r.$from,i=r.to,s=o.sharedDepth(i);return 0!=s&&(n=o.before(s),e&&e(t.tr.setSelection(ne.create(t.doc,n))),!0)}(t,e)});var ps=Object.freeze({__proto__:null,setContent:(t,e=!1,n={})=>({tr:r,editor:o,dispatch:i})=>{const{doc:s}=r,a=ui(t,o.schema,n),c=te.create(s,0,s.content.size);return i&&r.setSelection(c).replaceSelectionWith(a,!1).setMeta("preventUpdate",!e),!0}});var fs=Object.freeze({__proto__:null,setMark:(t,e={})=>({tr:n,state:r,dispatch:o})=>{const{selection:i}=n,{empty:s,ranges:a}=i,c=ei(t,r.schema);if(o)if(s){const t=ni(r,c);n.addStoredMark(c.create({...t,...e}))}else a.forEach(t=>{const o=t.$from.pos,i=t.$to.pos;r.doc.nodesBetween(o,i,(t,r)=>{const s=Math.max(r,o),a=Math.min(r+t.nodeSize,i);t.marks.find(t=>t.type===c)?t.marks.forEach(t=>{c===t.type&&n.addMark(s,a,c.create({...t.attrs,...e}))}):n.addMark(s,a,c.create(e))})});return!0}});var ds=Object.freeze({__proto__:null,setMeta:(t,e)=>({tr:n})=>(n.setMeta(t,e),!0)});var hs=Object.freeze({__proto__:null,setNode:(t,e={})=>({state:n,dispatch:r})=>{const o=ti(t,n.schema);return(i=o,s=e,function(t,e){var n=t.selection,r=n.from,o=n.to,a=!1;return t.doc.nodesBetween(r,o,(function(e,n){if(a)return!1;if(e.isTextblock&&!e.hasMarkup(i,s))if(e.type==i)a=!0;else{var r=t.doc.resolve(n),o=r.index();a=r.parent.canReplaceWith(o,o+1,i)}})),!!a&&(e&&e(t.tr.setBlockType(r,o,i,s).scrollIntoView()),!0)})(n,r);var i,s}});var ms=Object.freeze({__proto__:null,setNodeSelection:t=>({tr:e,dispatch:n})=>{if(n){const{doc:n}=e,r=Xt.atStart(n).from,o=Xt.atEnd(n).to,i=Vi(t,r,o),s=ne.create(n,i);e.setSelection(s)}return!0}});var vs=Object.freeze({__proto__:null,setTextSelection:t=>({tr:e,dispatch:n})=>{if(n){const{doc:n}=e,{from:r,to:o}="number"==typeof t?{from:t,to:t}:t,i=Xt.atStart(n).from,s=Xt.atEnd(n).to,a=Vi(r,i,s),c=Vi(o,i,s),u=te.create(n,a,c);e.setSelection(u)}return!0}});var gs=Object.freeze({__proto__:null,sinkListItem:t=>({state:e,dispatch:n})=>{const r=ti(t,e.schema);return(o=r,function(t,e){var n=t.selection,r=n.$from,s=n.$to,a=r.blockRange(s,(function(t){return t.childCount&&t.firstChild.type==o}));if(!a)return!1;var c=a.startIndex;if(0==c)return!1;var u=a.parent,l=u.child(c-1);if(l.type!=o)return!1;if(e){var p=l.lastChild&&l.lastChild.type==u.type,d=i.from(p?o.create():null),h=new f(i.from(o.create(null,i.from(u.type.create(null,d)))),p?3:1,0),m=a.start,v=a.end;e(t.tr.step(new Mt(m-(p?3:1),v,m,v,h,1,!0)).scrollIntoView())}return!0})(e,n);var o}});function ys(t,e,n){return Object.fromEntries(Object.entries(n).filter(([n])=>{const r=t.find(t=>t.type===e&&t.name===n);return!!r&&r.attribute.keepOnSplit}))}function bs(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const r=n.filter(t=>null==e?void 0:e.includes(t.type.name));t.tr.ensureMarks(r)}}var ws=Object.freeze({__proto__:null,splitBlock:({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:r,editor:o})=>{const{selection:i,doc:s}=e,{$from:a,$to:c}=i,u=ys(o.extensionManager.attributes,a.node().type.name,a.node().attrs);if(i instanceof ne&&i.node.isBlock)return!(!a.parentOffset||!Nt(s,a.pos))&&(r&&(t&&bs(n,o.extensionManager.splittableMarks),e.split(a.pos).scrollIntoView()),!0);if(!a.parent.isBlock)return!1;if(r){const r=c.parentOffset===c.parent.content.size;i instanceof te&&e.deleteSelection();const s=0===a.depth?void 0:function(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}(a.node(-1).contentMatchAt(a.indexAfter(-1)));let l=r&&s?[{type:s,attrs:u}]:void 0,p=Nt(e.doc,e.mapping.map(a.pos),1,l);if(l||p||!Nt(e.doc,e.mapping.map(a.pos),1,s?[{type:s}]:void 0)||(p=!0,l=s?[{type:s,attrs:u}]:void 0),p&&(e.split(e.mapping.map(a.pos),1,l),s&&!r&&!a.parentOffset&&a.parent.type!==s)){const t=e.mapping.map(a.before()),n=e.doc.resolve(t);a.node(-1).canReplaceWith(n.index(),n.index()+1,s)&&e.setNodeMarkup(e.mapping.map(a.before()),s)}t&&bs(n,o.extensionManager.splittableMarks),e.scrollIntoView()}return!0}});var xs=Object.freeze({__proto__:null,splitListItem:t=>({tr:e,state:n,dispatch:r,editor:o})=>{var s;const a=ti(t,n.schema),{$from:c,$to:u}=n.selection,l=n.selection.node;if(l&&l.isBlock||c.depth<2||!c.sameParent(u))return!1;const p=c.node(-1);if(p.type!==a)return!1;const d=o.extensionManager.attributes;if(0===c.parent.content.size&&c.node(-1).childCount===c.indexAfter(-1)){if(2===c.depth||c.node(-3).type!==a||c.index(-2)!==c.node(-2).childCount-1)return!1;if(r){let t=i.empty;const n=c.index(-1)?1:c.index(-2)?2:3;for(let e=c.depth-n;e>=c.depth-3;e-=1)t=i.from(c.node(e).copy(t));const r=c.indexAfter(-1)<c.node(-2).childCount?1:c.indexAfter(-2)<c.node(-3).childCount?2:3,o=ys(d,c.node().type.name,c.node().attrs),u=(null===(s=a.contentMatch.defaultType)||void 0===s?void 0:s.createAndFill(o))||void 0;t=t.append(i.from(a.createAndFill(null,u)||void 0));const l=c.before(c.depth-(n-1));e.replace(l,c.after(-r),new f(t,4-n,0));let p=-1;e.doc.nodesBetween(l,e.doc.content.size,(t,e)=>{if(p>-1)return!1;t.isTextblock&&0===t.content.size&&(p=e+1)}),p>-1&&e.setSelection(te.near(e.doc.resolve(p))),e.scrollIntoView()}return!0}const h=u.pos===c.end()?p.contentMatchAt(0).defaultType:null,m=ys(d,p.type.name,p.attrs),v=ys(d,c.node().type.name,c.node().attrs);e.delete(c.pos,u.pos);const g=h?[{type:a,attrs:m},{type:h,attrs:v}]:[{type:a,attrs:m}];return!!Nt(e.doc,c.pos,2)&&(r&&e.split(c.pos,2,g).scrollIntoView(),!0)}});function _s(t,e){const{nodeExtensions:n}=di(e),r=n.find(e=>e.name===t);if(!r)return!1;const o=yi(fi(r,"group",{name:r.name,options:r.options}));return"string"==typeof o&&o.split(" ").includes("list")}var Os=Object.freeze({__proto__:null,toggleList:(t,e)=>({editor:n,tr:r,state:o,dispatch:i,chain:s,commands:a,can:c})=>{const{extensions:u}=n.extensionManager,l=ti(t,o.schema),p=ti(e,o.schema),{selection:f}=o,{$from:d,$to:h}=f,m=d.blockRange(h);if(!m)return!1;const v=(g=t=>_s(t.type.name,u),t=>function(t,e){for(let n=t.depth;n>0;n-=1){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}(t.$from,g))(f);var g;if(m.depth>=1&&v&&m.depth-v.depth<=1){if(v.node.type===l)return a.liftListItem(p);if(_s(v.node.type.name,u)&&l.validContent(v.node.content)&&i)return r.setNodeMarkup(v.pos,l),!0}return c().wrapInList(l)?a.wrapInList(l):s().clearNodes().wrapInList(l).run()}});var ks=Object.freeze({__proto__:null,toggleMark:(t,e={})=>({state:n,commands:r})=>{const o=ei(t,n.schema);return si(n,o,e)?r.unsetMark(o):r.setMark(o,e)}});var Ss=Object.freeze({__proto__:null,toggleNode:(t,e,n={})=>({state:r,commands:o})=>{const i=ti(t,r.schema),s=ti(e,r.schema);return ii(r,i,n)?o.setNode(s):o.setNode(i,n)}});var Cs=Object.freeze({__proto__:null,toggleWrap:(t,e={})=>({state:n,dispatch:r})=>{const o=ti(t,n.schema);return ii(n,o,e)?Po(n,r):Uo(o,e)(n,r)}});var Ms=Object.freeze({__proto__:null,undoInputRule:()=>({state:t,dispatch:e})=>function(t,e){for(var n=t.plugins,r=0;r<n.length;r++){var o=n[r],i=void 0;if(o.spec.isInputRules&&(i=o.getState(t))){if(e){for(var s=t.tr,a=i.transform,c=a.steps.length-1;c>=0;c--)s.step(a.steps[c].invert(a.docs[c]));if(i.text){var u=s.doc.resolve(i.from).marks();s.replaceWith(i.from,i.to,t.schema.text(i.text,u))}else s.delete(i.from,i.to);e(s)}return!0}}return!1}(t,e)});var Es=Object.freeze({__proto__:null,unsetAllMarks:()=>({tr:t,state:e,dispatch:n})=>{const{selection:r}=t,{empty:o,ranges:i}=r;return o||n&&Object.entries(e.schema.marks).forEach(([,e])=>{i.forEach(n=>{t.removeMark(n.$from.pos,n.$to.pos,e)})}),!0}});var Ts=Object.freeze({__proto__:null,unsetMark:t=>({tr:e,state:n,dispatch:r})=>{const{selection:o}=e,i=ei(t,n.schema),{$from:s,empty:a,ranges:c}=o;if(r){if(a){let{from:t,to:n}=o;const r=zi(s,i);r&&(t=r.from,n=r.to),e.removeMark(t,n,i)}else c.forEach(t=>{e.removeMark(t.$from.pos,t.$to.pos,i)});e.removeStoredMark(i)}return!0}});var As=Object.freeze({__proto__:null,updateAttributes:(t,e={})=>({tr:n,state:r,dispatch:o})=>{let i=null,s=null;const a=Qo("string"==typeof t?t:t.name,r.schema);return!!a&&("node"===a&&(i=ti(t,r.schema)),"mark"===a&&(s=ei(t,r.schema)),o&&n.selection.ranges.forEach(t=>{const o=t.$from.pos,a=t.$to.pos;r.doc.nodesBetween(o,a,(t,r)=>{i&&i===t.type&&n.setNodeMarkup(r,void 0,{...t.attrs,...e}),s&&t.marks.length&&t.marks.forEach(i=>{if(s===i.type){const c=Math.max(r,o),u=Math.min(r+t.nodeSize,a);n.addMark(c,u,s.create({...i.attrs,...e}))}})})}),!0)}});var js=Object.freeze({__proto__:null,wrapIn:(t,e={})=>({state:n,dispatch:r})=>{const o=ti(t,n.schema);return!ii(n,o,e)&&Uo(o,e)(n,r)}});var $s=Object.freeze({__proto__:null,wrapInList:(t,e={})=>({state:n,dispatch:r})=>Xo(ti(t,n.schema),e)(n,r)});const Ns=Si.create({name:"commands",addCommands:()=>({...Mi,...Ei,...Ti,...Ai,...ji,...$i,...Ni,...Di,...Pi,...Li,...Bi,...Fi,...qi,...Wi,...Ji,...Ki,...Gi,...Yi,...Zi,...Qi,...ts,...es,...ns,...is,...ss,...as,...cs,...us,...ls,...ps,...fs,...ds,...hs,...ms,...vs,...gs,...ws,...xs,...Os,...ks,...Ss,...Cs,...Ms,...Es,...Ts,...As,...js,...$s})}),Ds=Si.create({name:"editable",addProseMirrorPlugins(){return[new ve({key:new be("editable"),props:{editable:()=>this.editor.options.editable}})]}}),Ps=Si.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new ve({key:new be("focusEvents"),props:{attributes:{tabindex:"0"},handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const r=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,n)=>{t.isFocused=!1;const r=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),Ls=Si.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:t})=>[()=>t.undoInputRule(),()=>t.deleteSelection(),()=>t.joinBackward(),()=>t.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:t})=>[()=>t.deleteSelection(),()=>t.joinForward(),()=>t.selectNodeForward()]);return{Enter:()=>this.editor.commands.first(({commands:t})=>[()=>t.newlineInCode(),()=>t.createParagraphNear(),()=>t.liftEmptyBlock(),()=>t.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:()=>t(),"Mod-Backspace":()=>t(),Delete:()=>e(),"Mod-Delete":()=>e()}}});var Is=Object.freeze({__proto__:null,ClipboardTextSerializer:Ci,Commands:Ns,Editable:Ds,FocusEvents:Ps,Keymap:Ls});class Rs{constructor(t={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...t},this.name=this.config.name,this.options=this.config.defaultOptions}static create(t={}){return new Rs(t)}configure(t={}){const e=this.extend();return e.options=ki(this.options,t),e}extend(t={}){const e=new Rs(t);return e.parent=this,this.child=e,e.name=t.name?t.name:e.parent.name,e.options=t.defaultOptions?t.defaultOptions:e.parent.options,e}}class zs{constructor(t={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...t},this.name=this.config.name,this.options=this.config.defaultOptions}static create(t={}){return new zs(t)}configure(t={}){const e=this.extend();return e.options=ki(this.options,t),e}extend(t={}){const e=new zs(t);return e.parent=this,this.child=e,e.name=t.name?t.name:e.parent.name,e.options=t.defaultOptions?t.defaultOptions:e.parent.options,e}}function Bs(t,e,n){return new Oo(t,(t,r,o,i)=>{const s=n instanceof Function?n(r):n,{tr:a}=t,c=r[r.length-1],u=r[0];let l=i;if(c){const n=u.search(/\S/),r=o+u.indexOf(c),p=r+c.length;if(function(t,e,n){let r=[];return n.doc.nodesBetween(t,e,(t,e)=>{r=[...r,...t.marks.map(n=>({from:e,to:e+t.nodeSize,mark:n}))]}),r}(o,i,t).filter(t=>{const{excluded:n}=t.mark.type;return n.find(t=>t.name===e.name)}).filter(t=>t.to>r).length)return null;p<i&&a.delete(p,i),r>o&&a.delete(o+n,r),l=o+n+c.length,a.addMark(o+n,l,e.create(s)),a.removeStoredMark(e)}return a})}function Fs(t,e,n){const r=(o,s)=>{const a=[];return o.forEach(o=>{if(o.isText&&o.text){const{text:r}=o;let i,c=0;for(;null!==(i=t.exec(r));){const t=Math.max(i.length-2,0),r=Math.max(i.length-1,0);if(null==s?void 0:s.type.allowsMarkType(e)){const s=i.index+i[0].indexOf(i[t]),u=s+i[t].length,l=s+i[t].lastIndexOf(i[r]),p=l+i[r].length,f=n instanceof Function?n(i):n;if(!f&&void 0!==f)continue;s>0&&a.push(o.cut(c,s)),a.push(o.cut(l,p).mark(e.create(f).addToSet(o.marks))),c=u}}c<r.length&&a.push(o.cut(c))}else a.push(o.copy(r(o.content,o)))}),i.fromArray(a)};return new ve({key:new be("markPasteRule"),props:{transformPasted:t=>new f(r(t.content),t.openStart,t.openEnd)}})}function Vs(t,e,n){const r=t.coordsAtPos(e),o=t.coordsAtPos(n,-1),i=Math.min(r.top,o.top),s=Math.max(r.bottom,o.bottom),a=Math.min(r.left,o.left),c=Math.max(r.right,o.right),u={top:i,bottom:s,left:a,right:c,width:c-a,height:s-i,x:a,y:i};return{...u,toJSON:()=>u}}function Hs(t){if(null==t)return window;if("[object Window]"!==t.toString()){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Us(t){return t instanceof Hs(t).Element||t instanceof Element}function qs(t){return t instanceof Hs(t).HTMLElement||t instanceof HTMLElement}function Ws(t){return"undefined"!=typeof ShadowRoot&&(t instanceof Hs(t).ShadowRoot||t instanceof ShadowRoot)}var Js=Math.round;function Ks(t,e){void 0===e&&(e=!1);var n=t.getBoundingClientRect(),r=1,o=1;return qs(t)&&e&&(r=n.width/t.offsetWidth||1,o=n.height/t.offsetHeight||1),{width:Js(n.width/r),height:Js(n.height/o),top:Js(n.top/o),right:Js(n.right/r),bottom:Js(n.bottom/o),left:Js(n.left/r),x:Js(n.left/r),y:Js(n.top/o)}}function Gs(t){var e=Hs(t);return{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function Ys(t){return t?(t.nodeName||"").toLowerCase():null}function Xs(t){return((Us(t)?t.ownerDocument:t.document)||window.document).documentElement}function Zs(t){return Ks(Xs(t)).left+Gs(t).scrollLeft}function Qs(t){return Hs(t).getComputedStyle(t)}function ta(t){var e=Qs(t),n=e.overflow,r=e.overflowX,o=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+r)}function ea(t,e,n){void 0===n&&(n=!1);var r,o,i=qs(e),s=qs(e)&&function(t){var e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return 1!==n||1!==r}(e),a=Xs(e),c=Ks(t,s),u={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(i||!i&&!n)&&(("body"!==Ys(e)||ta(a))&&(u=(r=e)!==Hs(r)&&qs(r)?{scrollLeft:(o=r).scrollLeft,scrollTop:o.scrollTop}:Gs(r)),qs(e)?((l=Ks(e,!0)).x+=e.clientLeft,l.y+=e.clientTop):a&&(l.x=Zs(a))),{x:c.left+u.scrollLeft-l.x,y:c.top+u.scrollTop-l.y,width:c.width,height:c.height}}function na(t){var e=Ks(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function ra(t){return"html"===Ys(t)?t:t.assignedSlot||t.parentNode||(Ws(t)?t.host:null)||Xs(t)}function oa(t,e){var n;void 0===e&&(e=[]);var r=function t(e){return["html","body","#document"].indexOf(Ys(e))>=0?e.ownerDocument.body:qs(e)&&ta(e)?e:t(ra(e))}(t),o=r===(null==(n=t.ownerDocument)?void 0:n.body),i=Hs(r),s=o?[i].concat(i.visualViewport||[],ta(r)?r:[]):r,a=e.concat(s);return o?a:a.concat(oa(ra(s)))}function ia(t){return["table","td","th"].indexOf(Ys(t))>=0}function sa(t){return qs(t)&&"fixed"!==Qs(t).position?t.offsetParent:null}function aa(t){for(var e=Hs(t),n=sa(t);n&&ia(n)&&"static"===Qs(n).position;)n=sa(n);return n&&("html"===Ys(n)||"body"===Ys(n)&&"static"===Qs(n).position)?e:n||function(t){var e=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&qs(t)&&"fixed"===Qs(t).position)return null;for(var n=ra(t);qs(n)&&["html","body"].indexOf(Ys(n))<0;){var r=Qs(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||e&&"filter"===r.willChange||e&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(t)||e}var ca="top",ua="bottom",la="right",pa="left",fa=[ca,ua,la,pa],da=fa.reduce((function(t,e){return t.concat([e+"-start",e+"-end"])}),[]),ha=[].concat(fa,["auto"]).reduce((function(t,e){return t.concat([e,e+"-start",e+"-end"])}),[]),ma=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];function va(t){var e=new Map,n=new Set,r=[];return t.forEach((function(t){e.set(t.name,t)})),t.forEach((function(t){n.has(t.name)||function t(o){n.add(o.name),[].concat(o.requires||[],o.requiresIfExists||[]).forEach((function(r){if(!n.has(r)){var o=e.get(r);o&&t(o)}})),r.push(o)}(t)})),r}var ga={placement:"bottom",modifiers:[],strategy:"absolute"};function ya(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some((function(t){return!(t&&"function"==typeof t.getBoundingClientRect)}))}function ba(t){void 0===t&&(t={});var e=t,n=e.defaultModifiers,r=void 0===n?[]:n,o=e.defaultOptions,i=void 0===o?ga:o;return function(t,e,n){void 0===n&&(n=i);var o,s,a={placement:"bottom",orderedModifiers:[],options:Object.assign({},ga,i),modifiersData:{},elements:{reference:t,popper:e},attributes:{},styles:{}},c=[],u=!1,l={state:a,setOptions:function(n){p(),a.options=Object.assign({},i,a.options,n),a.scrollParents={reference:Us(t)?oa(t):t.contextElement?oa(t.contextElement):[],popper:oa(e)};var o=function(t){var e=va(t);return ma.reduce((function(t,n){return t.concat(e.filter((function(t){return t.phase===n})))}),[])}(function(t){var e=t.reduce((function(t,e){var n=t[e.name];return t[e.name]=n?Object.assign({},n,e,{options:Object.assign({},n.options,e.options),data:Object.assign({},n.data,e.data)}):e,t}),{});return Object.keys(e).map((function(t){return e[t]}))}([].concat(r,a.options.modifiers)));return a.orderedModifiers=o.filter((function(t){return t.enabled})),a.orderedModifiers.forEach((function(t){var e=t.name,n=t.options,r=void 0===n?{}:n,o=t.effect;if("function"==typeof o){var i=o({state:a,name:e,instance:l,options:r});c.push(i||function(){})}})),l.update()},forceUpdate:function(){if(!u){var t=a.elements,e=t.reference,n=t.popper;if(ya(e,n)){a.rects={reference:ea(e,aa(n),"fixed"===a.options.strategy),popper:na(n)},a.reset=!1,a.placement=a.options.placement,a.orderedModifiers.forEach((function(t){return a.modifiersData[t.name]=Object.assign({},t.data)}));for(var r=0;r<a.orderedModifiers.length;r++)if(!0!==a.reset){var o=a.orderedModifiers[r],i=o.fn,s=o.options,c=void 0===s?{}:s,p=o.name;"function"==typeof i&&(a=i({state:a,options:c,name:p,instance:l})||a)}else a.reset=!1,r=-1}}},update:(o=function(){return new Promise((function(t){l.forceUpdate(),t(a)}))},function(){return s||(s=new Promise((function(t){Promise.resolve().then((function(){s=void 0,t(o())}))}))),s}),destroy:function(){p(),u=!0}};if(!ya(t,e))return l;function p(){c.forEach((function(t){return t()})),c=[]}return l.setOptions(n).then((function(t){!u&&n.onFirstUpdate&&n.onFirstUpdate(t)})),l}}var wa={passive:!0};var xa={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(t){var e=t.state,n=t.instance,r=t.options,o=r.scroll,i=void 0===o||o,s=r.resize,a=void 0===s||s,c=Hs(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return i&&u.forEach((function(t){t.addEventListener("scroll",n.update,wa)})),a&&c.addEventListener("resize",n.update,wa),function(){i&&u.forEach((function(t){t.removeEventListener("scroll",n.update,wa)})),a&&c.removeEventListener("resize",n.update,wa)}},data:{}};function _a(t){return t.split("-")[0]}function Oa(t){return t.split("-")[1]}function ka(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Sa(t){var e,n=t.reference,r=t.element,o=t.placement,i=o?_a(o):null,s=o?Oa(o):null,a=n.x+n.width/2-r.width/2,c=n.y+n.height/2-r.height/2;switch(i){case ca:e={x:a,y:n.y-r.height};break;case ua:e={x:a,y:n.y+n.height};break;case la:e={x:n.x+n.width,y:c};break;case pa:e={x:n.x-r.width,y:c};break;default:e={x:n.x,y:n.y}}var u=i?ka(i):null;if(null!=u){var l="y"===u?"height":"width";switch(s){case"start":e[u]=e[u]-(n[l]/2-r[l]/2);break;case"end":e[u]=e[u]+(n[l]/2-r[l]/2)}}return e}var Ca={name:"popperOffsets",enabled:!0,phase:"read",fn:function(t){var e=t.state,n=t.name;e.modifiersData[n]=Sa({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})},data:{}},Ma=Math.max,Ea=Math.min,Ta=Math.round,Aa={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ja(t){var e,n=t.popper,r=t.popperRect,o=t.placement,i=t.offsets,s=t.position,a=t.gpuAcceleration,c=t.adaptive,u=t.roundOffsets,l=!0===u?function(t){var e=t.x,n=t.y,r=window.devicePixelRatio||1;return{x:Ta(Ta(e*r)/r)||0,y:Ta(Ta(n*r)/r)||0}}(i):"function"==typeof u?u(i):i,p=l.x,f=void 0===p?0:p,d=l.y,h=void 0===d?0:d,m=i.hasOwnProperty("x"),v=i.hasOwnProperty("y"),g=pa,y=ca,b=window;if(c){var w=aa(n),x="clientHeight",_="clientWidth";w===Hs(n)&&"static"!==Qs(w=Xs(n)).position&&(x="scrollHeight",_="scrollWidth"),w=w,o===ca&&(y=ua,h-=w[x]-r.height,h*=a?1:-1),o===pa&&(g=la,f-=w[_]-r.width,f*=a?1:-1)}var O,k=Object.assign({position:s},c&&Aa);return a?Object.assign({},k,((O={})[y]=v?"0":"",O[g]=m?"0":"",O.transform=(b.devicePixelRatio||1)<2?"translate("+f+"px, "+h+"px)":"translate3d("+f+"px, "+h+"px, 0)",O)):Object.assign({},k,((e={})[y]=v?h+"px":"",e[g]=m?f+"px":"",e.transform="",e))}var $a={name:"applyStyles",enabled:!0,phase:"write",fn:function(t){var e=t.state;Object.keys(e.elements).forEach((function(t){var n=e.styles[t]||{},r=e.attributes[t]||{},o=e.elements[t];qs(o)&&Ys(o)&&(Object.assign(o.style,n),Object.keys(r).forEach((function(t){var e=r[t];!1===e?o.removeAttribute(t):o.setAttribute(t,!0===e?"":e)})))}))},effect:function(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach((function(t){var r=e.elements[t],o=e.attributes[t]||{},i=Object.keys(e.styles.hasOwnProperty(t)?e.styles[t]:n[t]).reduce((function(t,e){return t[e]="",t}),{});qs(r)&&Ys(r)&&(Object.assign(r.style,i),Object.keys(o).forEach((function(t){r.removeAttribute(t)})))}))}},requires:["computeStyles"]};var Na={left:"right",right:"left",bottom:"top",top:"bottom"};function Da(t){return t.replace(/left|right|bottom|top/g,(function(t){return Na[t]}))}var Pa={start:"end",end:"start"};function La(t){return t.replace(/start|end/g,(function(t){return Pa[t]}))}function Ia(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&Ws(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Ra(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function za(t,e){return"viewport"===e?Ra(function(t){var e=Hs(t),n=Xs(t),r=e.visualViewport,o=n.clientWidth,i=n.clientHeight,s=0,a=0;return r&&(o=r.width,i=r.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(s=r.offsetLeft,a=r.offsetTop)),{width:o,height:i,x:s+Zs(t),y:a}}(t)):qs(e)?function(t){var e=Ks(t);return e.top=e.top+t.clientTop,e.left=e.left+t.clientLeft,e.bottom=e.top+t.clientHeight,e.right=e.left+t.clientWidth,e.width=t.clientWidth,e.height=t.clientHeight,e.x=e.left,e.y=e.top,e}(e):Ra(function(t){var e,n=Xs(t),r=Gs(t),o=null==(e=t.ownerDocument)?void 0:e.body,i=Ma(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),s=Ma(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),a=-r.scrollLeft+Zs(t),c=-r.scrollTop;return"rtl"===Qs(o||n).direction&&(a+=Ma(n.clientWidth,o?o.clientWidth:0)-i),{width:i,height:s,x:a,y:c}}(Xs(t)))}function Ba(t,e,n){var r="clippingParents"===e?function(t){var e=oa(ra(t)),n=["absolute","fixed"].indexOf(Qs(t).position)>=0&&qs(t)?aa(t):t;return Us(n)?e.filter((function(t){return Us(t)&&Ia(t,n)&&"body"!==Ys(t)})):[]}(t):[].concat(e),o=[].concat(r,[n]),i=o[0],s=o.reduce((function(e,n){var r=za(t,n);return e.top=Ma(r.top,e.top),e.right=Ea(r.right,e.right),e.bottom=Ea(r.bottom,e.bottom),e.left=Ma(r.left,e.left),e}),za(t,i));return s.width=s.right-s.left,s.height=s.bottom-s.top,s.x=s.left,s.y=s.top,s}function Fa(t){return Object.assign({},{top:0,right:0,bottom:0,left:0},t)}function Va(t,e){return e.reduce((function(e,n){return e[n]=t,e}),{})}function Ha(t,e){void 0===e&&(e={});var n=e,r=n.placement,o=void 0===r?t.placement:r,i=n.boundary,s=void 0===i?"clippingParents":i,a=n.rootBoundary,c=void 0===a?"viewport":a,u=n.elementContext,l=void 0===u?"popper":u,p=n.altBoundary,f=void 0!==p&&p,d=n.padding,h=void 0===d?0:d,m=Fa("number"!=typeof h?h:Va(h,fa)),v="popper"===l?"reference":"popper",g=t.elements.reference,y=t.rects.popper,b=t.elements[f?v:l],w=Ba(Us(b)?b:b.contextElement||Xs(t.elements.popper),s,c),x=Ks(g),_=Sa({reference:x,element:y,strategy:"absolute",placement:o}),O=Ra(Object.assign({},y,_)),k="popper"===l?O:x,S={top:w.top-k.top+m.top,bottom:k.bottom-w.bottom+m.bottom,left:w.left-k.left+m.left,right:k.right-w.right+m.right},C=t.modifiersData.offset;if("popper"===l&&C){var M=C[o];Object.keys(S).forEach((function(t){var e=[la,ua].indexOf(t)>=0?1:-1,n=[ca,ua].indexOf(t)>=0?"y":"x";S[t]+=M[n]*e}))}return S}function Ua(t,e,n){return Ma(t,Ea(e,n))}function qa(t,e,n){return void 0===n&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function Wa(t){return[ca,la,ua,pa].some((function(e){return t[e]>=0}))}var Ja=ba({defaultModifiers:[xa,Ca,{name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(t){var e=t.state,n=t.options,r=n.gpuAcceleration,o=void 0===r||r,i=n.adaptive,s=void 0===i||i,a=n.roundOffsets,c=void 0===a||a,u={placement:_a(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:o};null!=e.modifiersData.popperOffsets&&(e.styles.popper=Object.assign({},e.styles.popper,ja(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:c})))),null!=e.modifiersData.arrow&&(e.styles.arrow=Object.assign({},e.styles.arrow,ja(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})},data:{}},$a,{name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(t){var e=t.state,n=t.options,r=t.name,o=n.offset,i=void 0===o?[0,0]:o,s=ha.reduce((function(t,n){return t[n]=function(t,e,n){var r=_a(t),o=[pa,ca].indexOf(r)>=0?-1:1,i="function"==typeof n?n(Object.assign({},e,{placement:t})):n,s=i[0],a=i[1];return s=s||0,a=(a||0)*o,[pa,la].indexOf(r)>=0?{x:a,y:s}:{x:s,y:a}}(n,e.rects,i),t}),{}),a=s[e.placement],c=a.x,u=a.y;null!=e.modifiersData.popperOffsets&&(e.modifiersData.popperOffsets.x+=c,e.modifiersData.popperOffsets.y+=u),e.modifiersData[r]=s}},{name:"flip",enabled:!0,phase:"main",fn:function(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var o=n.mainAxis,i=void 0===o||o,s=n.altAxis,a=void 0===s||s,c=n.fallbackPlacements,u=n.padding,l=n.boundary,p=n.rootBoundary,f=n.altBoundary,d=n.flipVariations,h=void 0===d||d,m=n.allowedAutoPlacements,v=e.options.placement,g=_a(v),y=c||(g===v||!h?[Da(v)]:function(t){if("auto"===_a(t))return[];var e=Da(t);return[La(t),e,La(e)]}(v)),b=[v].concat(y).reduce((function(t,n){return t.concat("auto"===_a(n)?function(t,e){void 0===e&&(e={});var n=e,r=n.placement,o=n.boundary,i=n.rootBoundary,s=n.padding,a=n.flipVariations,c=n.allowedAutoPlacements,u=void 0===c?ha:c,l=Oa(r),p=l?a?da:da.filter((function(t){return Oa(t)===l})):fa,f=p.filter((function(t){return u.indexOf(t)>=0}));0===f.length&&(f=p);var d=f.reduce((function(e,n){return e[n]=Ha(t,{placement:n,boundary:o,rootBoundary:i,padding:s})[_a(n)],e}),{});return Object.keys(d).sort((function(t,e){return d[t]-d[e]}))}(e,{placement:n,boundary:l,rootBoundary:p,padding:u,flipVariations:h,allowedAutoPlacements:m}):n)}),[]),w=e.rects.reference,x=e.rects.popper,_=new Map,O=!0,k=b[0],S=0;S<b.length;S++){var C=b[S],M=_a(C),E="start"===Oa(C),T=[ca,ua].indexOf(M)>=0,A=T?"width":"height",j=Ha(e,{placement:C,boundary:l,rootBoundary:p,altBoundary:f,padding:u}),$=T?E?la:pa:E?ua:ca;w[A]>x[A]&&($=Da($));var N=Da($),D=[];if(i&&D.push(j[M]<=0),a&&D.push(j[$]<=0,j[N]<=0),D.every((function(t){return t}))){k=C,O=!1;break}_.set(C,D)}if(O)for(var P=function(t){var e=b.find((function(e){var n=_.get(e);if(n)return n.slice(0,t).every((function(t){return t}))}));if(e)return k=e,"break"},L=h?3:1;L>0;L--){if("break"===P(L))break}e.placement!==k&&(e.modifiersData[r]._skip=!0,e.placement=k,e.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}},{name:"preventOverflow",enabled:!0,phase:"main",fn:function(t){var e=t.state,n=t.options,r=t.name,o=n.mainAxis,i=void 0===o||o,s=n.altAxis,a=void 0!==s&&s,c=n.boundary,u=n.rootBoundary,l=n.altBoundary,p=n.padding,f=n.tether,d=void 0===f||f,h=n.tetherOffset,m=void 0===h?0:h,v=Ha(e,{boundary:c,rootBoundary:u,padding:p,altBoundary:l}),g=_a(e.placement),y=Oa(e.placement),b=!y,w=ka(g),x="x"===w?"y":"x",_=e.modifiersData.popperOffsets,O=e.rects.reference,k=e.rects.popper,S="function"==typeof m?m(Object.assign({},e.rects,{placement:e.placement})):m,C={x:0,y:0};if(_){if(i||a){var M="y"===w?ca:pa,E="y"===w?ua:la,T="y"===w?"height":"width",A=_[w],j=_[w]+v[M],$=_[w]-v[E],N=d?-k[T]/2:0,D="start"===y?O[T]:k[T],P="start"===y?-k[T]:-O[T],L=e.elements.arrow,I=d&&L?na(L):{width:0,height:0},R=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},z=R[M],B=R[E],F=Ua(0,O[T],I[T]),V=b?O[T]/2-N-F-z-S:D-F-z-S,H=b?-O[T]/2+N+F+B+S:P+F+B+S,U=e.elements.arrow&&aa(e.elements.arrow),q=U?"y"===w?U.clientTop||0:U.clientLeft||0:0,W=e.modifiersData.offset?e.modifiersData.offset[e.placement][w]:0,J=_[w]+V-W-q,K=_[w]+H-W;if(i){var G=Ua(d?Ea(j,J):j,A,d?Ma($,K):$);_[w]=G,C[w]=G-A}if(a){var Y="x"===w?ca:pa,X="x"===w?ua:la,Z=_[x],Q=Z+v[Y],tt=Z-v[X],et=Ua(d?Ea(Q,J):Q,Z,d?Ma(tt,K):tt);_[x]=et,C[x]=et-Z}}e.modifiersData[r]=C}},requiresIfExists:["offset"]},{name:"arrow",enabled:!0,phase:"main",fn:function(t){var e,n=t.state,r=t.name,o=t.options,i=n.elements.arrow,s=n.modifiersData.popperOffsets,a=_a(n.placement),c=ka(a),u=[pa,la].indexOf(a)>=0?"height":"width";if(i&&s){var l=function(t,e){return Fa("number"!=typeof(t="function"==typeof t?t(Object.assign({},e.rects,{placement:e.placement})):t)?t:Va(t,fa))}(o.padding,n),p=na(i),f="y"===c?ca:pa,d="y"===c?ua:la,h=n.rects.reference[u]+n.rects.reference[c]-s[c]-n.rects.popper[u],m=s[c]-n.rects.reference[c],v=aa(i),g=v?"y"===c?v.clientHeight||0:v.clientWidth||0:0,y=h/2-m/2,b=l[f],w=g-p[u]-l[d],x=g/2-p[u]/2+y,_=Ua(b,x,w),O=c;n.modifiersData[r]=((e={})[O]=_,e.centerOffset=_-x,e)}},effect:function(t){var e=t.state,n=t.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!=typeof r||(r=e.elements.popper.querySelector(r)))&&Ia(e.elements.popper,r)&&(e.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(t){var e=t.state,n=t.name,r=e.rects.reference,o=e.rects.popper,i=e.modifiersData.preventOverflow,s=Ha(e,{elementContext:"reference"}),a=Ha(e,{altBoundary:!0}),c=qa(s,r),u=qa(a,o,i),l=Wa(c),p=Wa(u);e.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:u,isReferenceHidden:l,hasPopperEscaped:p},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":l,"data-popper-escaped":p})}}]}),Ka={passive:!0,capture:!0};function Ga(t,e,n){if(Array.isArray(t)){var r=t[e];return null==r?Array.isArray(n)?n[e]:n:r}return t}function Ya(t,e){var n={}.toString.call(t);return 0===n.indexOf("[object")&&n.indexOf(e+"]")>-1}function Xa(t,e){return"function"==typeof t?t.apply(void 0,e):t}function Za(t,e){return 0===e?t:function(r){clearTimeout(n),n=setTimeout((function(){t(r)}),e)};var n}function Qa(t){return[].concat(t)}function tc(t,e){-1===t.indexOf(e)&&t.push(e)}function ec(t){return t.split("-")[0]}function nc(t){return[].slice.call(t)}function rc(){return document.createElement("div")}function oc(t){return["Element","Fragment"].some((function(e){return Ya(t,e)}))}function ic(t){return Ya(t,"MouseEvent")}function sc(t){return!(!t||!t._tippy||t._tippy.reference!==t)}function ac(t){return oc(t)?[t]:function(t){return Ya(t,"NodeList")}(t)?nc(t):Array.isArray(t)?t:nc(document.querySelectorAll(t))}function cc(t,e){t.forEach((function(t){t&&(t.style.transitionDuration=e+"ms")}))}function uc(t,e){t.forEach((function(t){t&&t.setAttribute("data-state",e)}))}function lc(t){var e,n=Qa(t)[0];return(null==n||null==(e=n.ownerDocument)?void 0:e.body)?n.ownerDocument:document}function pc(t,e,n){var r=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach((function(e){t[r](e,n)}))}var fc={isTouch:!1},dc=0;function hc(){fc.isTouch||(fc.isTouch=!0,window.performance&&document.addEventListener("mousemove",mc))}function mc(){var t=performance.now();t-dc<20&&(fc.isTouch=!1,document.removeEventListener("mousemove",mc)),dc=t}function vc(){var t=document.activeElement;if(sc(t)){var e=t._tippy;t.blur&&!e.state.isVisible&&t.blur()}}var gc="undefined"!=typeof window&&"undefined"!=typeof document?navigator.userAgent:"",yc=/MSIE |Trident\//.test(gc);var bc={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},wc=Object.assign({appendTo:function(){return document.body},aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},bc,{},{allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999}),xc=Object.keys(wc);function _c(t){var e=(t.plugins||[]).reduce((function(e,n){var r=n.name,o=n.defaultValue;return r&&(e[r]=void 0!==t[r]?t[r]:o),e}),{});return Object.assign({},t,{},e)}function Oc(t,e){var n=Object.assign({},e,{content:Xa(e.content,[t])},e.ignoreAttributes?{}:function(t,e){return(e?Object.keys(_c(Object.assign({},wc,{plugins:e}))):xc).reduce((function(e,n){var r=(t.getAttribute("data-tippy-"+n)||"").trim();if(!r)return e;if("content"===n)e[n]=r;else try{e[n]=JSON.parse(r)}catch(t){e[n]=r}return e}),{})}(t,e.plugins));return n.aria=Object.assign({},wc.aria,{},n.aria),n.aria={expanded:"auto"===n.aria.expanded?e.interactive:n.aria.expanded,content:"auto"===n.aria.content?e.interactive?null:"describedby":n.aria.content},n}function kc(t,e){t.innerHTML=e}function Sc(t){var e=rc();return!0===t?e.className="tippy-arrow":(e.className="tippy-svg-arrow",oc(t)?e.appendChild(t):kc(e,t)),e}function Cc(t,e){oc(e.content)?(kc(t,""),t.appendChild(e.content)):"function"!=typeof e.content&&(e.allowHTML?kc(t,e.content):t.textContent=e.content)}function Mc(t){var e=t.firstElementChild,n=nc(e.children);return{box:e,content:n.find((function(t){return t.classList.contains("tippy-content")})),arrow:n.find((function(t){return t.classList.contains("tippy-arrow")||t.classList.contains("tippy-svg-arrow")})),backdrop:n.find((function(t){return t.classList.contains("tippy-backdrop")}))}}function Ec(t){var e=rc(),n=rc();n.className="tippy-box",n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var r=rc();function o(n,r){var o=Mc(e),i=o.box,s=o.content,a=o.arrow;r.theme?i.setAttribute("data-theme",r.theme):i.removeAttribute("data-theme"),"string"==typeof r.animation?i.setAttribute("data-animation",r.animation):i.removeAttribute("data-animation"),r.inertia?i.setAttribute("data-inertia",""):i.removeAttribute("data-inertia"),i.style.maxWidth="number"==typeof r.maxWidth?r.maxWidth+"px":r.maxWidth,r.role?i.setAttribute("role",r.role):i.removeAttribute("role"),n.content===r.content&&n.allowHTML===r.allowHTML||Cc(s,t.props),r.arrow?a?n.arrow!==r.arrow&&(i.removeChild(a),i.appendChild(Sc(r.arrow))):i.appendChild(Sc(r.arrow)):a&&i.removeChild(a)}return r.className="tippy-content",r.setAttribute("data-state","hidden"),Cc(r,t.props),e.appendChild(n),n.appendChild(r),o(t.props,t.props),{popper:e,onUpdate:o}}Ec.$$tippy=!0;var Tc=1,Ac=[],jc=[];function $c(t,e){var n,r,o,i,s,a,c,u,l,p=Oc(t,Object.assign({},wc,{},_c((n=e,Object.keys(n).reduce((function(t,e){return void 0!==n[e]&&(t[e]=n[e]),t}),{}))))),f=!1,d=!1,h=!1,m=!1,v=[],g=Za(K,p.interactiveDebounce),y=Tc++,b=(l=p.plugins).filter((function(t,e){return l.indexOf(t)===e})),w={id:y,reference:t,popper:rc(),popperInstance:null,props:p,state:{isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},plugins:b,clearDelayTimeouts:function(){clearTimeout(r),clearTimeout(o),cancelAnimationFrame(i)},setProps:function(e){0;if(w.state.isDestroyed)return;D("onBeforeUpdate",[w,e]),W();var n=w.props,r=Oc(t,Object.assign({},w.props,{},e,{ignoreAttributes:!0}));w.props=r,q(),n.interactiveDebounce!==r.interactiveDebounce&&(I(),g=Za(K,r.interactiveDebounce));n.triggerTarget&&!r.triggerTarget?Qa(n.triggerTarget).forEach((function(t){t.removeAttribute("aria-expanded")})):r.triggerTarget&&t.removeAttribute("aria-expanded");L(),N(),O&&O(n,r);w.popperInstance&&(Z(),tt().forEach((function(t){requestAnimationFrame(t._tippy.popperInstance.forceUpdate)})));D("onAfterUpdate",[w,e])},setContent:function(t){w.setProps({content:t})},show:function(){0;var t=w.state.isVisible,e=w.state.isDestroyed,n=!w.state.isEnabled,r=fc.isTouch&&!w.props.touch,o=Ga(w.props.duration,0,wc.duration);if(t||e||n||r)return;if(T().hasAttribute("disabled"))return;if(D("onShow",[w],!1),!1===w.props.onShow(w))return;w.state.isVisible=!0,E()&&(_.style.visibility="visible");N(),F(),w.state.isMounted||(_.style.transition="none");if(E()){var i=j(),s=i.box,a=i.content;cc([s,a],0)}c=function(){var t;if(w.state.isVisible&&!m){if(m=!0,_.offsetHeight,_.style.transition=w.props.moveTransition,E()&&w.props.animation){var e=j(),n=e.box,r=e.content;cc([n,r],o),uc([n,r],"visible")}P(),L(),tc(jc,w),null==(t=w.popperInstance)||t.forceUpdate(),w.state.isMounted=!0,D("onMount",[w]),w.props.animation&&E()&&function(t,e){H(t,e)}(o,(function(){w.state.isShown=!0,D("onShown",[w])}))}},function(){var t,e=w.props.appendTo,n=T();t=w.props.interactive&&e===wc.appendTo||"parent"===e?n.parentNode:Xa(e,[n]);t.contains(_)||t.appendChild(_);Z(),!1}()},hide:function(){0;var t=!w.state.isVisible,e=w.state.isDestroyed,n=!w.state.isEnabled,r=Ga(w.props.duration,1,wc.duration);if(t||e||n)return;if(D("onHide",[w],!1),!1===w.props.onHide(w))return;w.state.isVisible=!1,w.state.isShown=!1,m=!1,f=!1,E()&&(_.style.visibility="hidden");if(I(),V(),N(),E()){var o=j(),i=o.box,s=o.content;w.props.animation&&(cc([i,s],r),uc([i,s],"hidden"))}P(),L(),w.props.animation?E()&&function(t,e){H(t,(function(){!w.state.isVisible&&_.parentNode&&_.parentNode.contains(_)&&e()}))}(r,w.unmount):w.unmount()},hideWithInteractivity:function(t){0;A().addEventListener("mousemove",g),tc(Ac,g),g(t)},enable:function(){w.state.isEnabled=!0},disable:function(){w.hide(),w.state.isEnabled=!1},unmount:function(){0;w.state.isVisible&&w.hide();if(!w.state.isMounted)return;Q(),tt().forEach((function(t){t._tippy.unmount()})),_.parentNode&&_.parentNode.removeChild(_);jc=jc.filter((function(t){return t!==w})),w.state.isMounted=!1,D("onHidden",[w])},destroy:function(){0;if(w.state.isDestroyed)return;w.clearDelayTimeouts(),w.unmount(),W(),delete t._tippy,w.state.isDestroyed=!0,D("onDestroy",[w])}};if(!p.render)return w;var x=p.render(w),_=x.popper,O=x.onUpdate;_.setAttribute("data-tippy-root",""),_.id="tippy-"+w.id,w.popper=_,t._tippy=w,_._tippy=w;var k=b.map((function(t){return t.fn(w)})),S=t.hasAttribute("aria-expanded");return q(),L(),N(),D("onCreate",[w]),p.showOnCreate&&et(),_.addEventListener("mouseenter",(function(){w.props.interactive&&w.state.isVisible&&w.clearDelayTimeouts()})),_.addEventListener("mouseleave",(function(t){w.props.interactive&&w.props.trigger.indexOf("mouseenter")>=0&&(A().addEventListener("mousemove",g),g(t))})),w;function C(){var t=w.props.touch;return Array.isArray(t)?t:[t,0]}function M(){return"hold"===C()[0]}function E(){var t;return!!(null==(t=w.props.render)?void 0:t.$$tippy)}function T(){return u||t}function A(){var t=T().parentNode;return t?lc(t):document}function j(){return Mc(_)}function $(t){return w.state.isMounted&&!w.state.isVisible||fc.isTouch||s&&"focus"===s.type?0:Ga(w.props.delay,t?0:1,wc.delay)}function N(){_.style.pointerEvents=w.props.interactive&&w.state.isVisible?"":"none",_.style.zIndex=""+w.props.zIndex}function D(t,e,n){var r;(void 0===n&&(n=!0),k.forEach((function(n){n[t]&&n[t].apply(void 0,e)})),n)&&(r=w.props)[t].apply(r,e)}function P(){var e=w.props.aria;if(e.content){var n="aria-"+e.content,r=_.id;Qa(w.props.triggerTarget||t).forEach((function(t){var e=t.getAttribute(n);if(w.state.isVisible)t.setAttribute(n,e?e+" "+r:r);else{var o=e&&e.replace(r,"").trim();o?t.setAttribute(n,o):t.removeAttribute(n)}}))}}function L(){!S&&w.props.aria.expanded&&Qa(w.props.triggerTarget||t).forEach((function(t){w.props.interactive?t.setAttribute("aria-expanded",w.state.isVisible&&t===T()?"true":"false"):t.removeAttribute("aria-expanded")}))}function I(){A().removeEventListener("mousemove",g),Ac=Ac.filter((function(t){return t!==g}))}function R(t){if(!(fc.isTouch&&(h||"mousedown"===t.type)||w.props.interactive&&_.contains(t.target))){if(T().contains(t.target)){if(fc.isTouch)return;if(w.state.isVisible&&w.props.trigger.indexOf("click")>=0)return}else D("onClickOutside",[w,t]);!0===w.props.hideOnClick&&(w.clearDelayTimeouts(),w.hide(),d=!0,setTimeout((function(){d=!1})),w.state.isMounted||V())}}function z(){h=!0}function B(){h=!1}function F(){var t=A();t.addEventListener("mousedown",R,!0),t.addEventListener("touchend",R,Ka),t.addEventListener("touchstart",B,Ka),t.addEventListener("touchmove",z,Ka)}function V(){var t=A();t.removeEventListener("mousedown",R,!0),t.removeEventListener("touchend",R,Ka),t.removeEventListener("touchstart",B,Ka),t.removeEventListener("touchmove",z,Ka)}function H(t,e){var n=j().box;function r(t){t.target===n&&(pc(n,"remove",r),e())}if(0===t)return e();pc(n,"remove",a),pc(n,"add",r),a=r}function U(e,n,r){void 0===r&&(r=!1),Qa(w.props.triggerTarget||t).forEach((function(t){t.addEventListener(e,n,r),v.push({node:t,eventType:e,handler:n,options:r})}))}function q(){var t;M()&&(U("touchstart",J,{passive:!0}),U("touchend",G,{passive:!0})),(t=w.props.trigger,t.split(/\s+/).filter(Boolean)).forEach((function(t){if("manual"!==t)switch(U(t,J),t){case"mouseenter":U("mouseleave",G);break;case"focus":U(yc?"focusout":"blur",Y);break;case"focusin":U("focusout",Y)}}))}function W(){v.forEach((function(t){var e=t.node,n=t.eventType,r=t.handler,o=t.options;e.removeEventListener(n,r,o)})),v=[]}function J(t){var e,n=!1;if(w.state.isEnabled&&!X(t)&&!d){var r="focus"===(null==(e=s)?void 0:e.type);s=t,u=t.currentTarget,L(),!w.state.isVisible&&ic(t)&&Ac.forEach((function(e){return e(t)})),"click"===t.type&&(w.props.trigger.indexOf("mouseenter")<0||f)&&!1!==w.props.hideOnClick&&w.state.isVisible?n=!0:et(t),"click"===t.type&&(f=!n),n&&!r&&nt(t)}}function K(t){var e=t.target,n=T().contains(e)||_.contains(e);"mousemove"===t.type&&n||function(t,e){var n=e.clientX,r=e.clientY;return t.every((function(t){var e=t.popperRect,o=t.popperState,i=t.props.interactiveBorder,s=ec(o.placement),a=o.modifiersData.offset;if(!a)return!0;var c="bottom"===s?a.top.y:0,u="top"===s?a.bottom.y:0,l="right"===s?a.left.x:0,p="left"===s?a.right.x:0,f=e.top-r+c>i,d=r-e.bottom-u>i,h=e.left-n+l>i,m=n-e.right-p>i;return f||d||h||m}))}(tt().concat(_).map((function(t){var e,n=null==(e=t._tippy.popperInstance)?void 0:e.state;return n?{popperRect:t.getBoundingClientRect(),popperState:n,props:p}:null})).filter(Boolean),t)&&(I(),nt(t))}function G(t){X(t)||w.props.trigger.indexOf("click")>=0&&f||(w.props.interactive?w.hideWithInteractivity(t):nt(t))}function Y(t){w.props.trigger.indexOf("focusin")<0&&t.target!==T()||w.props.interactive&&t.relatedTarget&&_.contains(t.relatedTarget)||nt(t)}function X(t){return!!fc.isTouch&&M()!==t.type.indexOf("touch")>=0}function Z(){Q();var e=w.props,n=e.popperOptions,r=e.placement,o=e.offset,i=e.getReferenceClientRect,s=e.moveTransition,a=E()?Mc(_).arrow:null,u=i?{getBoundingClientRect:i,contextElement:i.contextElement||T()}:t,l=[{name:"offset",options:{offset:o}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!s}},{name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(t){var e=t.state;if(E()){var n=j().box;["placement","reference-hidden","escaped"].forEach((function(t){"placement"===t?n.setAttribute("data-placement",e.placement):e.attributes.popper["data-popper-"+t]?n.setAttribute("data-"+t,""):n.removeAttribute("data-"+t)})),e.attributes.popper={}}}}];E()&&a&&l.push({name:"arrow",options:{element:a,padding:3}}),l.push.apply(l,(null==n?void 0:n.modifiers)||[]),w.popperInstance=Ja(u,_,Object.assign({},n,{placement:r,onFirstUpdate:c,modifiers:l}))}function Q(){w.popperInstance&&(w.popperInstance.destroy(),w.popperInstance=null)}function tt(){return nc(_.querySelectorAll("[data-tippy-root]"))}function et(t){w.clearDelayTimeouts(),t&&D("onTrigger",[w,t]),F();var e=$(!0),n=C(),o=n[0],i=n[1];fc.isTouch&&"hold"===o&&i&&(e=i),e?r=setTimeout((function(){w.show()}),e):w.show()}function nt(t){if(w.clearDelayTimeouts(),D("onUntrigger",[w,t]),w.state.isVisible){if(!(w.props.trigger.indexOf("mouseenter")>=0&&w.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(t.type)>=0&&f)){var e=$(!1);e?o=setTimeout((function(){w.state.isVisible&&w.hide()}),e):i=requestAnimationFrame((function(){w.hide()}))}}else V()}}function Nc(t,e){void 0===e&&(e={});var n=wc.plugins.concat(e.plugins||[]);document.addEventListener("touchstart",hc,Ka),window.addEventListener("blur",vc);var r=Object.assign({},e,{plugins:n}),o=ac(t).reduce((function(t,e){var n=e&&$c(e,r);return n&&t.push(n),t}),[]);return oc(t)?o[0]:o}Nc.defaultProps=wc,Nc.setDefaultProps=function(t){Object.keys(t).forEach((function(e){wc[e]=t[e]}))},Nc.currentInput=fc;Object.assign({},$a,{effect:function(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow)}});Nc.setDefaultProps({render:Ec});var Dc=Nc;class Pc{constructor({editor:t,element:e,view:n,tippyOptions:r,shouldShow:o}){this.preventHide=!1,this.shouldShow=({state:t,from:e,to:n})=>{const{doc:r,selection:o}=t,{empty:i}=o,s=!r.textBetween(e,n).length&&Ui(t.selection);return!i&&!s},this.mousedownHandler=()=>{this.preventHide=!0},this.dragstartHandler=()=>{this.hide()},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:t})=>{var e;this.preventHide?this.preventHide=!1:(null==t?void 0:t.relatedTarget)&&(null===(e=this.element.parentNode)||void 0===e?void 0:e.contains(t.relatedTarget))||this.hide()},this.editor=t,this.element=e,this.view=n,o&&(this.shouldShow=o),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.addEventListener("dragstart",this.dragstartHandler),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.element.style.visibility="visible",requestAnimationFrame(()=>{this.createTooltip(r)})}createTooltip(t={}){this.tippy=Dc(this.editor.options.element,{duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"top",hideOnClick:"toggle",...t})}update(t,e){var n;const{state:r,composing:o}=t,{doc:i,selection:s}=r,a=e&&e.doc.eq(i)&&e.selection.eq(s);if(o||a)return;const{ranges:c}=s,u=Math.min(...c.map(t=>t.$from.pos)),l=Math.max(...c.map(t=>t.$to.pos));this.shouldShow({editor:this.editor,view:t,state:r,oldState:e,from:u,to:l})?(null===(n=this.tippy)||void 0===n||n.setProps({getReferenceClientRect:()=>{if(Hi(e=r.selection)&&e instanceof ne){const e=t.nodeDOM(u);if(e)return e.getBoundingClientRect()}var e;return Vs(t,u,l)}}),this.show()):this.hide()}show(){var t;null===(t=this.tippy)||void 0===t||t.show()}hide(){var t;null===(t=this.tippy)||void 0===t||t.hide()}destroy(){var t;null===(t=this.tippy)||void 0===t||t.destroy(),this.element.removeEventListener("mousedown",this.mousedownHandler),this.view.dom.removeEventListener("dragstart",this.dragstartHandler),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler)}}const Lc=t=>new ve({key:"string"==typeof t.pluginKey?new be(t.pluginKey):t.pluginKey,view:e=>new Pc({view:e,...t})});Si.create({name:"bubbleMenu",defaultOptions:{element:null,tippyOptions:{},pluginKey:"bubbleMenu",shouldShow:null},addProseMirrorPlugins(){return this.options.element?[Lc({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,tippyOptions:this.options.tippyOptions,shouldShow:this.options.shouldShow})]:[]}});class Ic{constructor({editor:t,element:e,view:n,tippyOptions:r,shouldShow:o}){this.preventHide=!1,this.shouldShow=({state:t})=>{const{selection:e}=t,{$anchor:n,empty:r}=e,o=1===n.depth,i=n.parent.isTextblock&&!n.parent.type.spec.code&&!n.parent.textContent;return!!(r&&o&&i)},this.mousedownHandler=()=>{this.preventHide=!0},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:t})=>{var e;this.preventHide?this.preventHide=!1:(null==t?void 0:t.relatedTarget)&&(null===(e=this.element.parentNode)||void 0===e?void 0:e.contains(t.relatedTarget))||this.hide()},this.editor=t,this.element=e,this.view=n,o&&(this.shouldShow=o),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.element.style.visibility="visible",requestAnimationFrame(()=>{this.createTooltip(r)})}createTooltip(t={}){this.tippy=Dc(this.editor.options.element,{duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"right",hideOnClick:"toggle",...t})}update(t,e){var n;const{state:r,composing:o}=t,{doc:i,selection:s}=r,{from:a,to:c}=s,u=e&&e.doc.eq(i)&&e.selection.eq(s);if(o||u)return;this.shouldShow({editor:this.editor,view:t,state:r,oldState:e})?(null===(n=this.tippy)||void 0===n||n.setProps({getReferenceClientRect:()=>Vs(t,a,c)}),this.show()):this.hide()}show(){var t;null===(t=this.tippy)||void 0===t||t.show()}hide(){var t;null===(t=this.tippy)||void 0===t||t.hide()}destroy(){var t;null===(t=this.tippy)||void 0===t||t.destroy(),this.element.removeEventListener("mousedown",this.mousedownHandler),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler)}}const Rc=t=>new ve({key:"string"==typeof t.pluginKey?new be(t.pluginKey):t.pluginKey,view:e=>new Ic({view:e,...t})});Si.create({name:"floatingMenu",defaultOptions:{element:null,tippyOptions:{},pluginKey:"floatingMenu",shouldShow:null},addProseMirrorPlugins(){return this.options.element?[Rc({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,tippyOptions:this.options.tippyOptions,shouldShow:this.options.shouldShow})]:[]}});n(6);class zc extends class extends class{constructor(){this.callbacks={}}on(t,e){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(e),this}emit(t,...e){const n=this.callbacks[t];return n&&n.forEach(t=>t.apply(this,e)),this}off(t,e){const n=this.callbacks[t];return n&&(e?this.callbacks[t]=n.filter(t=>t!==e):delete this.callbacks[t]),this}removeAllListeners(){this.callbacks={}}}{constructor(t={}){super(),this.isFocused=!1,this.options={element:document.createElement("div"),content:"",injectCSS:!0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},enableInputRules:!0,enablePasteRules:!0,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(t),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}))},0)}get commands(){return this.commandManager.createCommands()}chain(){return this.commandManager.createChain()}can(){return this.commandManager.createCan()}injectCSS(){this.options.injectCSS&&document&&(this.css=function(t){const e=document.querySelector("style[data-tiptap-style]");if(null!==e)return e;const n=document.createElement("style");return n.setAttribute("data-tiptap-style",""),n.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(n),n}('.ProseMirror {\n  position: relative;\n}\n\n.ProseMirror {\n  word-wrap: break-word;\n  white-space: pre-wrap;\n  -webkit-font-variant-ligatures: none;\n  font-variant-ligatures: none;\n}\n\n.ProseMirror [contenteditable="false"] {\n  white-space: normal;\n}\n\n.ProseMirror [contenteditable="false"] [contenteditable="true"] {\n  white-space: pre-wrap;\n}\n\n.ProseMirror pre {\n  white-space: pre-wrap;\n}\n\n.ProseMirror-gapcursor {\n  display: none;\n  pointer-events: none;\n  position: absolute;\n}\n\n.ProseMirror-gapcursor:after {\n  content: "";\n  display: block;\n  position: absolute;\n  top: -2px;\n  width: 20px;\n  border-top: 1px solid black;\n  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;\n}\n\n@keyframes ProseMirror-cursor-blink {\n  to {\n    visibility: hidden;\n  }\n}\n\n.ProseMirror-hideselection *::selection {\n  background: transparent;\n}\n\n.ProseMirror-hideselection *::-moz-selection {\n  background: transparent;\n}\n\n.ProseMirror-hideselection * {\n  caret-color: transparent;\n}\n\n.ProseMirror-focused .ProseMirror-gapcursor {\n  display: block;\n}\n\n.tippy-box[data-animation=fade][data-state=hidden] {\n  opacity: 0\n}'))}setOptions(t={}){this.options={...this.options,...t},this.view&&this.state&&!this.isDestroyed&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(t){this.setOptions({editable:t})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(t,e){const n="function"==typeof e?e(t,this.state.plugins):[...this.state.plugins,t],r=this.state.reconfigure({plugins:n});this.view.updateState(r)}unregisterPlugin(t){if(this.isDestroyed)return;const e="string"==typeof t?t+"$":t.key,n=this.state.reconfigure({plugins:this.state.plugins.filter(t=>!t.key.startsWith(e))});this.view.updateState(n)}createExtensionManager(){const t=[...Object.entries(Is).map(([,t])=>t),...this.options.extensions].filter(t=>["extension","node","mark"].includes(null==t?void 0:t.type));this.extensionManager=new _i(t,this)}createCommandManager(){this.commandManager=new pi(this,this.extensionManager.commands)}createSchema(){this.schema=this.extensionManager.schema}createView(){this.view=new no(this.options.element,{...this.options.editorProps,dispatchTransaction:this.dispatchTransaction.bind(this),state:de.create({doc:ui(this.options.content,this.schema,this.options.parseOptions)})});const t=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(t),this.createNodeViews();this.view.dom.editor=this}createNodeViews(){this.view.setProps({nodeViews:this.extensionManager.nodeViews})}captureTransaction(t){this.isCapturingTransaction=!0,t(),this.isCapturingTransaction=!1;const e=this.capturedTransaction;return this.capturedTransaction=null,e}dispatchTransaction(t){if(this.isCapturingTransaction)return this.capturedTransaction?void t.steps.forEach(t=>{var e;return null===(e=this.capturedTransaction)||void 0===e?void 0:e.step(t)}):void(this.capturedTransaction=t);const e=this.state.apply(t),n=!this.state.selection.eq(e.selection);this.view.updateState(e),this.emit("transaction",{editor:this,transaction:t}),n&&this.emit("selectionUpdate",{editor:this,transaction:t});const r=t.getMeta("focus"),o=t.getMeta("blur");r&&this.emit("focus",{editor:this,event:r.event,transaction:t}),o&&this.emit("blur",{editor:this,event:o.event,transaction:t}),t.docChanged&&!t.getMeta("preventUpdate")&&this.emit("update",{editor:this,transaction:t})}getAttributes(t){return ri(this.state,t)}isActive(t,e){const n="string"==typeof t?t:null,r="string"==typeof t?e:t;return function(t,e,n={}){if(!e)return ii(t,null,n)||si(t,null,n);const r=Qo(e,t.schema);return"node"===r?ii(t,e,n):"mark"===r&&si(t,e,n)}(this.state,n,r)}getJSON(){return this.state.doc.toJSON()}getHTML(){return li(this.state.doc,this.schema)}get isEmpty(){return function(t){var e;const n=null===(e=t.type.createAndFill())||void 0===e?void 0:e.toJSON(),r=t.toJSON();return JSON.stringify(n)===JSON.stringify(r)}(this.state.doc)}getCharacterCount(){return this.state.doc.content.size-2}destroy(){var t;this.emit("destroy"),this.view&&this.view.destroy(),this.removeAllListeners(),(t=this.css)&&t.parentNode&&t.parentNode.removeChild(t)}get isDestroyed(){var t;return!(null===(t=this.view)||void 0===t?void 0:t.docView)}}{constructor(){super(...arguments),this.contentComponent=null}}const Bc={name:"EditorContent",props:{editor:{default:null,type:Object}},watch:{editor:{immediate:!0,handler(t){t&&t.options.element&&this.$nextTick(()=>{const e=this.$el;e&&t.options.element.firstChild&&(e.append(...t.options.element.childNodes),t.contentComponent=this,t.setOptions({element:e}),t.createNodeViews())})}}},render:t=>t("div"),beforeDestroy(){const{editor:t}=this;if(!t)return;if(t.isDestroyed||t.view.setProps({nodeViews:{}}),t.contentComponent=null,!t.options.element.firstChild)return;const e=document.createElement("div");e.append(...t.options.element.childNodes),t.setOptions({element:e})}};Boolean;const Fc=/^\s*>\s$/gm;var Vc=Rs.create({name:"blockquote",defaultOptions:{HTMLAttributes:{}},content:"block*",group:"block",defining:!0,parseHTML:()=>[{tag:"blockquote"}],renderHTML({HTMLAttributes:t}){return["blockquote",mi(this.options.HTMLAttributes,t),0]},addCommands:()=>({setBlockquote:()=>({commands:t})=>t.wrapIn("blockquote"),toggleBlockquote:()=>({commands:t})=>t.toggleWrap("blockquote"),unsetBlockquote:()=>({commands:t})=>t.lift("blockquote")}),addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[So(Fc,this.type)]}});const Hc=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))$/gm,Uc=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))/gm,qc=/(?:^|\s)((?:__)((?:[^__]+))(?:__))$/gm,Wc=/(?:^|\s)((?:__)((?:[^__]+))(?:__))/gm;var Jc=zs.create({name:"bold",defaultOptions:{HTMLAttributes:{}},parseHTML:()=>[{tag:"strong"},{tag:"b",getAttrs:t=>"normal"!==t.style.fontWeight&&null},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}],renderHTML({HTMLAttributes:t}){return["strong",mi(this.options.HTMLAttributes,t),0]},addCommands:()=>({setBold:()=>({commands:t})=>t.setMark("bold"),toggleBold:()=>({commands:t})=>t.toggleMark("bold"),unsetBold:()=>({commands:t})=>t.unsetMark("bold")}),addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Bs(Hc,this.type),Bs(qc,this.type)]},addPasteRules(){return[Fs(Uc,this.type),Fs(Wc,this.type)]}});const Kc=/^\s*([-+*])\s$/;var Gc=Rs.create({name:"bulletList",defaultOptions:{HTMLAttributes:{}},group:"block list",content:"listItem+",parseHTML:()=>[{tag:"ul"}],renderHTML({HTMLAttributes:t}){return["ul",mi(this.options.HTMLAttributes,t),0]},addCommands:()=>({toggleBulletList:()=>({commands:t})=>t.toggleList("bulletList","listItem")}),addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){return[So(Kc,this.type)]}});const Yc=/(?:^|\s)((?:`)((?:[^`]+))(?:`))$/gm,Xc=/(?:^|\s)((?:`)((?:[^`]+))(?:`))/gm,Zc=zs.create({name:"code",defaultOptions:{HTMLAttributes:{}},excludes:"_",parseHTML:()=>[{tag:"code"}],renderHTML({HTMLAttributes:t}){return["code",mi(this.options.HTMLAttributes,t),0]},addCommands:()=>({setCode:()=>({commands:t})=>t.setMark("code"),toggleCode:()=>({commands:t})=>t.toggleMark("code"),unsetCode:()=>({commands:t})=>t.unsetMark("code")}),addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Bs(Yc,this.type)]},addPasteRules(){return[Fs(Xc,this.type)]}}),Qc=/^```(?<language>[a-z]*)? $/,tu=/^~~~(?<language>[a-z]*)? $/;var eu=Rs.create({name:"codeBlock",defaultOptions:{languageClassPrefix:"language-",HTMLAttributes:{}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:null,parseHTML:t=>{var e;const n=null===(e=t.firstElementChild)||void 0===e?void 0:e.getAttribute("class");if(!n)return null;const r=new RegExp(`^(${this.options.languageClassPrefix})`);return{language:n.replace(r,"")}},renderHTML:t=>t.language?{class:this.options.languageClassPrefix+t.language}:null}}},parseHTML:()=>[{tag:"pre",preserveWhitespace:"full"}],renderHTML({HTMLAttributes:t}){return["pre",this.options.HTMLAttributes,["code",t,0]]},addCommands:()=>({setCodeBlock:t=>({commands:e})=>e.setNode("codeBlock",t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode("codeBlock","paragraph",t)}),addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=1===e.pos;return!(!t||e.parent.type.name!==this.name)&&(!(!n&&e.parent.textContent.length)&&this.editor.commands.clearNodes())}}},addInputRules(){return[Co(Qc,this.type,({groups:t})=>t),Co(tu,this.type,({groups:t})=>t)]}});var nu=Rs.create({name:"doc",topNode:!0,content:"block+"});var ru=function(t,e){var n=this;this.editorView=t,this.width=e.width||1,this.color=e.color||"black",this.class=e.class,this.cursorPos=null,this.element=null,this.timeout=null,this.handlers=["dragover","dragend","drop","dragleave"].map((function(e){var r=function(t){return n[e](t)};return t.dom.addEventListener(e,r),{name:e,handler:r}}))};ru.prototype.destroy=function(){var t=this;this.handlers.forEach((function(e){var n=e.name,r=e.handler;return t.editorView.dom.removeEventListener(n,r)}))},ru.prototype.update=function(t,e){null!=this.cursorPos&&e.doc!=t.state.doc&&(this.cursorPos>t.state.doc.content.size?this.setCursor(null):this.updateOverlay())},ru.prototype.setCursor=function(t){t!=this.cursorPos&&(this.cursorPos=t,null==t?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())},ru.prototype.updateOverlay=function(){var t,e=this.editorView.state.doc.resolve(this.cursorPos);if(!e.parent.inlineContent){var n=e.nodeBefore,r=e.nodeAfter;if(n||r){var o=this.editorView.nodeDOM(this.cursorPos-(n?n.nodeSize:0)).getBoundingClientRect(),i=n?o.bottom:o.top;n&&r&&(i=(i+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),t={left:o.left,right:o.right,top:i-this.width/2,bottom:i+this.width/2}}}if(!t){var s=this.editorView.coordsAtPos(this.cursorPos);t={left:s.left-this.width/2,right:s.left+this.width/2,top:s.top,bottom:s.bottom}}var a,c,u=this.editorView.dom.offsetParent;if(this.element||(this.element=u.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none; background-color: "+this.color),!u||u==document.body&&"static"==getComputedStyle(u).position)a=-pageXOffset,c=-pageYOffset;else{var l=u.getBoundingClientRect();a=l.left-u.scrollLeft,c=l.top-u.scrollTop}this.element.style.left=t.left-a+"px",this.element.style.top=t.top-c+"px",this.element.style.width=t.right-t.left+"px",this.element.style.height=t.bottom-t.top+"px"},ru.prototype.scheduleRemoval=function(t){var e=this;clearTimeout(this.timeout),this.timeout=setTimeout((function(){return e.setCursor(null)}),t)},ru.prototype.dragover=function(t){if(this.editorView.editable){var e=this.editorView.posAtCoords({left:t.clientX,top:t.clientY});if(e){var n=e.pos;if(this.editorView.dragging&&this.editorView.dragging.slice&&null==(n=Lt(this.editorView.state.doc,n,this.editorView.dragging.slice)))return this.setCursor(null);this.setCursor(n),this.scheduleRemoval(5e3)}}},ru.prototype.dragend=function(){this.scheduleRemoval(20)},ru.prototype.drop=function(){this.scheduleRemoval(20)},ru.prototype.dragleave=function(t){t.target!=this.editorView.dom&&this.editorView.dom.contains(t.relatedTarget)||this.setCursor(null)};var ou=Si.create({name:"dropCursor",defaultOptions:{color:"currentColor",width:1,class:null},addProseMirrorPlugins(){return[(t=this.options,void 0===t&&(t={}),new ve({view:function(e){return new ru(e,t)}}))];var t}}),iu=function(t){function e(e){t.call(this,e,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.map=function(n,r){var o=n.resolve(r.map(this.head));return e.valid(o)?new e(o):t.near(o)},e.prototype.content=function(){return f.empty},e.prototype.eq=function(t){return t instanceof e&&t.head==this.head},e.prototype.toJSON=function(){return{type:"gapcursor",pos:this.head}},e.fromJSON=function(t,n){if("number"!=typeof n.pos)throw new RangeError("Invalid input for GapCursor.fromJSON");return new e(t.resolve(n.pos))},e.prototype.getBookmark=function(){return new su(this.anchor)},e.valid=function(t){var e=t.parent;if(e.isTextblock||!function(t){for(var e=t.depth;e>=0;e--){var n=t.index(e);if(0!=n)for(var r=t.node(e).child(n-1);;r=r.lastChild){if(0==r.childCount&&!r.inlineContent||r.isAtom||r.type.spec.isolating)return!0;if(r.inlineContent)return!1}}return!0}(t)||!function(t){for(var e=t.depth;e>=0;e--){var n=t.indexAfter(e),r=t.node(e);if(n!=r.childCount)for(var o=r.child(n);;o=o.firstChild){if(0==o.childCount&&!o.inlineContent||o.isAtom||o.type.spec.isolating)return!0;if(o.inlineContent)return!1}}return!0}(t))return!1;var n=e.type.spec.allowGapCursor;if(null!=n)return n;var r=e.contentMatchAt(t.index()).defaultType;return r&&r.isTextblock},e.findFrom=function(t,n,r){t:for(;;){if(!r&&e.valid(t))return t;for(var o=t.pos,i=null,s=t.depth;;s--){var a=t.node(s);if(n>0?t.indexAfter(s)<a.childCount:t.index(s)>0){i=a.child(n>0?t.indexAfter(s):t.index(s)-1);break}if(0==s)return null;o+=n;var c=t.doc.resolve(o);if(e.valid(c))return c}for(;;){var u=n>0?i.firstChild:i.lastChild;if(!u){if(i.isAtom&&!i.isText&&!ne.isSelectable(i)){t=t.doc.resolve(o+i.nodeSize*n),r=!1;continue t}break}i=u,o+=n;var l=t.doc.resolve(o);if(e.valid(l))return l}return null}},e}(Xt);iu.prototype.visible=!1,Xt.jsonID("gapcursor",iu);var su=function(t){this.pos=t};su.prototype.map=function(t){return new su(t.map(this.pos))},su.prototype.resolve=function(t){var e=t.resolve(this.pos);return iu.valid(e)?new iu(e):Xt.near(e)};var au=_o({ArrowLeft:cu("horiz",-1),ArrowRight:cu("horiz",1),ArrowUp:cu("vert",-1),ArrowDown:cu("vert",1)});function cu(t,e){var n="vert"==t?e>0?"down":"up":e>0?"right":"left";return function(t,r,o){var i=t.selection,s=e>0?i.$to:i.$from,a=i.empty;if(i instanceof te){if(!o.endOfTextblock(n)||0==s.depth)return!1;a=!1,s=t.doc.resolve(e>0?s.after():s.before())}var c=iu.findFrom(s,e,a);return!!c&&(r&&r(t.tr.setSelection(new iu(c))),!0)}}function uu(t,e,n){if(!t.editable)return!1;var r=t.state.doc.resolve(e);if(!iu.valid(r))return!1;var o=t.posAtCoords({left:n.clientX,top:n.clientY}).inside;return!(o>-1&&ne.isSelectable(t.state.doc.nodeAt(o)))&&(t.dispatch(t.state.tr.setSelection(new iu(r))),!0)}function lu(t){if(!(t.selection instanceof iu))return null;var e=document.createElement("div");return e.className="ProseMirror-gapcursor",qr.create(t.doc,[Fr.widget(t.selection.head,e,{key:"gapcursor"})])}var pu=Si.create({name:"gapCursor",addProseMirrorPlugins:()=>[new ve({props:{decorations:lu,createSelectionBetween:function(t,e,n){if(e.pos==n.pos&&iu.valid(n))return new iu(n)},handleClick:uu,handleKeyDown:au}})],extendNodeSchema(t){var e;return{allowGapCursor:null!==(e=yi(fi(t,"allowGapCursor",{name:t.name,options:t.options})))&&void 0!==e?e:null}}});var fu=Rs.create({name:"hardBreak",defaultOptions:{HTMLAttributes:{}},inline:!0,group:"inline",selectable:!1,parseHTML:()=>[{tag:"br"}],renderHTML({HTMLAttributes:t}){return["br",mi(this.options.HTMLAttributes,t)]},addCommands(){return{setHardBreak:()=>({commands:t})=>t.first([()=>t.exitCode(),()=>t.insertContent({type:this.name})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}});var du=Rs.create({name:"heading",defaultOptions:{levels:[1,2,3,4,5,6],HTMLAttributes:{}},content:"inline*",group:"block",defining:!0,addAttributes:()=>({level:{default:1,rendered:!1}}),parseHTML(){return this.options.levels.map(t=>({tag:"h"+t,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return["h"+(this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]),mi(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:t=>({commands:e})=>!!this.options.levels.includes(t.level)&&e.setNode("heading",t),toggleHeading:t=>({commands:e})=>!!this.options.levels.includes(t.level)&&e.toggleNode("heading","paragraph",t)}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,["Mod-Alt-"+e]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>Co(new RegExp(`^(#{1,${t}})\\s$`),this.type,{level:t}))}}),hu=function(){};hu.prototype.append=function(t){return t.length?(t=hu.from(t),!this.length&&t||t.length<200&&this.leafAppend(t)||this.length<200&&t.leafPrepend(this)||this.appendInner(t)):this},hu.prototype.prepend=function(t){return t.length?hu.from(t).append(this):this},hu.prototype.appendInner=function(t){return new vu(this,t)},hu.prototype.slice=function(t,e){return void 0===t&&(t=0),void 0===e&&(e=this.length),t>=e?hu.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,e))},hu.prototype.get=function(t){if(!(t<0||t>=this.length))return this.getInner(t)},hu.prototype.forEach=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=this.length),e<=n?this.forEachInner(t,e,n,0):this.forEachInvertedInner(t,e,n,0)},hu.prototype.map=function(t,e,n){void 0===e&&(e=0),void 0===n&&(n=this.length);var r=[];return this.forEach((function(e,n){return r.push(t(e,n))}),e,n),r},hu.from=function(t){return t instanceof hu?t:t&&t.length?new mu(t):hu.empty};var mu=function(t){function e(e){t.call(this),this.values=e}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(t,n){return 0==t&&n==this.length?this:new e(this.values.slice(t,n))},e.prototype.getInner=function(t){return this.values[t]},e.prototype.forEachInner=function(t,e,n,r){for(var o=e;o<n;o++)if(!1===t(this.values[o],r+o))return!1},e.prototype.forEachInvertedInner=function(t,e,n,r){for(var o=e-1;o>=n;o--)if(!1===t(this.values[o],r+o))return!1},e.prototype.leafAppend=function(t){if(this.length+t.length<=200)return new e(this.values.concat(t.flatten()))},e.prototype.leafPrepend=function(t){if(this.length+t.length<=200)return new e(t.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(hu);hu.empty=new mu([]);var vu=function(t){function e(e,n){t.call(this),this.left=e,this.right=n,this.length=e.length+n.length,this.depth=Math.max(e.depth,n.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(t){return t<this.left.length?this.left.get(t):this.right.get(t-this.left.length)},e.prototype.forEachInner=function(t,e,n,r){var o=this.left.length;return!(e<o&&!1===this.left.forEachInner(t,e,Math.min(n,o),r))&&(!(n>o&&!1===this.right.forEachInner(t,Math.max(e-o,0),Math.min(this.length,n)-o,r+o))&&void 0)},e.prototype.forEachInvertedInner=function(t,e,n,r){var o=this.left.length;return!(e>o&&!1===this.right.forEachInvertedInner(t,e-o,Math.max(n,o)-o,r+o))&&(!(n<o&&!1===this.left.forEachInvertedInner(t,Math.min(e,o),n,r))&&void 0)},e.prototype.sliceInner=function(t,e){if(0==t&&e==this.length)return this;var n=this.left.length;return e<=n?this.left.slice(t,e):t>=n?this.right.slice(t-n,e-n):this.left.slice(t,n).append(this.right.slice(0,e-n))},e.prototype.leafAppend=function(t){var n=this.right.leafAppend(t);if(n)return new e(this.left,n)},e.prototype.leafPrepend=function(t){var n=this.left.leafPrepend(t);if(n)return new e(n,this.right)},e.prototype.appendInner=function(t){return this.left.depth>=Math.max(this.right.depth,t.depth)+1?new e(this.left,new e(this.right,t)):new e(this,t)},e}(hu),gu=hu,yu=function(t,e){this.items=t,this.eventCount=e};yu.prototype.popEvent=function(t,e){var n=this;if(0==this.eventCount)return null;for(var r,o,i=this.items.length;;i--){if(this.items.get(i-1).selection){--i;break}}e&&(r=this.remapping(i,this.items.length),o=r.maps.length);var s,a,c=t.tr,u=[],l=[];return this.items.forEach((function(t,e){if(!t.step)return r||(r=n.remapping(i,e+1),o=r.maps.length),o--,void l.push(t);if(r){l.push(new bu(t.map));var p,f=t.step.map(r.slice(o));f&&c.maybeStep(f).doc&&(p=c.mapping.maps[c.mapping.maps.length-1],u.push(new bu(p,null,null,u.length+l.length))),o--,p&&r.appendMap(p,o)}else c.maybeStep(t.step);return t.selection?(s=r?t.selection.map(r.slice(o)):t.selection,a=new yu(n.items.slice(0,i).append(l.reverse().concat(u)),n.eventCount-1),!1):void 0}),this.items.length,0),{remaining:a,transform:c,selection:s}},yu.prototype.addTransform=function(t,e,n,r){for(var o=[],i=this.eventCount,s=this.items,a=!r&&s.length?s.get(s.length-1):null,c=0;c<t.steps.length;c++){var u,l=t.steps[c].invert(t.docs[c]),p=new bu(t.mapping.maps[c],l,e);(u=a&&a.merge(p))&&(p=u,c?o.pop():s=s.slice(0,s.length-1)),o.push(p),e&&(i++,e=null),r||(a=p)}var f,d,h,m=i-n.depth;return m>xu&&(d=m,(f=s).forEach((function(t,e){if(t.selection&&0==d--)return h=e,!1})),s=f.slice(h),i-=m),new yu(s.append(o),i)},yu.prototype.remapping=function(t,e){var n=new yt;return this.items.forEach((function(e,r){var o=null!=e.mirrorOffset&&r-e.mirrorOffset>=t?n.maps.length-e.mirrorOffset:null;n.appendMap(e.map,o)}),t,e),n},yu.prototype.addMaps=function(t){return 0==this.eventCount?this:new yu(this.items.append(t.map((function(t){return new bu(t)}))),this.eventCount)},yu.prototype.rebased=function(t,e){if(!this.eventCount)return this;var n=[],r=Math.max(0,this.items.length-e),o=t.mapping,i=t.steps.length,s=this.eventCount;this.items.forEach((function(t){t.selection&&s--}),r);var a=e;this.items.forEach((function(e){var r=o.getMirror(--a);if(null!=r){i=Math.min(i,r);var c=o.maps[r];if(e.step){var u=t.steps[r].invert(t.docs[r]),l=e.selection&&e.selection.map(o.slice(a+1,r));l&&s++,n.push(new bu(c,u,l))}else n.push(new bu(c))}}),r);for(var c=[],u=e;u<i;u++)c.push(new bu(o.maps[u]));var l=this.items.slice(0,r).append(c).append(n),p=new yu(l,s);return p.emptyItemCount()>500&&(p=p.compress(this.items.length-n.length)),p},yu.prototype.emptyItemCount=function(){var t=0;return this.items.forEach((function(e){e.step||t++})),t},yu.prototype.compress=function(t){void 0===t&&(t=this.items.length);var e=this.remapping(0,t),n=e.maps.length,r=[],o=0;return this.items.forEach((function(i,s){if(s>=t)r.push(i),i.selection&&o++;else if(i.step){var a=i.step.map(e.slice(n)),c=a&&a.getMap();if(n--,c&&e.appendMap(c,n),a){var u=i.selection&&i.selection.map(e.slice(n));u&&o++;var l,p=new bu(c.invert(),a,u),f=r.length-1;(l=r.length&&r[f].merge(p))?r[f]=l:r.push(p)}}else i.map&&n--}),this.items.length,0),new yu(gu.from(r.reverse()),o)},yu.empty=new yu(gu.empty,0);var bu=function(t,e,n,r){this.map=t,this.step=e,this.selection=n,this.mirrorOffset=r};bu.prototype.merge=function(t){if(this.step&&t.step&&!t.selection){var e=t.step.merge(this.step);if(e)return new bu(e.getMap().invert(),e,this.selection)}};var wu=function(t,e,n,r){this.done=t,this.undone=e,this.prevRanges=n,this.prevTime=r},xu=20;function _u(t){var e=[];return t.forEach((function(t,n,r,o){return e.push(r,o)})),e}function Ou(t,e){if(!t)return null;for(var n=[],r=0;r<t.length;r+=2){var o=e.map(t[r],1),i=e.map(t[r+1],-1);o<=i&&n.push(o,i)}return n}function ku(t,e,n,r){var o=Mu(e),i=Eu.get(e).spec.config,s=(r?t.undone:t.done).popEvent(e,o);if(s){var a=s.selection.resolve(s.transform.doc),c=(r?t.done:t.undone).addTransform(s.transform,e.selection.getBookmark(),i,o),u=new wu(r?c:s.remaining,r?s.remaining:c,null,0);n(s.transform.setSelection(a).setMeta(Eu,{redo:r,historyState:u}).scrollIntoView())}}var Su=!1,Cu=null;function Mu(t){var e=t.plugins;if(Cu!=e){Su=!1,Cu=e;for(var n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){Su=!0;break}}return Su}var Eu=new be("history"),Tu=new be("closeHistory");function Au(t){return t={depth:t&&t.depth||100,newGroupDelay:t&&t.newGroupDelay||500},new ve({key:Eu,state:{init:function(){return new wu(yu.empty,yu.empty,null,0)},apply:function(e,n,r){return function(t,e,n,r){var o,i=n.getMeta(Eu);if(i)return i.historyState;n.getMeta(Tu)&&(t=new wu(t.done,t.undone,null,0));var s=n.getMeta("appendedTransaction");if(0==n.steps.length)return t;if(s&&s.getMeta(Eu))return s.getMeta(Eu).redo?new wu(t.done.addTransform(n,null,r,Mu(e)),t.undone,_u(n.mapping.maps[n.steps.length-1]),t.prevTime):new wu(t.done,t.undone.addTransform(n,null,r,Mu(e)),null,t.prevTime);if(!1===n.getMeta("addToHistory")||s&&!1===s.getMeta("addToHistory"))return(o=n.getMeta("rebased"))?new wu(t.done.rebased(n,o),t.undone.rebased(n,o),Ou(t.prevRanges,n.mapping),t.prevTime):new wu(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),Ou(t.prevRanges,n.mapping),t.prevTime);var a=0==t.prevTime||!s&&(t.prevTime<(n.time||0)-r.newGroupDelay||!function(t,e){if(!e)return!1;if(!t.docChanged)return!0;var n=!1;return t.mapping.maps[0].forEach((function(t,r){for(var o=0;o<e.length;o+=2)t<=e[o+1]&&r>=e[o]&&(n=!0)})),n}(n,t.prevRanges)),c=s?Ou(t.prevRanges,n.mapping):_u(n.mapping.maps[n.steps.length-1]);return new wu(t.done.addTransform(n,a?e.selection.getBookmark():null,r,Mu(e)),yu.empty,c,n.time)}(n,r,e,t)}},config:t})}var ju=Si.create({name:"history",defaultOptions:{depth:100,newGroupDelay:500},addCommands:()=>({undo:()=>({state:t,dispatch:e})=>function(t,e){var n=Eu.getState(t);return!(!n||0==n.done.eventCount)&&(e&&ku(n,t,e,!1),!0)}(t,e),redo:()=>({state:t,dispatch:e})=>function(t,e){var n=Eu.getState(t);return!(!n||0==n.undone.eventCount)&&(e&&ku(n,t,e,!0),!0)}(t,e)}),addProseMirrorPlugins(){return[Au(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Mod-y":()=>this.editor.commands.redo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-я":()=>this.editor.commands.undo(),"Shift-Mod-я":()=>this.editor.commands.redo()}}});const $u=Rs.create({name:"horizontalRule",defaultOptions:{HTMLAttributes:{}},group:"block",parseHTML:()=>[{tag:"hr"}],renderHTML({HTMLAttributes:t}){return["hr",mi(this.options.HTMLAttributes,t)]},addCommands(){return{setHorizontalRule:()=>({chain:t})=>t().command(({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:r,$anchor:o}=n,i=o.parent.isTextblock&&!o.parent.type.spec.code&&!o.parent.textContent;if(!r||!i||!e)return!0;const s=o.before();return t.deleteRange(s,s+1),!0}).insertContent({type:this.name}).command(({tr:t,dispatch:e})=>{var n;if(e){const{parent:e,pos:r}=t.selection.$from,o=r+1;if(!t.doc.nodeAt(o)){const r=null===(n=e.type.contentMatch.defaultType)||void 0===n?void 0:n.create();r&&(t.insert(o,r),t.setSelection(te.create(t.doc,o)))}t.scrollIntoView()}return!0}).run()}},addInputRules(){return[(t=/^(?:---|—-|___\s|\*\*\*\s)$/,e=this.type,new Oo(t,(t,r,o,i)=>{const s=n instanceof Function?n(r):n,{tr:a}=t;return r[0]&&a.replaceWith(o-1,i,e.create(s)),a}))];var t,e,n}}),Nu=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))$/gm,Du=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))/gm,Pu=/(?:^|\s)((?:_)((?:[^_]+))(?:_))$/gm,Lu=/(?:^|\s)((?:_)((?:[^_]+))(?:_))/gm;var Iu=zs.create({name:"italic",defaultOptions:{HTMLAttributes:{}},parseHTML:()=>[{tag:"em"},{tag:"i",getAttrs:t=>"normal"!==t.style.fontStyle&&null},{style:"font-style=italic"}],renderHTML({HTMLAttributes:t}){return["em",mi(this.options.HTMLAttributes,t),0]},addCommands:()=>({setItalic:()=>({commands:t})=>t.setMark("italic"),toggleItalic:()=>({commands:t})=>t.toggleMark("italic"),unsetItalic:()=>({commands:t})=>t.unsetMark("italic")}),addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Bs(Nu,this.type),Bs(Pu,this.type)]},addPasteRules(){return[Fs(Du,this.type),Fs(Lu,this.type)]}});var Ru=Rs.create({name:"listItem",defaultOptions:{HTMLAttributes:{}},content:"paragraph block*",defining:!0,parseHTML:()=>[{tag:"li"}],renderHTML({HTMLAttributes:t}){return["li",mi(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem("listItem"),Tab:()=>this.editor.commands.sinkListItem("listItem"),"Shift-Tab":()=>this.editor.commands.liftListItem("listItem")}}});const zu=/^(\d+)\.\s$/;var Bu=Rs.create({name:"orderedList",defaultOptions:{HTMLAttributes:{}},group:"block list",content:"listItem+",addAttributes:()=>({start:{default:1,parseHTML:t=>({start:t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1})}}),parseHTML:()=>[{tag:"ol"}],renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return 1===e?["ol",mi(this.options.HTMLAttributes,n),0]:["ol",mi(this.options.HTMLAttributes,t),0]},addCommands:()=>({toggleOrderedList:()=>({commands:t})=>t.toggleList("orderedList","listItem")}),addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){return[So(zu,this.type,t=>({start:+t[1]}),(t,e)=>e.childCount+e.attrs.start===+t[1])]}});const Fu=Rs.create({name:"paragraph",priority:1e3,defaultOptions:{HTMLAttributes:{}},group:"block",content:"inline*",parseHTML:()=>[{tag:"p"}],renderHTML({HTMLAttributes:t}){return["p",mi(this.options.HTMLAttributes,t),0]},addCommands:()=>({setParagraph:()=>({commands:t})=>t.setNode("paragraph")}),addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),Vu=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))$/gm,Hu=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))/gm;var Uu=zs.create({name:"strike",defaultOptions:{HTMLAttributes:{}},parseHTML:()=>[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>!!t.includes("line-through")&&{}}],renderHTML({HTMLAttributes:t}){return["s",mi(this.options.HTMLAttributes,t),0]},addCommands:()=>({setStrike:()=>({commands:t})=>t.setMark("strike"),toggleStrike:()=>({commands:t})=>t.toggleMark("strike"),unsetStrike:()=>({commands:t})=>t.unsetMark("strike")}),addKeyboardShortcuts(){return{"Mod-Shift-x":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Bs(Vu,this.type)]},addPasteRules(){return[Fs(Hu,this.type)]}});var qu=Rs.create({name:"text",group:"inline"});const Wu=Si.create({name:"starterKit",addExtensions(){var t,e,n,r,o,i,s,a,c,u,l,p,f,d,h,m,v,g;const y=[];return!1!==this.options.blockquote&&y.push(Vc.configure(null===(t=this.options)||void 0===t?void 0:t.blockquote)),!1!==this.options.bold&&y.push(Jc.configure(null===(e=this.options)||void 0===e?void 0:e.bold)),!1!==this.options.bulletList&&y.push(Gc.configure(null===(n=this.options)||void 0===n?void 0:n.bulletList)),!1!==this.options.code&&y.push(Zc.configure(null===(r=this.options)||void 0===r?void 0:r.code)),!1!==this.options.codeBlock&&y.push(eu.configure(null===(o=this.options)||void 0===o?void 0:o.codeBlock)),!1!==this.options.document&&y.push(nu.configure(null===(i=this.options)||void 0===i?void 0:i.document)),!1!==this.options.dropcursor&&y.push(ou.configure(null===(s=this.options)||void 0===s?void 0:s.dropcursor)),!1!==this.options.gapcursor&&y.push(pu.configure(null===(a=this.options)||void 0===a?void 0:a.gapcursor)),!1!==this.options.hardBreak&&y.push(fu.configure(null===(c=this.options)||void 0===c?void 0:c.hardBreak)),!1!==this.options.heading&&y.push(du.configure(null===(u=this.options)||void 0===u?void 0:u.heading)),!1!==this.options.history&&y.push(ju.configure(null===(l=this.options)||void 0===l?void 0:l.history)),!1!==this.options.horizontalRule&&y.push($u.configure(null===(p=this.options)||void 0===p?void 0:p.horizontalRule)),!1!==this.options.italic&&y.push(Iu.configure(null===(f=this.options)||void 0===f?void 0:f.italic)),!1!==this.options.listItem&&y.push(Ru.configure(null===(d=this.options)||void 0===d?void 0:d.listItem)),!1!==this.options.orderedList&&y.push(Bu.configure(null===(h=this.options)||void 0===h?void 0:h.orderedList)),!1!==this.options.paragraph&&y.push(Fu.configure(null===(m=this.options)||void 0===m?void 0:m.paragraph)),!1!==this.options.strike&&y.push(Uu.configure(null===(v=this.options)||void 0===v?void 0:v.strike)),!1!==this.options.text&&y.push(qu.configure(null===(g=this.options)||void 0===g?void 0:g.text)),y}}),Ju=Si.create({name:"placeholder",defaultOptions:{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something …",showOnlyWhenEditable:!0,showOnlyCurrent:!0},addProseMirrorPlugins(){return[new ve({props:{decorations:({doc:t,selection:e})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:r}=e,o=[];if(n)return t.descendants((t,e)=>{const n=r>=e&&r<=e+t.nodeSize,i=!t.isLeaf&&!t.childCount;if((n||!this.options.showOnlyCurrent)&&i){const n=[this.options.emptyNodeClass];this.editor.isEmpty&&n.push(this.options.emptyEditorClass);const r=Fr.node(e,e+t.nodeSize,{class:n.join(" "),"data-placeholder":"function"==typeof this.options.placeholder?this.options.placeholder({editor:this.editor,node:t}):this.options.placeholder});o.push(r)}return!1}),qr.create(t,o)}}})]}});var Ku={name:"Editor",components:{EditorContent:Bc},props:{value:{type:String,default:""},emoji:{type:String,default:""}},data:function(){return{editor:null}},watch:{value:function(t){this.editor.getHTML()===t||this.editor.commands.setContent(this.value,!1)},emoji:function(t){this.editor.chain().focus().insertContent(t).run()}},mounted:function(){var t=this,e=new zc({extensions:[Wu,Ju],content:this.value,editorProps:{handleKeyDown:function(e,n){return!n.shiftKey&&"Enter"===n.key&&(t.$emit("onEnter"),!0)}}});e.on("update",(function(e){t.$emit("input",t.editor.getHTML())})),this.editor=e},beforeDestroy:function(){this.editor.destroy()}},Gu=(n(68),n(1)),Yu=Object(Gu.a)(Ku,(function(){var t=this.$createElement;return(this._self._c||t)("EditorContent",{staticClass:"editor",attrs:{editor:this.editor}})}),[],!1,null,"a0f69a1a",null);e.default=Yu.exports},function(t,e,n){"use strict";n.r(e);var r=n(0),o=n.n(r),i=n(4),s=n(2);function a(){return(a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function c(t){return function(t){if(Array.isArray(t))return u(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return u(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function l(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={mimeType:e.mimeType||null,onBeforeSend:e.onBeforeSend||Function.prototype,onSuccess:e.onSuccess||Function.prototype,onError:e.onError||Function.prototype,onComplete:e.onComplete||Function.prototype},r=Array.isArray(t)?t:[t],o=Array.apply(null,Array(r.length)).map((function(t){return null}));function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e="<"===t.trim().charAt(0);return!e}function s(t,e){n.onError(t,r[e],e)}function a(t,e){var i=n.onSuccess(t,r[e],e);t=!1===i?"":i||t,o[e]=t,-1===o.indexOf(null)&&n.onComplete(o)}var c=document.createElement("a");r.forEach((function(t,e){if(c.setAttribute("href",t),c.href=String(c.href),Boolean(document.all&&!window.atob)&&c.host.split(":")[0]!==location.host.split(":")[0]){if(c.protocol===location.protocol){var r=new XDomainRequest;r.open("GET",t),r.timeout=0,r.onprogress=Function.prototype,r.ontimeout=Function.prototype,r.onload=function(){i(r.responseText)?a(r.responseText,e):s(r,e)},r.onerror=function(t){s(r,e)},setTimeout((function(){r.send()}),0)}else console.warn("Internet Explorer 9 Cross-Origin (CORS) requests must use the same protocol (".concat(t,")")),s(null,e)}else{var o=new XMLHttpRequest;o.open("GET",t),n.mimeType&&o.overrideMimeType&&o.overrideMimeType(n.mimeType),n.onBeforeSend(o,t,e),o.onreadystatechange=function(){4===o.readyState&&(200===o.status&&i(o.responseText)?a(o.responseText,e):s(o,e))},o.send()}}))}function p(t){var e=/\/\*[\s\S]+?\*\//g,n=/(?:@import\s*)(?:url\(\s*)?(?:['"])([^'"]*)(?:['"])(?:\s*\))?(?:[^;]*;)/g,r={rootElement:t.rootElement||document,include:t.include||'style,link[rel="stylesheet"]',exclude:t.exclude||null,filter:t.filter||null,skipDisabled:!1!==t.skipDisabled,useCSSOM:t.useCSSOM||!1,onBeforeSend:t.onBeforeSend||Function.prototype,onSuccess:t.onSuccess||Function.prototype,onError:t.onError||Function.prototype,onComplete:t.onComplete||Function.prototype},o=Array.apply(null,r.rootElement.querySelectorAll(r.include)).filter((function(t){return e=t,n=r.exclude,!(e.matches||e.matchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector).call(e,n);var e,n})),i=Array.apply(null,Array(o.length)).map((function(t){return null}));function s(){if(-1===i.indexOf(null)){var t=i.join("");r.onComplete(t,i,o)}}function a(t,e,n,o){var a=r.onSuccess(t,n,o);(function t(e,n,o,i){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],u=c(e,o,a);u.rules.length?l(u.absoluteUrls,{onBeforeSend:function(t,e,o){r.onBeforeSend(t,n,e)},onSuccess:function(t,e,o){var i=r.onSuccess(t,n,e),s=c(t=!1===i?"":i||t,e,a);return s.rules.forEach((function(e,n){t=t.replace(e,s.absoluteRules[n])})),t},onError:function(r,c,l){s.push({xhr:r,url:c}),a.push(u.rules[l]),t(e,n,o,i,s,a)},onComplete:function(r){r.forEach((function(t,n){e=e.replace(u.rules[n],t)})),t(e,n,o,i,s,a)}}):i(e,s)})(t=void 0!==a&&!1===Boolean(a)?"":a||t,n,o,(function(t,o){null===i[e]&&(o.forEach((function(t){return r.onError(t.xhr,n,t.url)})),!r.filter||r.filter.test(t)?i[e]=t:i[e]="",s())}))}function c(t,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i={};return i.rules=(t.replace(e,"").match(n)||[]).filter((function(t){return-1===o.indexOf(t)})),i.urls=i.rules.map((function(t){return t.replace(n,"$1")})),i.absoluteUrls=i.urls.map((function(t){return f(t,r)})),i.absoluteRules=i.rules.map((function(t,e){var n=i.urls[e],o=f(i.absoluteUrls[e],r);return t.replace(n,o)})),i}o.length?o.forEach((function(t,e){var n=t.getAttribute("href"),o=t.getAttribute("rel"),c="LINK"===t.nodeName&&n&&o&&-1!==o.toLowerCase().indexOf("stylesheet"),u=!1!==r.skipDisabled&&t.disabled,p="STYLE"===t.nodeName;if(c&&!u)l(n,{mimeType:"text/css",onBeforeSend:function(e,n,o){r.onBeforeSend(e,t,n)},onSuccess:function(r,o,i){var s=f(n);a(r,e,t,s)},onError:function(n,o,a){i[e]="",r.onError(n,t,o),s()}});else if(p&&!u){var d=t.textContent;r.useCSSOM&&(d=Array.apply(null,t.sheet.cssRules).map((function(t){return t.cssText})).join("")),a(d,e,t,location.href)}else i[e]="",s()})):r.onComplete("",[])}function f(t,e){var n=document.implementation.createHTMLDocument(""),r=n.createElement("base"),o=n.createElement("a");return n.head.appendChild(r),n.body.appendChild(o),r.href=e||document.baseURI||(document.querySelector("base")||{}).href||location.href,o.href=t,o.href}var d=h;function h(t,e,n){t instanceof RegExp&&(t=m(t,n)),e instanceof RegExp&&(e=m(e,n));var r=v(t,e,n);return r&&{start:r[0],end:r[1],pre:n.slice(0,r[0]),body:n.slice(r[0]+t.length,r[1]),post:n.slice(r[1]+e.length)}}function m(t,e){var n=e.match(t);return n?n[0]:null}function v(t,e,n){var r,o,i,s,a,c=n.indexOf(t),u=n.indexOf(e,c+1),l=c;if(c>=0&&u>0){for(r=[],i=n.length;l>=0&&!a;)l==c?(r.push(l),c=n.indexOf(t,l+1)):1==r.length?a=[r.pop(),u]:((o=r.pop())<i&&(i=o,s=u),u=n.indexOf(e,l+1)),l=c<u&&c>=0?c:u;r.length&&(a=[i,s])}return a}function g(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={preserveStatic:!0,removeComments:!1},r=a({},n,e),o=[];function i(t){throw new Error("CSS parse error: ".concat(t))}function s(e){var n=e.exec(t);if(n)return t=t.slice(n[0].length),n}function c(){return s(/^{\s*/)}function u(){return s(/^}/)}function l(){s(/^\s*/)}function p(){if(l(),"/"===t[0]&&"*"===t[1]){for(var e=2;t[e]&&("*"!==t[e]||"/"!==t[e+1]);)e++;if(!t[e])return i("end of comment is missing");var n=t.slice(2,e);return t=t.slice(e+2),{type:"comment",comment:n}}}function f(){for(var t,e=[];t=p();)e.push(t);return r.removeComments?[]:e}function h(){for(l();"}"===t[0];)i("extra closing bracket");var e=s(/^(("(?:\\"|[^"])*"|'(?:\\'|[^'])*'|[^{])+)/);if(e)return e[0].trim().replace(/\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*\/+/g,"").replace(/"(?:\\"|[^"])*"|'(?:\\'|[^'])*'/g,(function(t){return t.replace(/,/g,"‌")})).split(/\s*(?![^(]*\)),\s*/).map((function(t){return t.replace(/\u200C/g,",")}))}function m(){if("@"===t[0])return E();s(/^([;\s]*)+/);var e=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,n=s(/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/);if(n){if(n=n[0].trim(),!s(/^:\s*/))return i("property missing ':'");var r=s(/^((?:\/\*.*?\*\/|'(?:\\'|.)*?'|"(?:\\"|.)*?"|\((\s*'(?:\\'|.)*?'|"(?:\\"|.)*?"|[^)]*?)\s*\)|[^};])+)/),o={type:"declaration",property:n.replace(e,""),value:r?r[0].replace(e,"").trim():""};return s(/^[;\s]*/),o}}function v(){if(!c())return i("missing '{'");for(var t,e=f();t=m();)e.push(t),e=e.concat(f());return u()?e:i("missing '}'")}function g(){l();for(var t,e=[];t=s(/^((\d+\.\d+|\.\d+|\d+)%?|[a-z]+)\s*/);)e.push(t[1]),s(/^,\s*/);if(e.length)return{type:"keyframe",values:e,declarations:v()}}function y(){var t=s(/^@([-\w]+)?keyframes\s*/);if(t){var e=t[1];if(!(t=s(/^([-\w]+)\s*/)))return i("@keyframes missing name");var n,r=t[1];if(!c())return i("@keyframes missing '{'");for(var o=f();n=g();)o.push(n),o=o.concat(f());return u()?{type:"keyframes",name:r,vendor:e,keyframes:o}:i("@keyframes missing '}'")}}function b(){if(s(/^@page */))return{type:"page",selectors:h()||[],declarations:v()}}function w(){var t=s(/@(top|bottom|left|right)-(left|center|right|top|middle|bottom)-?(corner)?\s*/);if(t)return{type:"page-margin-box",name:"".concat(t[1],"-").concat(t[2])+(t[3]?"-".concat(t[3]):""),declarations:v()}}function x(){if(s(/^@font-face\s*/))return{type:"font-face",declarations:v()}}function _(){var t=s(/^@supports *([^{]+)/);if(t)return{type:"supports",supports:t[1].trim(),rules:A()}}function O(){if(s(/^@host\s*/))return{type:"host",rules:A()}}function k(){var t=s(/^@media([^{]+)*/);if(t)return{type:"media",media:(t[1]||"").trim(),rules:A()}}function S(){var t=s(/^@custom-media\s+(--[^\s]+)\s*([^{;]+);/);if(t)return{type:"custom-media",name:t[1].trim(),media:t[2].trim()}}function C(){var t=s(/^@([-\w]+)?document *([^{]+)/);if(t)return{type:"document",document:t[2].trim(),vendor:t[1]?t[1].trim():null,rules:A()}}function M(){var t=s(/^@(import|charset|namespace)\s*([^;]+);/);if(t)return{type:t[1],name:t[2].trim()}}function E(){if(l(),"@"===t[0]){var e=M()||x()||k()||y()||_()||C()||S()||O()||b()||w();if(e&&!r.preserveStatic){var n=!1;if(e.declarations)n=e.declarations.some((function(t){return/var\(/.test(t.value)}));else n=(e.keyframes||e.rules||[]).some((function(t){return(t.declarations||[]).some((function(t){return/var\(/.test(t.value)}))}));return n?e:{}}return e}}function T(){if(!r.preserveStatic){var e=d("{","}",t);if(e){var n=/:(?:root|host)(?![.:#(])/.test(e.pre)&&/--\S*\s*:/.test(e.body),o=/var\(/.test(e.body);if(!n&&!o)return t=t.slice(e.end+1),{}}}var s=h()||[],a=r.preserveStatic?v():v().filter((function(t){var e=s.some((function(t){return/:(?:root|host)(?![.:#(])/.test(t)}))&&/^--\S/.test(t.property),n=/var\(/.test(t.value);return e||n}));return s.length||i("selector missing"),{type:"rule",selectors:s,declarations:a}}function A(e){if(!e&&!c())return i("missing '{'");for(var n,r=f();t.length&&(e||"}"!==t[0])&&(n=E()||T());)n.type&&r.push(n),r=r.concat(f());return e||u()?r:i("missing '}'")}return{type:"stylesheet",stylesheet:{rules:A(!0),errors:o}}}function y(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={parseHost:!1,store:{},onWarning:function(){}},r=a({},n,e),o=new RegExp(":".concat(r.parseHost?"host":"root","$"));return"string"==typeof t&&(t=g(t,r)),t.stylesheet.rules.forEach((function(t){"rule"===t.type&&t.selectors.some((function(t){return o.test(t)}))&&t.declarations.forEach((function(t,e){var n=t.property,o=t.value;n&&0===n.indexOf("--")&&(r.store[n]=o)}))})),r.store}function b(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,r={charset:function(t){return"@charset "+t.name+";"},comment:function(t){return 0===t.comment.indexOf("__CSSVARSPONYFILL")?"/*"+t.comment+"*/":""},"custom-media":function(t){return"@custom-media "+t.name+" "+t.media+";"},declaration:function(t){return t.property+":"+t.value+";"},document:function(t){return"@"+(t.vendor||"")+"document "+t.document+"{"+o(t.rules)+"}"},"font-face":function(t){return"@font-face{"+o(t.declarations)+"}"},host:function(t){return"@host{"+o(t.rules)+"}"},import:function(t){return"@import "+t.name+";"},keyframe:function(t){return t.values.join(",")+"{"+o(t.declarations)+"}"},keyframes:function(t){return"@"+(t.vendor||"")+"keyframes "+t.name+"{"+o(t.keyframes)+"}"},media:function(t){return"@media "+t.media+"{"+o(t.rules)+"}"},namespace:function(t){return"@namespace "+t.name+";"},page:function(t){return"@page "+(t.selectors.length?t.selectors.join(", "):"")+"{"+o(t.declarations)+"}"},"page-margin-box":function(t){return"@"+t.name+"{"+o(t.declarations)+"}"},rule:function(t){var e=t.declarations;if(e.length)return t.selectors.join(",")+"{"+o(e)+"}"},supports:function(t){return"@supports "+t.supports+"{"+o(t.rules)+"}"}};function o(t){for(var o="",i=0;i<t.length;i++){var s=t[i];n&&n(s);var a=r[s.type](s);a&&(o+=a,a.length&&s.selectors&&(o+=e))}return o}return o(t.stylesheet.rules)}function w(t,e){t.rules.forEach((function(n){n.rules?w(n,e):n.keyframes?n.keyframes.forEach((function(t){"keyframe"===t.type&&e(t.declarations,n)})):n.declarations&&e(n.declarations,t)}))}h.range=v;function x(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={preserveStatic:!0,preserveVars:!1,variables:{},onWarning:function(){}},r=a({},n,e);return"string"==typeof t&&(t=g(t,r)),w(t.stylesheet,(function(t,e){for(var n=0;n<t.length;n++){var o=t[n],i=o.type,s=o.property,a=o.value;if("declaration"===i)if(r.preserveVars||!s||0!==s.indexOf("--")){if(-1!==a.indexOf("var(")){var c=O(a,r);c!==o.value&&(c=_(c),r.preserveVars?(t.splice(n,0,{type:i,property:s,value:c}),n++):o.value=c)}}else t.splice(n,1),n--}})),b(t)}function _(t){return(t.match(/calc\(([^)]+)\)/g)||[]).forEach((function(e){var n="calc".concat(e.split("calc").join(""));t=t.replace(e,n)})),t}function O(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;if(-1===t.indexOf("var("))return t;var r=d("(",")",t);function o(t){var r=t.split(",")[0].replace(/[\s\n\t]/g,""),o=(t.match(/(?:\s*,\s*){1}(.*)?/)||[])[1],i=Object.prototype.hasOwnProperty.call(e.variables,r)?String(e.variables[r]):void 0,s=i||(o?String(o):void 0),a=n||t;return i||e.onWarning('variable "'.concat(r,'" is undefined')),s&&"undefined"!==s&&s.length>0?O(s,e,a):"var(".concat(a,")")}if(r){if("var"===r.pre.slice(-3)){var i=0===r.body.trim().length;return i?(e.onWarning("var() must contain a non-whitespace string"),t):r.pre.slice(0,-3)+o(r.body)+O(r.post,e)}return r.pre+"(".concat(O(r.body,e),")")+O(r.post,e)}return-1!==t.indexOf("var(")&&e.onWarning('missing closing ")" in the value "'.concat(t,'"')),t}var k="undefined"!=typeof window,S=k&&window.CSS&&window.CSS.supports&&window.CSS.supports("(--a: 0)"),C={group:0,job:0},M={rootElement:k?document:null,shadowDOM:!1,include:"style,link[rel=stylesheet]",exclude:"",variables:{},onlyLegacy:!0,preserveStatic:!0,preserveVars:!1,silent:!1,updateDOM:!0,updateURLs:!0,watch:null,onBeforeSend:function(){},onError:function(){},onWarning:function(){},onSuccess:function(){},onComplete:function(){},onFinally:function(){}},E={cssComments:/\/\*[\s\S]+?\*\//g,cssKeyframes:/@(?:-\w*-)?keyframes/,cssMediaQueries:/@media[^{]+\{([\s\S]+?})\s*}/g,cssUrls:/url\((?!['"]?(?:data|http|\/\/):)['"]?([^'")]*)['"]?\)/g,cssVarDeclRules:/(?::(?:root|host)(?![.:#(])[\s,]*[^{]*{\s*[^}]*})/g,cssVarDecls:/(?:[\s;]*)(-{2}\w[\w-]*)(?:\s*:\s*)([^;]*);/g,cssVarFunc:/var\(\s*--[\w-]/,cssVars:/(?:(?::(?:root|host)(?![.:#(])[\s,]*[^{]*{\s*[^;]*;*\s*)|(?:var\(\s*))(--[^:)]+)(?:\s*[:)])/},T={dom:{},job:{},user:{}},A=!1,j=null,$=0,N=null,D=!1;function P(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e="cssVars(): ",n=a({},M,t);function r(t,r,o,i){!n.silent&&window.console&&console.error("".concat(e).concat(t,"\n"),r),n.onError(t,r,o,i)}function o(t){!n.silent&&window.console&&console.warn("".concat(e).concat(t)),n.onWarning(t)}function i(t){n.onFinally(Boolean(t),S,V()-n.__benchmark)}if(k){if(n.watch)return n.watch=M.watch,L(n),void P(n);if(!1===n.watch&&j&&(j.disconnect(),j=null),!n.__benchmark){if(A===n.rootElement)return void I(t);if(n.__benchmark=V(),n.exclude=[j?'[data-cssvars]:not([data-cssvars=""])':'[data-cssvars="out"]',n.exclude].filter((function(t){return t})).join(","),n.variables=B(n.variables),!j){var s=Array.apply(null,n.rootElement.querySelectorAll('[data-cssvars="out"]'));if(s.forEach((function(t){var e=t.getAttribute("data-cssvars-group");(e?n.rootElement.querySelector('[data-cssvars="src"][data-cssvars-group="'.concat(e,'"]')):null)||t.parentNode.removeChild(t)})),$){var u=n.rootElement.querySelectorAll('[data-cssvars]:not([data-cssvars="out"])');u.length<$&&($=u.length,T.dom={})}}}if("loading"!==document.readyState)if(S&&n.onlyLegacy){var l=!1;if(n.updateDOM){var f=n.rootElement.host||(n.rootElement===document?document.documentElement:n.rootElement);Object.keys(n.variables).forEach((function(t){var e=n.variables[t];l=l||e!==getComputedStyle(f).getPropertyValue(t),f.style.setProperty(t,e)}))}i(l)}else!D&&(n.shadowDOM||n.rootElement.shadowRoot||n.rootElement.host)?p({rootElement:M.rootElement,include:M.include,exclude:n.exclude,skipDisabled:!1,onSuccess:function(t,e,n){return(t=((t=t.replace(E.cssComments,"").replace(E.cssMediaQueries,"")).match(E.cssVarDeclRules)||[]).join(""))||!1},onComplete:function(t,e,r){y(t,{store:T.dom,onWarning:o}),D=!0,P(n)}}):(A=n.rootElement,p({rootElement:n.rootElement,include:n.include,exclude:n.exclude,skipDisabled:!1,onBeforeSend:n.onBeforeSend,onError:function(t,e,n){var o=t.responseURL||F(n,location.href),i=t.statusText?"(".concat(t.statusText,")"):"Unspecified Error"+(0===t.status?" (possibly CORS related)":"");r("CSS XHR Error: ".concat(o," ").concat(t.status," ").concat(i),e,t,o)},onSuccess:function(t,e,r){var o="LINK"===e.tagName,i="STYLE"===e.tagName&&t!==e.textContent,s=n.onSuccess(t,e,r);return t=void 0!==s&&!1===Boolean(s)?"":s||t,n.updateURLs&&(o||i)&&(t=z(t,r)),t},onComplete:function(t,e){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],u=a({},T.dom,T.user);if(T.job={},s.forEach((function(t,i){var s=e[i];if(E.cssVars.test(s))try{var a=g(s,{preserveStatic:n.preserveStatic,removeComments:!0});y(a,{parseHost:Boolean(n.rootElement.host),store:T.dom,onWarning:o}),t.__cssVars={tree:a}}catch(e){r(e.message,t)}})),a(T.job,T.dom),n.updateDOM?(a(T.user,n.variables),a(T.job,T.user)):(a(T.job,T.user,n.variables),a(u,n.variables)),C.job>0&&Boolean(Object.keys(T.job).length>Object.keys(u).length||Boolean(Object.keys(u).length&&Object.keys(T.job).some((function(t){return T.job[t]!==u[t]})))))H(n.rootElement),P(n);else{var l=[],p=[],f=!1;if(n.updateDOM&&C.job++,s.forEach((function(t,i){var s=!t.__cssVars;if(t.__cssVars)try{x(t.__cssVars.tree,a({},n,{variables:T.job,onWarning:o}));var c=b(t.__cssVars.tree);if(n.updateDOM){var u=e[i],d=E.cssVarFunc.test(u);if(t.getAttribute("data-cssvars")||t.setAttribute("data-cssvars","src"),c.length&&d){var h=t.getAttribute("data-cssvars-group")||++C.group,m=c.replace(/\s/g,""),v=n.rootElement.querySelector('[data-cssvars="out"][data-cssvars-group="'.concat(h,'"]'))||document.createElement("style");f=f||E.cssKeyframes.test(c),n.preserveStatic&&(t.sheet.disabled=!0),v.hasAttribute("data-cssvars")||v.setAttribute("data-cssvars","out"),m===t.textContent.replace(/\s/g,"")?(s=!0,v&&v.parentNode&&(t.removeAttribute("data-cssvars-group"),v.parentNode.removeChild(v))):m!==v.textContent.replace(/\s/g,"")&&([t,v].forEach((function(t){t.setAttribute("data-cssvars-job",C.job),t.setAttribute("data-cssvars-group",h)})),v.textContent=c,l.push(c),p.push(v),v.parentNode||t.parentNode.insertBefore(v,t.nextSibling))}}else t.textContent.replace(/\s/g,"")!==c&&l.push(c)}catch(e){r(e.message,t)}s&&t.setAttribute("data-cssvars","skip"),t.hasAttribute("data-cssvars-job")||t.setAttribute("data-cssvars-job",C.job)})),$=n.rootElement.querySelectorAll('[data-cssvars]:not([data-cssvars="out"])').length,n.shadowDOM)for(var d,h=[n.rootElement].concat(c(n.rootElement.querySelectorAll("*"))),m=0;d=h[m];++m)if(d.shadowRoot&&d.shadowRoot.querySelector("style")){var v=a({},n,{rootElement:d.shadowRoot});P(v)}n.updateDOM&&f&&R(n.rootElement),A=!1,n.onComplete(l.join(""),p,JSON.parse(JSON.stringify(T.job)),V()-n.__benchmark),i(p.length)}}}));else document.addEventListener("DOMContentLoaded",(function e(n){P(t),document.removeEventListener("DOMContentLoaded",e)}))}}function L(t){function e(t){var e=t.hasAttribute("disabled"),n=(t.sheet||{}).disabled;return e||n}function n(t){return"LINK"===t.tagName&&-1!==(t.getAttribute("rel")||"").indexOf("stylesheet")&&!e(t)}function r(t){return Array.apply(null,t).some((function(t){var r=1===t.nodeType&&t.hasAttribute("data-cssvars"),o=function(t){return"STYLE"===t.tagName&&!e(t)}(t)&&E.cssVars.test(t.textContent);return!r&&(n(t)||o)}))}window.MutationObserver&&(j&&(j.disconnect(),j=null),(j=new MutationObserver((function(e){e.some((function(e){var o,i=!1;return"attributes"===e.type?i=n(e.target):"childList"===e.type&&(i=r(e.addedNodes)||(o=e.removedNodes,Array.apply(null,o).some((function(e){var n=1===e.nodeType,r=n&&"out"===e.getAttribute("data-cssvars"),o=n&&"src"===e.getAttribute("data-cssvars"),i=o;if(o||r){var s=e.getAttribute("data-cssvars-group"),a=t.rootElement.querySelector('[data-cssvars-group="'.concat(s,'"]'));o&&(H(t.rootElement),T.dom={}),a&&a.parentNode.removeChild(a)}return i})))),i}))&&P(t)}))).observe(document.documentElement,{attributes:!0,attributeFilter:["disabled","href"],childList:!0,subtree:!0}))}function I(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;clearTimeout(N),N=setTimeout((function(){t.__benchmark=null,P(t)}),e)}function R(t){var e=["animation-name","-moz-animation-name","-webkit-animation-name"].filter((function(t){return getComputedStyle(document.body)[t]}))[0];if(e){for(var n=t.getElementsByTagName("*"),r=[],o=0,i=n.length;o<i;o++){var s=n[o];"none"!==getComputedStyle(s)[e]&&(s.style[e]+="__CSSVARSPONYFILL-KEYFRAMES__",r.push(s))}document.body.offsetHeight;for(var a=0,c=r.length;a<c;a++){var u=r[a].style;u[e]=u[e].replace("__CSSVARSPONYFILL-KEYFRAMES__","")}}}function z(t,e){return(t.replace(E.cssComments,"").match(E.cssUrls)||[]).forEach((function(n){var r=n.replace(E.cssUrls,"$1"),o=F(r,e);t=t.replace(n,n.replace(r,o))})),t}function B(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=/^-{2}/;return Object.keys(t).reduce((function(n,r){return n[e.test(r)?r:"--".concat(r.replace(/^-+/,""))]=t[r],n}),{})}function F(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:location.href,n=document.implementation.createHTMLDocument(""),r=n.createElement("base"),o=n.createElement("a");return n.head.appendChild(r),n.body.appendChild(o),r.href=e,o.href=t,o.href}function V(){return k&&(window.performance||{}).now?window.performance.now():(new Date).getTime()}function H(t){Array.apply(null,t.querySelectorAll('[data-cssvars="skip"],[data-cssvars="src"]')).forEach((function(t){return t.setAttribute("data-cssvars","")}))}P.reset=function(){for(var t in C.job=0,C.group=0,A=!1,j&&(j.disconnect(),j=null),$=0,N=null,D=!1,T)T[t]={}};var U=P;function q(t,e,n,r,o,i,s){try{var a=t[i](s),c=a.value}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(r,o)}function W(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function J(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?W(Object(n),!0).forEach((function(e){K(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function K(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var G={name:"Widget",data:function(){return{toggler:{open:"widget/toggler-open.svg",close:"widget/toggler-close.svg"}}},computed:J(J(J({},Object(s.b)("client",["client"])),Object(s.b)("widget",["widget"])),{},{message:{get:function(){return this.$store.state.message.message},set:function(t){this.$store.state.message.message=t}},session:{get:function(){return this.$store.state.session.session},set:function(t){this.$store.state.session.session=t}}}),methods:{setupCssVars:function(){U({variables:{ui_header_color:this.widget.ui_header_color,ui_client_bg:this.widget.ui_client_bg,ui_client_color:this.widget.ui_client_color,ui_robot_bg:this.widget.ui_robot_bg,ui_robot_color:this.widget.ui_robot_color,ui_color_primary:this.widget.ui_color_primary,ui_color_secondary:this.widget.ui_color_secondary}})},setupListeners:function(){var t=this,e=this,n=new Pusher(i.d,{cluster:i.c,encrypted:!0}),r=n.subscribe("session"),s=n.subscribe("message");r.bind("session.update",(function(n){var r=n.session;e.$store.commit("session/UPDATE_SESSION",r),t.$isEmpty(t.session)||r.session==t.session.session&&(t.session=r)})),s.bind("message.from.admin",(function(t){var n=t.message,r=t.session,o=t.token;e.client.token==o&&("session"in e.session&&e.session.session==r?(axios.put("/plugin/session/".concat(r,"/seen")),e.$store.commit("message/PUSH_MESSAGE",J(J({},n),{},{attachments:[]}))):e.$store.commit("session/PUSH_MESSAGE",{session:r,message:n}))})),s.bind("attachment.created",function(){var t,n=(t=o.a.mark((function t(n){var r,i;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=n.attachment,n.client,i=n.message,n.session,e.$store.commit("message/INSERT_ATTACHMENT",J(J({},i),{},{attachment:r}));case 2:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function s(t){q(i,r,o,s,a,"next",t)}function a(t){q(i,r,o,s,a,"throw",t)}s(void 0)}))});return function(t){return n.apply(this,arguments)}}())}},mounted:function(){this.setupCssVars(),this.setupListeners()}},Y=n(1),X=Object(Y.a)(G,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"xerodesk"}},[n("div",{staticClass:"wrapper"},[["front"].includes(t.widget.operation)?n("ChatFront"):t._e(),t._v(" "),["list"].includes(t.widget.operation)?n("ChatWelcome"):t._e(),t._v(" "),["create","show"].includes(t.widget.operation)?[n("ChatHeader"),t._v(" "),n("ChatBody"),t._v(" "),n("ChatFooter")]:t._e()],2)])}),[],!1,null,null,null);e.default=X.exports},function(t,e,n){"use strict";t.exports=function(t,e){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return t.apply(e,n)}}},function(t,e,n){"use strict";var r=n(3);function o(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,n){if(!e)return t;var i;if(n)i=n(e);else if(r.isURLSearchParams(e))i=e.toString();else{var s=[];r.forEach(e,(function(t,e){null!=t&&(r.isArray(t)?e+="[]":t=[t],r.forEach(t,(function(t){r.isDate(t)?t=t.toISOString():r.isObject(t)&&(t=JSON.stringify(t)),s.push(o(e)+"="+o(t))})))})),i=s.join("&")}if(i){var a=t.indexOf("#");-1!==a&&(t=t.slice(0,a)),t+=(-1===t.indexOf("?")?"?":"&")+i}return t}},function(t,e,n){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},function(t,e,n){"use strict";(function(e){var r=n(3),o=n(75),i={"Content-Type":"application/x-www-form-urlencoded"};function s(t,e){!r.isUndefined(t)&&r.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var a,c={adapter:(("undefined"!=typeof XMLHttpRequest||void 0!==e&&"[object process]"===Object.prototype.toString.call(e))&&(a=n(20)),a),transformRequest:[function(t,e){return o(e,"Accept"),o(e,"Content-Type"),r.isFormData(t)||r.isArrayBuffer(t)||r.isBuffer(t)||r.isStream(t)||r.isFile(t)||r.isBlob(t)?t:r.isArrayBufferView(t)?t.buffer:r.isURLSearchParams(t)?(s(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):r.isObject(t)?(s(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300}};c.headers={common:{Accept:"application/json, text/plain, */*"}},r.forEach(["delete","get","head"],(function(t){c.headers[t]={}})),r.forEach(["post","put","patch"],(function(t){c.headers[t]=r.merge(i)})),t.exports=c}).call(this,n(12))},function(t,e,n){"use strict";var r=n(3),o=n(76),i=n(17),s=n(78),a=n(81),c=n(82),u=n(21);t.exports=function(t){return new Promise((function(e,l){var p=t.data,f=t.headers;r.isFormData(p)&&delete f["Content-Type"];var d=new XMLHttpRequest;if(t.auth){var h=t.auth.username||"",m=t.auth.password||"";f.Authorization="Basic "+btoa(h+":"+m)}var v=s(t.baseURL,t.url);if(d.open(t.method.toUpperCase(),i(v,t.params,t.paramsSerializer),!0),d.timeout=t.timeout,d.onreadystatechange=function(){if(d&&4===d.readyState&&(0!==d.status||d.responseURL&&0===d.responseURL.indexOf("file:"))){var n="getAllResponseHeaders"in d?a(d.getAllResponseHeaders()):null,r={data:t.responseType&&"text"!==t.responseType?d.response:d.responseText,status:d.status,statusText:d.statusText,headers:n,config:t,request:d};o(e,l,r),d=null}},d.onabort=function(){d&&(l(u("Request aborted",t,"ECONNABORTED",d)),d=null)},d.onerror=function(){l(u("Network Error",t,null,d)),d=null},d.ontimeout=function(){var e="timeout of "+t.timeout+"ms exceeded";t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),l(u(e,t,"ECONNABORTED",d)),d=null},r.isStandardBrowserEnv()){var g=n(83),y=(t.withCredentials||c(v))&&t.xsrfCookieName?g.read(t.xsrfCookieName):void 0;y&&(f[t.xsrfHeaderName]=y)}if("setRequestHeader"in d&&r.forEach(f,(function(t,e){void 0===p&&"content-type"===e.toLowerCase()?delete f[e]:d.setRequestHeader(e,t)})),r.isUndefined(t.withCredentials)||(d.withCredentials=!!t.withCredentials),t.responseType)try{d.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&d.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&d.upload&&d.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then((function(t){d&&(d.abort(),l(t),d=null)})),void 0===p&&(p=null),d.send(p)}))}},function(t,e,n){"use strict";var r=n(77);t.exports=function(t,e,n,o,i){var s=new Error(t);return r(s,e,n,o,i)}},function(t,e,n){"use strict";var r=n(3);t.exports=function(t,e){e=e||{};var n={},o=["url","method","params","data"],i=["headers","auth","proxy"],s=["baseURL","url","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"];r.forEach(o,(function(t){void 0!==e[t]&&(n[t]=e[t])})),r.forEach(i,(function(o){r.isObject(e[o])?n[o]=r.deepMerge(t[o],e[o]):void 0!==e[o]?n[o]=e[o]:r.isObject(t[o])?n[o]=r.deepMerge(t[o]):void 0!==t[o]&&(n[o]=t[o])})),r.forEach(s,(function(r){void 0!==e[r]?n[r]=e[r]:void 0!==t[r]&&(n[r]=t[r])}));var a=o.concat(i).concat(s),c=Object.keys(e).filter((function(t){return-1===a.indexOf(t)}));return r.forEach(c,(function(r){void 0!==e[r]?n[r]=e[r]:void 0!==t[r]&&(n[r]=t[r])})),n}},function(t,e,n){"use strict";function r(t){this.message=t}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,t.exports=r},function(t,e){var n=Object.prototype;t.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||n)}},function(t,e,n){var r=n(9),o=n(28);t.exports=function(t){if(!o(t))return!1;var e=r(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},function(t,e,n){var r=n(5).Symbol;t.exports=r},function(t,e,n){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(this,n(7))},function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},function(t,e){var n=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return n.call(t)}catch(t){}try{return t+""}catch(t){}}return""}},function(t,e){t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},,,,,function(t,e){t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=function(t,e){var n=t[1]||"",r=t[3];if(!r)return n;if(e&&"function"==typeof btoa){var o=(s=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(s))))+" */"),i=r.sources.map((function(t){return"/*# sourceURL="+r.sourceRoot+t+" */"}));return[n].concat(i).concat([o]).join("\n")}var s;return[n].join("\n")}(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n})).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},o=0;o<this.length;o++){var i=this[o][0];"number"==typeof i&&(r[i]=!0)}for(o=0;o<t.length;o++){var s=t[o];"number"==typeof s[0]&&r[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="("+s[2]+") and ("+n+")"),e.push(s))}},e}},function(t,e,n){var r,o,i={},s=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===o&&(o=r.apply(this,arguments)),o}),a=function(t,e){return e?e.querySelector(t):document.querySelector(t)},c=function(t){var e={};return function(t,n){if("function"==typeof t)return t();if(void 0===e[t]){var r=a.call(this,t,n);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(t){r=null}e[t]=r}return e[t]}}(),u=null,l=0,p=[],f=n(38);function d(t,e){for(var n=0;n<t.length;n++){var r=t[n],o=i[r.id];if(o){o.refs++;for(var s=0;s<o.parts.length;s++)o.parts[s](r.parts[s]);for(;s<r.parts.length;s++)o.parts.push(b(r.parts[s],e))}else{var a=[];for(s=0;s<r.parts.length;s++)a.push(b(r.parts[s],e));i[r.id]={id:r.id,refs:1,parts:a}}}}function h(t,e){for(var n=[],r={},o=0;o<t.length;o++){var i=t[o],s=e.base?i[0]+e.base:i[0],a={css:i[1],media:i[2],sourceMap:i[3]};r[s]?r[s].parts.push(a):n.push(r[s]={id:s,parts:[a]})}return n}function m(t,e){var n=c(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=p[p.length-1];if("top"===t.insertAt)r?r.nextSibling?n.insertBefore(e,r.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),p.push(e);else if("bottom"===t.insertAt)n.appendChild(e);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=c(t.insertAt.before,n);n.insertBefore(e,o)}}function v(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=p.indexOf(t);e>=0&&p.splice(e,1)}function g(t){var e=document.createElement("style");if(void 0===t.attrs.type&&(t.attrs.type="text/css"),void 0===t.attrs.nonce){var r=function(){0;return n.nc}();r&&(t.attrs.nonce=r)}return y(e,t.attrs),m(t,e),e}function y(t,e){Object.keys(e).forEach((function(n){t.setAttribute(n,e[n])}))}function b(t,e){var n,r,o,i;if(e.transform&&t.css){if(!(i="function"==typeof e.transform?e.transform(t.css):e.transform.default(t.css)))return function(){};t.css=i}if(e.singleton){var s=l++;n=u||(u=g(e)),r=_.bind(null,n,s,!1),o=_.bind(null,n,s,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(t){var e=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",y(e,t.attrs),m(t,e),e}(e),r=k.bind(null,n,e),o=function(){v(n),n.href&&URL.revokeObjectURL(n.href)}):(n=g(e),r=O.bind(null,n),o=function(){v(n)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else o()}}t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=s()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var n=h(t,e);return d(n,e),function(t){for(var r=[],o=0;o<n.length;o++){var s=n[o];(a=i[s.id]).refs--,r.push(a)}t&&d(h(t,e),e);for(o=0;o<r.length;o++){var a;if(0===(a=r[o]).refs){for(var c=0;c<a.parts.length;c++)a.parts[c]();delete i[a.id]}}}};var w,x=(w=[],function(t,e){return w[t]=e,w.filter(Boolean).join("\n")});function _(t,e,n,r){var o=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=x(e,o);else{var i=document.createTextNode(o),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(i,s[e]):t.appendChild(i)}}function O(t,e){var n=e.css,r=e.media;if(r&&t.setAttribute("media",r),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}function k(t,e,n){var r=n.css,o=n.sourceMap,i=void 0===e.convertToAbsoluteUrls&&o;(e.convertToAbsoluteUrls||i)&&(r=f(r)),o&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var s=new Blob([r],{type:"text/css"}),a=t.href;t.href=URL.createObjectURL(s),a&&URL.revokeObjectURL(a)}},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,r=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(t,e){var o,i=e.trim().replace(/^"(.*)"$/,(function(t,e){return e})).replace(/^'(.*)'$/,(function(t,e){return e}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(i)?t:(o=0===i.indexOf("//")?i:0===i.indexOf("/")?n+i:r+i.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")}))}},function(t,e,n){t.exports=n(115)},function(t,e,n){"use strict";t.exports=n(41).polyfill()},function(t,e,n){(function(e,n){var r;r=function(){"use strict";function t(t){return"function"==typeof t}var r=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)},o=0,i=void 0,s=void 0,a=function(t,e){h[o]=t,h[o+1]=e,2===(o+=2)&&(s?s(m):w())},c="undefined"!=typeof window?window:void 0,u=c||{},l=u.MutationObserver||u.WebKitMutationObserver,p="undefined"==typeof self&&void 0!==e&&"[object process]"==={}.toString.call(e),f="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel;function d(){var t=setTimeout;return function(){return t(m,1)}}var h=new Array(1e3);function m(){for(var t=0;t<o;t+=2)(0,h[t])(h[t+1]),h[t]=void 0,h[t+1]=void 0;o=0}var v,g,y,b,w=void 0;function x(t,e){var n=this,r=new this.constructor(k);void 0===r[O]&&D(r);var o=n._state;if(o){var i=arguments[o-1];a((function(){return $(o,r,i,n._result)}))}else A(n,r,t,e);return r}function _(t){if(t&&"object"==typeof t&&t.constructor===this)return t;var e=new this(k);return C(e,t),e}p?w=function(){return e.nextTick(m)}:l?(g=0,y=new l(m),b=document.createTextNode(""),y.observe(b,{characterData:!0}),w=function(){b.data=g=++g%2}):f?((v=new MessageChannel).port1.onmessage=m,w=function(){return v.port2.postMessage(0)}):w=void 0===c?function(){try{var t=Function("return this")().require("vertx");return void 0!==(i=t.runOnLoop||t.runOnContext)?function(){i(m)}:d()}catch(t){return d()}}():d();var O=Math.random().toString(36).substring(2);function k(){}function S(e,n,r){n.constructor===e.constructor&&r===x&&n.constructor.resolve===_?function(t,e){1===e._state?E(t,e._result):2===e._state?T(t,e._result):A(e,void 0,(function(e){return C(t,e)}),(function(e){return T(t,e)}))}(e,n):void 0===r?E(e,n):t(r)?function(t,e,n){a((function(t){var r=!1,o=function(t,e,n,r){try{t.call(e,n,r)}catch(t){return t}}(n,e,(function(n){r||(r=!0,e!==n?C(t,n):E(t,n))}),(function(e){r||(r=!0,T(t,e))}),t._label);!r&&o&&(r=!0,T(t,o))}),t)}(e,n,r):E(e,n)}function C(t,e){if(t===e)T(t,new TypeError("You cannot resolve a promise with itself"));else if(o=typeof(r=e),null===r||"object"!==o&&"function"!==o)E(t,e);else{var n=void 0;try{n=e.then}catch(e){return void T(t,e)}S(t,e,n)}var r,o}function M(t){t._onerror&&t._onerror(t._result),j(t)}function E(t,e){void 0===t._state&&(t._result=e,t._state=1,0!==t._subscribers.length&&a(j,t))}function T(t,e){void 0===t._state&&(t._state=2,t._result=e,a(M,t))}function A(t,e,n,r){var o=t._subscribers,i=o.length;t._onerror=null,o[i]=e,o[i+1]=n,o[i+2]=r,0===i&&t._state&&a(j,t)}function j(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var r=void 0,o=void 0,i=t._result,s=0;s<e.length;s+=3)r=e[s],o=e[s+n],r?$(n,r,o,i):o(i);t._subscribers.length=0}}function $(e,n,r,o){var i=t(r),s=void 0,a=void 0,c=!0;if(i){try{s=r(o)}catch(t){c=!1,a=t}if(n===s)return void T(n,new TypeError("A promises callback cannot return that same promise."))}else s=o;void 0!==n._state||(i&&c?C(n,s):!1===c?T(n,a):1===e?E(n,s):2===e&&T(n,s))}var N=0;function D(t){t[O]=N++,t._state=void 0,t._result=void 0,t._subscribers=[]}var P=function(){function t(t,e){this._instanceConstructor=t,this.promise=new t(k),this.promise[O]||D(this.promise),r(e)?(this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?E(this.promise,this._result):(this.length=this.length||0,this._enumerate(e),0===this._remaining&&E(this.promise,this._result))):T(this.promise,new Error("Array Methods must be provided an Array"))}return t.prototype._enumerate=function(t){for(var e=0;void 0===this._state&&e<t.length;e++)this._eachEntry(t[e],e)},t.prototype._eachEntry=function(t,e){var n=this._instanceConstructor,r=n.resolve;if(r===_){var o=void 0,i=void 0,s=!1;try{o=t.then}catch(t){s=!0,i=t}if(o===x&&void 0!==t._state)this._settledAt(t._state,e,t._result);else if("function"!=typeof o)this._remaining--,this._result[e]=t;else if(n===L){var a=new n(k);s?T(a,i):S(a,t,o),this._willSettleAt(a,e)}else this._willSettleAt(new n((function(e){return e(t)})),e)}else this._willSettleAt(r(t),e)},t.prototype._settledAt=function(t,e,n){var r=this.promise;void 0===r._state&&(this._remaining--,2===t?T(r,n):this._result[e]=n),0===this._remaining&&E(r,this._result)},t.prototype._willSettleAt=function(t,e){var n=this;A(t,void 0,(function(t){return n._settledAt(1,e,t)}),(function(t){return n._settledAt(2,e,t)}))},t}(),L=function(){function e(t){this[O]=N++,this._result=this._state=void 0,this._subscribers=[],k!==t&&("function"!=typeof t&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof e?function(t,e){try{e((function(e){C(t,e)}),(function(e){T(t,e)}))}catch(e){T(t,e)}}(this,t):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return e.prototype.catch=function(t){return this.then(null,t)},e.prototype.finally=function(e){var n=this.constructor;return t(e)?this.then((function(t){return n.resolve(e()).then((function(){return t}))}),(function(t){return n.resolve(e()).then((function(){throw t}))})):this.then(e,e)},e}();return L.prototype.then=x,L.all=function(t){return new P(this,t).promise},L.race=function(t){var e=this;return r(t)?new e((function(n,r){for(var o=t.length,i=0;i<o;i++)e.resolve(t[i]).then(n,r)})):new e((function(t,e){return e(new TypeError("You must pass an array to race."))}))},L.resolve=_,L.reject=function(t){var e=new this(k);return T(e,t),e},L._setScheduler=function(t){s=t},L._setAsap=function(t){a=t},L._asap=a,L.polyfill=function(){var t=void 0;if(void 0!==n)t=n;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;if(e){var r=null;try{r=Object.prototype.toString.call(e.resolve())}catch(t){}if("[object Promise]"===r&&!e.cast)return}t.Promise=L},L.Promise=L,L},t.exports=r()}).call(this,n(12),n(7))},function(t,e,n){var r=function(t){"use strict";var e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function a(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{a({},"")}catch(t){a=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var o=e&&e.prototype instanceof p?e:p,i=Object.create(o.prototype),s=new O(r||[]);return i._invoke=function(t,e,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return S()}for(n.method=o,n.arg=i;;){var s=n.delegate;if(s){var a=w(s,n);if(a){if(a===l)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=u(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===l)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}(t,n,s),i}function u(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=c;var l={};function p(){}function f(){}function d(){}var h={};h[o]=function(){return this};var m=Object.getPrototypeOf,v=m&&m(m(k([])));v&&v!==e&&n.call(v,o)&&(h=v);var g=d.prototype=p.prototype=Object.create(h);function y(t){["next","throw","return"].forEach((function(e){a(t,e,(function(t){return this._invoke(e,t)}))}))}function b(t,e){var r;this._invoke=function(o,i){function s(){return new e((function(r,s){!function r(o,i,s,a){var c=u(t[o],t,i);if("throw"!==c.type){var l=c.arg,p=l.value;return p&&"object"==typeof p&&n.call(p,"__await")?e.resolve(p.__await).then((function(t){r("next",t,s,a)}),(function(t){r("throw",t,s,a)})):e.resolve(p).then((function(t){l.value=t,s(l)}),(function(t){return r("throw",t,s,a)}))}a(c.arg)}(o,i,r,s)}))}return r=r?r.then(s,s):s()}}function w(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=u(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,l;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function _(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function k(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:S}}function S(){return{value:void 0,done:!0}}return f.prototype=g.constructor=d,d.constructor=f,f.displayName=a(d,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,a(t,s,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},y(b.prototype),b.prototype[i]=function(){return this},t.AsyncIterator=b,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var s=new b(c(e,n,r,o),i);return t.isGeneratorFunction(n)?s:s.next().then((function(t){return t.done?t.value:s.next()}))},y(g),a(g,s,"Generator"),g[o]=function(){return this},g.toString=function(){return"[object Generator]"},t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=k,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return s.type="throw",s.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],s=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var a=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(a&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=t,s.arg=e,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(s)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),_(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;_(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:k(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},t}(t.exports);try{regeneratorRuntime=r}catch(t){Function("r","regeneratorRuntime = r")(r)}},function(t,e,n){var r=n(44);r.keys().map((function(t){var e=r(t).default.name;Vue.component(e,r(t).default)}))},function(t,e,n){var r={"./components/EmojiPicker.vue":117,"./components/FormAlert.vue":118,"./components/InlineSvg.vue":119,"./components/Modal.vue":120,"./components/Popup.vue":121,"./components/Spinner.vue":122,"./components/Widget.vue":15,"./components/body/Greeting.vue":123,"./components/body/Index.vue":124,"./components/body/Messages.vue":125,"./components/body/ReplyingTo.vue":126,"./components/body/Suggestions.vue":127,"./components/footer/Attachment.vue":128,"./components/footer/Editor.vue":14,"./components/footer/Index.vue":116,"./components/footer/ReplyTo.vue":129,"./components/front/Index.vue":130,"./components/header/Index.vue":131,"./components/welcome/Index.vue":132};function o(t){var e=i(t);return n(e)}function i(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}o.keys=function(){return Object.keys(r)},o.resolve=i,t.exports=o,o.id=44},function(t,e,n){var r={"./heroicons/chevron-left.svg":46,"./heroicons/close.svg":47,"./heroicons/document-report.svg":48,"./heroicons/document-text.svg":49,"./heroicons/download.svg":50,"./heroicons/emoji-happy.svg":51,"./heroicons/exclamation-circle.svg":52,"./heroicons/exclamation.svg":53,"./heroicons/folder.svg":54,"./heroicons/lock-closed.svg":55,"./heroicons/paper-clip.svg":56,"./heroicons/photograph.svg":57,"./heroicons/reply.svg":58,"./heroicons/video-camera.svg":59,"./heroicons/x-circle.svg":60,"./mdi/close.svg":61,"./mdi/download.svg":62,"./mdi/send.svg":63,"./undraw/mail_sent.svg":64};function o(t){var e=i(t);return n(e)}function i(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}o.keys=function(){return Object.keys(r)},o.resolve=i,t.exports=o,o.id=45},function(t,e){t.exports='<svg fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\r\n    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>\r\n</svg>'},function(t,e){t.exports='<svg fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\r\n    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>\r\n</svg>'},function(t,e){t.exports='<svg fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\r\n    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"\r\n        d="M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z">\r\n    </path>\r\n</svg>'},function(t,e){t.exports='<svg fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\r\n    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"\r\n        d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z">\r\n    </path>\r\n</svg>'},function(t,e){t.exports='<svg fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\r\n    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"\r\n        d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"></path>\r\n</svg>'},function(t,e){t.exports='<svg fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\r\n    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"\r\n        d="M14.828 14.828a4 4 0 01-5.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>\r\n</svg>'},function(t,e){t.exports='<svg fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">\r\n    <path fill-rule="evenodd"\r\n        d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z"\r\n        clip-rule="evenodd"></path>\r\n</svg>'},function(t,e){t.exports='<svg fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\r\n    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"\r\n        d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z">\r\n    </path>\r\n</svg>'},function(t,e){t.exports='<svg fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\r\n    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"\r\n        d="M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"></path>\r\n</svg>'},function(t,e){t.exports='<svg fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">\r\n    <path fill-rule="evenodd"\r\n        d="M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z"\r\n        clip-rule="evenodd"></path>\r\n</svg>'},function(t,e){t.exports='<svg fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\r\n    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"\r\n        d="M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13">\r\n    </path>\r\n</svg>'},function(t,e){t.exports='<svg fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\r\n    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"\r\n        d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z">\r\n    </path>\r\n</svg>'},function(t,e){t.exports='<svg fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\r\n    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6">\r\n    </path>\r\n</svg>'},function(t,e){t.exports='<svg fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\r\n    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"\r\n        d="M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z">\r\n    </path>\r\n</svg>'},function(t,e){t.exports='<svg fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\r\n    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"\r\n        d="M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"></path>\r\n</svg>'},function(t,e){t.exports='<svg viewBox="0 0 24 24">\r\n    <path fill="currentColor"\r\n        d="M19,6.41L17.59,5L12,10.59L6.41,5L5,6.41L10.59,12L5,17.59L6.41,19L12,13.41L17.59,19L19,17.59L13.41,12L19,6.41Z" />\r\n</svg>'},function(t,e){t.exports='<svg viewBox="0 0 24 24">\r\n    <path fill="currentColor" d="M5,20H19V18H5M19,9H15V3H9V9H5L12,16L19,9Z" />\r\n</svg>'},function(t,e){t.exports='<svg viewBox="0 0 24 24">\r\n    <path fill="currentColor" d="M2,21L23,12L2,3V10L17,12L2,14V21Z" />\r\n</svg>'},function(t,e){t.exports='<svg data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" width="570" height="511.67482" viewBox="0 0 570 511.67482"><path d="M879.99927,389.83741a.99678.99678,0,0,1-.5708-.1792L602.86963,197.05469a5.01548,5.01548,0,0,0-5.72852.00977L322.57434,389.65626a1.00019,1.00019,0,0,1-1.14868-1.6377l274.567-192.5918a7.02216,7.02216,0,0,1,8.02-.01318l276.55883,192.603a1.00019,1.00019,0,0,1-.57226,1.8208Z" transform="translate(-315 -194.16259)" fill="#3f3d56"/><polygon points="23.264 202.502 285.276 8.319 549.276 216.319 298.776 364.819 162.776 333.819 23.264 202.502" fill="#e6e6e6"/><path d="M489.25553,650.70367H359.81522a6.04737,6.04737,0,1,1,0-12.09473H489.25553a6.04737,6.04737,0,1,1,0,12.09473Z" transform="translate(-315 -194.16259)" fill="#f68a1f"/><path d="M406.25553,624.70367H359.81522a6.04737,6.04737,0,1,1,0-12.09473h46.44031a6.04737,6.04737,0,1,1,0,12.09473Z" transform="translate(-315 -194.16259)" fill="#f68a1f"/><path d="M603.96016,504.82207a7.56366,7.56366,0,0,1-2.86914-.562L439.5002,437.21123v-209.874a7.00817,7.00817,0,0,1,7-7h310a7.00818,7.00818,0,0,1,7,7v210.0205l-.30371.12989L606.91622,504.22734A7.61624,7.61624,0,0,1,603.96016,504.82207Z" transform="translate(-315 -194.16259)" fill="#fff"/><path d="M603.96016,505.32158a8.07177,8.07177,0,0,1-3.05957-.59863L439.0002,437.54521v-210.208a7.50851,7.50851,0,0,1,7.5-7.5h310a7.50851,7.50851,0,0,1,7.5,7.5V437.68779l-156.8877,66.999A8.10957,8.10957,0,0,1,603.96016,505.32158Zm-162.96-69.1123,160.66309,66.66455a6.1182,6.1182,0,0,0,4.668-.02784l155.669-66.47851V227.33721a5.50653,5.50653,0,0,0-5.5-5.5h-310a5.50653,5.50653,0,0,0-5.5,5.5Z" transform="translate(-315 -194.16259)" fill="#3f3d56"/><path d="M878,387.83741h-.2002L763,436.85743l-157.06982,67.07a5.06614,5.06614,0,0,1-3.88038.02L440,436.71741l-117.62012-48.8-.17968-.08H322a7.00778,7.00778,0,0,0-7,7v304a7.00779,7.00779,0,0,0,7,7H878a7.00779,7.00779,0,0,0,7-7v-304A7.00778,7.00778,0,0,0,878,387.83741Zm5,311a5.002,5.002,0,0,1-5,5H322a5.002,5.002,0,0,1-5-5v-304a5.01106,5.01106,0,0,1,4.81006-5L440,438.87739l161.28027,66.92a7.12081,7.12081,0,0,0,5.43994-.03L763,439.02741l115.2002-49.19a5.01621,5.01621,0,0,1,4.7998,5Z" transform="translate(-315 -194.16259)" fill="#3f3d56"/><path d="M602.345,445.30958a27.49862,27.49862,0,0,1-16.5459-5.4961l-.2959-.22217-62.311-47.70752a27.68337,27.68337,0,1,1,33.67407-43.94921l40.36035,30.94775,95.37793-124.38672a27.68235,27.68235,0,0,1,38.81323-5.12353l-.593.80517.6084-.79346a27.71447,27.71447,0,0,1,5.12353,38.81348L624.36938,434.50586A27.69447,27.69447,0,0,1,602.345,445.30958Z" transform="translate(-315 -194.16259)" fill="#f68a1f"/></svg>'},function(t,e,n){"use strict";(function(e,n){var r=Object.freeze({});function o(t){return null==t}function i(t){return null!=t}function s(t){return!0===t}function a(t){return"string"==typeof t||"number"==typeof t||"symbol"==typeof t||"boolean"==typeof t}function c(t){return null!==t&&"object"==typeof t}var u=Object.prototype.toString;function l(t){return"[object Object]"===u.call(t)}function p(t){var e=parseFloat(String(t));return e>=0&&Math.floor(e)===e&&isFinite(t)}function f(t){return i(t)&&"function"==typeof t.then&&"function"==typeof t.catch}function d(t){return null==t?"":Array.isArray(t)||l(t)&&t.toString===u?JSON.stringify(t,null,2):String(t)}function h(t){var e=parseFloat(t);return isNaN(e)?t:e}function m(t,e){for(var n=Object.create(null),r=t.split(","),o=0;o<r.length;o++)n[r[o]]=!0;return e?function(t){return n[t.toLowerCase()]}:function(t){return n[t]}}var v=m("slot,component",!0),g=m("key,ref,slot,slot-scope,is");function y(t,e){if(t.length){var n=t.indexOf(e);if(n>-1)return t.splice(n,1)}}var b=Object.prototype.hasOwnProperty;function w(t,e){return b.call(t,e)}function x(t){var e=Object.create(null);return function(n){return e[n]||(e[n]=t(n))}}var _=/-(\w)/g,O=x((function(t){return t.replace(_,(function(t,e){return e?e.toUpperCase():""}))})),k=x((function(t){return t.charAt(0).toUpperCase()+t.slice(1)})),S=/\B([A-Z])/g,C=x((function(t){return t.replace(S,"-$1").toLowerCase()})),M=Function.prototype.bind?function(t,e){return t.bind(e)}:function(t,e){function n(n){var r=arguments.length;return r?r>1?t.apply(e,arguments):t.call(e,n):t.call(e)}return n._length=t.length,n};function E(t,e){e=e||0;for(var n=t.length-e,r=new Array(n);n--;)r[n]=t[n+e];return r}function T(t,e){for(var n in e)t[n]=e[n];return t}function A(t){for(var e={},n=0;n<t.length;n++)t[n]&&T(e,t[n]);return e}function j(t,e,n){}var $=function(t,e,n){return!1},N=function(t){return t};function D(t,e){if(t===e)return!0;var n=c(t),r=c(e);if(!n||!r)return!n&&!r&&String(t)===String(e);try{var o=Array.isArray(t),i=Array.isArray(e);if(o&&i)return t.length===e.length&&t.every((function(t,n){return D(t,e[n])}));if(t instanceof Date&&e instanceof Date)return t.getTime()===e.getTime();if(o||i)return!1;var s=Object.keys(t),a=Object.keys(e);return s.length===a.length&&s.every((function(n){return D(t[n],e[n])}))}catch(t){return!1}}function P(t,e){for(var n=0;n<t.length;n++)if(D(t[n],e))return n;return-1}function L(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}}var I="data-server-rendered",R=["component","directive","filter"],z=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch"],B={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:$,isReservedAttr:$,isUnknownElement:$,getTagNamespace:j,parsePlatformTagName:N,mustUseProp:$,async:!0,_lifecycleHooks:z},F=/a-zA-Z\u00B7\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u037D\u037F-\u1FFF\u200C-\u200D\u203F-\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD/;function V(t,e,n,r){Object.defineProperty(t,e,{value:n,enumerable:!!r,writable:!0,configurable:!0})}var H,U=new RegExp("[^"+F.source+".$_\\d]"),q="__proto__"in{},W="undefined"!=typeof window,J="undefined"!=typeof WXEnvironment&&!!WXEnvironment.platform,K=J&&WXEnvironment.platform.toLowerCase(),G=W&&window.navigator.userAgent.toLowerCase(),Y=G&&/msie|trident/.test(G),X=G&&G.indexOf("msie 9.0")>0,Z=G&&G.indexOf("edge/")>0,Q=(G&&G.indexOf("android"),G&&/iphone|ipad|ipod|ios/.test(G)||"ios"===K),tt=(G&&/chrome\/\d+/.test(G),G&&/phantomjs/.test(G),G&&G.match(/firefox\/(\d+)/)),et={}.watch,nt=!1;if(W)try{var rt={};Object.defineProperty(rt,"passive",{get:function(){nt=!0}}),window.addEventListener("test-passive",null,rt)}catch(r){}var ot=function(){return void 0===H&&(H=!W&&!J&&void 0!==e&&e.process&&"server"===e.process.env.VUE_ENV),H},it=W&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function st(t){return"function"==typeof t&&/native code/.test(t.toString())}var at,ct="undefined"!=typeof Symbol&&st(Symbol)&&"undefined"!=typeof Reflect&&st(Reflect.ownKeys);at="undefined"!=typeof Set&&st(Set)?Set:function(){function t(){this.set=Object.create(null)}return t.prototype.has=function(t){return!0===this.set[t]},t.prototype.add=function(t){this.set[t]=!0},t.prototype.clear=function(){this.set=Object.create(null)},t}();var ut=j,lt=0,pt=function(){this.id=lt++,this.subs=[]};pt.prototype.addSub=function(t){this.subs.push(t)},pt.prototype.removeSub=function(t){y(this.subs,t)},pt.prototype.depend=function(){pt.target&&pt.target.addDep(this)},pt.prototype.notify=function(){for(var t=this.subs.slice(),e=0,n=t.length;e<n;e++)t[e].update()},pt.target=null;var ft=[];function dt(t){ft.push(t),pt.target=t}function ht(){ft.pop(),pt.target=ft[ft.length-1]}var mt=function(t,e,n,r,o,i,s,a){this.tag=t,this.data=e,this.children=n,this.text=r,this.elm=o,this.ns=void 0,this.context=i,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=e&&e.key,this.componentOptions=s,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=a,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},vt={child:{configurable:!0}};vt.child.get=function(){return this.componentInstance},Object.defineProperties(mt.prototype,vt);var gt=function(t){void 0===t&&(t="");var e=new mt;return e.text=t,e.isComment=!0,e};function yt(t){return new mt(void 0,void 0,void 0,String(t))}function bt(t){var e=new mt(t.tag,t.data,t.children&&t.children.slice(),t.text,t.elm,t.context,t.componentOptions,t.asyncFactory);return e.ns=t.ns,e.isStatic=t.isStatic,e.key=t.key,e.isComment=t.isComment,e.fnContext=t.fnContext,e.fnOptions=t.fnOptions,e.fnScopeId=t.fnScopeId,e.asyncMeta=t.asyncMeta,e.isCloned=!0,e}var wt=Array.prototype,xt=Object.create(wt);["push","pop","shift","unshift","splice","sort","reverse"].forEach((function(t){var e=wt[t];V(xt,t,(function(){for(var n=[],r=arguments.length;r--;)n[r]=arguments[r];var o,i=e.apply(this,n),s=this.__ob__;switch(t){case"push":case"unshift":o=n;break;case"splice":o=n.slice(2)}return o&&s.observeArray(o),s.dep.notify(),i}))}));var _t=Object.getOwnPropertyNames(xt),Ot=!0;function kt(t){Ot=t}var St=function(t){var e;this.value=t,this.dep=new pt,this.vmCount=0,V(t,"__ob__",this),Array.isArray(t)?(q?(e=xt,t.__proto__=e):function(t,e,n){for(var r=0,o=n.length;r<o;r++){var i=n[r];V(t,i,e[i])}}(t,xt,_t),this.observeArray(t)):this.walk(t)};function Ct(t,e){var n;if(c(t)&&!(t instanceof mt))return w(t,"__ob__")&&t.__ob__ instanceof St?n=t.__ob__:Ot&&!ot()&&(Array.isArray(t)||l(t))&&Object.isExtensible(t)&&!t._isVue&&(n=new St(t)),e&&n&&n.vmCount++,n}function Mt(t,e,n,r,o){var i=new pt,s=Object.getOwnPropertyDescriptor(t,e);if(!s||!1!==s.configurable){var a=s&&s.get,c=s&&s.set;a&&!c||2!==arguments.length||(n=t[e]);var u=!o&&Ct(n);Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){var e=a?a.call(t):n;return pt.target&&(i.depend(),u&&(u.dep.depend(),Array.isArray(e)&&function t(e){for(var n=void 0,r=0,o=e.length;r<o;r++)(n=e[r])&&n.__ob__&&n.__ob__.dep.depend(),Array.isArray(n)&&t(n)}(e))),e},set:function(e){var r=a?a.call(t):n;e===r||e!=e&&r!=r||a&&!c||(c?c.call(t,e):n=e,u=!o&&Ct(e),i.notify())}})}}function Et(t,e,n){if(Array.isArray(t)&&p(e))return t.length=Math.max(t.length,e),t.splice(e,1,n),n;if(e in t&&!(e in Object.prototype))return t[e]=n,n;var r=t.__ob__;return t._isVue||r&&r.vmCount?n:r?(Mt(r.value,e,n),r.dep.notify(),n):(t[e]=n,n)}function Tt(t,e){if(Array.isArray(t)&&p(e))t.splice(e,1);else{var n=t.__ob__;t._isVue||n&&n.vmCount||w(t,e)&&(delete t[e],n&&n.dep.notify())}}St.prototype.walk=function(t){for(var e=Object.keys(t),n=0;n<e.length;n++)Mt(t,e[n])},St.prototype.observeArray=function(t){for(var e=0,n=t.length;e<n;e++)Ct(t[e])};var At=B.optionMergeStrategies;function jt(t,e){if(!e)return t;for(var n,r,o,i=ct?Reflect.ownKeys(e):Object.keys(e),s=0;s<i.length;s++)"__ob__"!==(n=i[s])&&(r=t[n],o=e[n],w(t,n)?r!==o&&l(r)&&l(o)&&jt(r,o):Et(t,n,o));return t}function $t(t,e,n){return n?function(){var r="function"==typeof e?e.call(n,n):e,o="function"==typeof t?t.call(n,n):t;return r?jt(r,o):o}:e?t?function(){return jt("function"==typeof e?e.call(this,this):e,"function"==typeof t?t.call(this,this):t)}:e:t}function Nt(t,e){var n=e?t?t.concat(e):Array.isArray(e)?e:[e]:t;return n?function(t){for(var e=[],n=0;n<t.length;n++)-1===e.indexOf(t[n])&&e.push(t[n]);return e}(n):n}function Dt(t,e,n,r){var o=Object.create(t||null);return e?T(o,e):o}At.data=function(t,e,n){return n?$t(t,e,n):e&&"function"!=typeof e?t:$t(t,e)},z.forEach((function(t){At[t]=Nt})),R.forEach((function(t){At[t+"s"]=Dt})),At.watch=function(t,e,n,r){if(t===et&&(t=void 0),e===et&&(e=void 0),!e)return Object.create(t||null);if(!t)return e;var o={};for(var i in T(o,t),e){var s=o[i],a=e[i];s&&!Array.isArray(s)&&(s=[s]),o[i]=s?s.concat(a):Array.isArray(a)?a:[a]}return o},At.props=At.methods=At.inject=At.computed=function(t,e,n,r){if(!t)return e;var o=Object.create(null);return T(o,t),e&&T(o,e),o},At.provide=$t;var Pt=function(t,e){return void 0===e?t:e};function Lt(t,e,n){if("function"==typeof e&&(e=e.options),function(t,e){var n=t.props;if(n){var r,o,i={};if(Array.isArray(n))for(r=n.length;r--;)"string"==typeof(o=n[r])&&(i[O(o)]={type:null});else if(l(n))for(var s in n)o=n[s],i[O(s)]=l(o)?o:{type:o};t.props=i}}(e),function(t,e){var n=t.inject;if(n){var r=t.inject={};if(Array.isArray(n))for(var o=0;o<n.length;o++)r[n[o]]={from:n[o]};else if(l(n))for(var i in n){var s=n[i];r[i]=l(s)?T({from:i},s):{from:s}}}}(e),function(t){var e=t.directives;if(e)for(var n in e){var r=e[n];"function"==typeof r&&(e[n]={bind:r,update:r})}}(e),!e._base&&(e.extends&&(t=Lt(t,e.extends,n)),e.mixins))for(var r=0,o=e.mixins.length;r<o;r++)t=Lt(t,e.mixins[r],n);var i,s={};for(i in t)a(i);for(i in e)w(t,i)||a(i);function a(r){var o=At[r]||Pt;s[r]=o(t[r],e[r],n,r)}return s}function It(t,e,n,r){if("string"==typeof n){var o=t[e];if(w(o,n))return o[n];var i=O(n);if(w(o,i))return o[i];var s=k(i);return w(o,s)?o[s]:o[n]||o[i]||o[s]}}function Rt(t,e,n,r){var o=e[t],i=!w(n,t),s=n[t],a=Vt(Boolean,o.type);if(a>-1)if(i&&!w(o,"default"))s=!1;else if(""===s||s===C(t)){var c=Vt(String,o.type);(c<0||a<c)&&(s=!0)}if(void 0===s){s=function(t,e,n){if(w(e,"default")){var r=e.default;return t&&t.$options.propsData&&void 0===t.$options.propsData[n]&&void 0!==t._props[n]?t._props[n]:"function"==typeof r&&"Function"!==Bt(e.type)?r.call(t):r}}(r,o,t);var u=Ot;kt(!0),Ct(s),kt(u)}return s}var zt=/^\s*function (\w+)/;function Bt(t){var e=t&&t.toString().match(zt);return e?e[1]:""}function Ft(t,e){return Bt(t)===Bt(e)}function Vt(t,e){if(!Array.isArray(e))return Ft(e,t)?0:-1;for(var n=0,r=e.length;n<r;n++)if(Ft(e[n],t))return n;return-1}function Ht(t,e,n){dt();try{if(e)for(var r=e;r=r.$parent;){var o=r.$options.errorCaptured;if(o)for(var i=0;i<o.length;i++)try{if(!1===o[i].call(r,t,e,n))return}catch(t){qt(t,r,"errorCaptured hook")}}qt(t,e,n)}finally{ht()}}function Ut(t,e,n,r,o){var i;try{(i=n?t.apply(e,n):t.call(e))&&!i._isVue&&f(i)&&!i._handled&&(i.catch((function(t){return Ht(t,r,o+" (Promise/async)")})),i._handled=!0)}catch(t){Ht(t,r,o)}return i}function qt(t,e,n){if(B.errorHandler)try{return B.errorHandler.call(null,t,e,n)}catch(e){e!==t&&Wt(e,null,"config.errorHandler")}Wt(t,e,n)}function Wt(t,e,n){if(!W&&!J||"undefined"==typeof console)throw t;console.error(t)}var Jt,Kt=!1,Gt=[],Yt=!1;function Xt(){Yt=!1;var t=Gt.slice(0);Gt.length=0;for(var e=0;e<t.length;e++)t[e]()}if("undefined"!=typeof Promise&&st(Promise)){var Zt=Promise.resolve();Jt=function(){Zt.then(Xt),Q&&setTimeout(j)},Kt=!0}else if(Y||"undefined"==typeof MutationObserver||!st(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())Jt=void 0!==n&&st(n)?function(){n(Xt)}:function(){setTimeout(Xt,0)};else{var Qt=1,te=new MutationObserver(Xt),ee=document.createTextNode(String(Qt));te.observe(ee,{characterData:!0}),Jt=function(){Qt=(Qt+1)%2,ee.data=String(Qt)},Kt=!0}function ne(t,e){var n;if(Gt.push((function(){if(t)try{t.call(e)}catch(t){Ht(t,e,"nextTick")}else n&&n(e)})),Yt||(Yt=!0,Jt()),!t&&"undefined"!=typeof Promise)return new Promise((function(t){n=t}))}var re=new at;function oe(t){!function t(e,n){var r,o,i=Array.isArray(e);if(!(!i&&!c(e)||Object.isFrozen(e)||e instanceof mt)){if(e.__ob__){var s=e.__ob__.dep.id;if(n.has(s))return;n.add(s)}if(i)for(r=e.length;r--;)t(e[r],n);else for(r=(o=Object.keys(e)).length;r--;)t(e[o[r]],n)}}(t,re),re.clear()}var ie=x((function(t){var e="&"===t.charAt(0),n="~"===(t=e?t.slice(1):t).charAt(0),r="!"===(t=n?t.slice(1):t).charAt(0);return{name:t=r?t.slice(1):t,once:n,capture:r,passive:e}}));function se(t,e){function n(){var t=arguments,r=n.fns;if(!Array.isArray(r))return Ut(r,null,arguments,e,"v-on handler");for(var o=r.slice(),i=0;i<o.length;i++)Ut(o[i],null,t,e,"v-on handler")}return n.fns=t,n}function ae(t,e,n,r,i,a){var c,u,l,p;for(c in t)u=t[c],l=e[c],p=ie(c),o(u)||(o(l)?(o(u.fns)&&(u=t[c]=se(u,a)),s(p.once)&&(u=t[c]=i(p.name,u,p.capture)),n(p.name,u,p.capture,p.passive,p.params)):u!==l&&(l.fns=u,t[c]=l));for(c in e)o(t[c])&&r((p=ie(c)).name,e[c],p.capture)}function ce(t,e,n){var r;t instanceof mt&&(t=t.data.hook||(t.data.hook={}));var a=t[e];function c(){n.apply(this,arguments),y(r.fns,c)}o(a)?r=se([c]):i(a.fns)&&s(a.merged)?(r=a).fns.push(c):r=se([a,c]),r.merged=!0,t[e]=r}function ue(t,e,n,r,o){if(i(e)){if(w(e,n))return t[n]=e[n],o||delete e[n],!0;if(w(e,r))return t[n]=e[r],o||delete e[r],!0}return!1}function le(t){return a(t)?[yt(t)]:Array.isArray(t)?function t(e,n){var r,c,u,l,p=[];for(r=0;r<e.length;r++)o(c=e[r])||"boolean"==typeof c||(l=p[u=p.length-1],Array.isArray(c)?c.length>0&&(pe((c=t(c,(n||"")+"_"+r))[0])&&pe(l)&&(p[u]=yt(l.text+c[0].text),c.shift()),p.push.apply(p,c)):a(c)?pe(l)?p[u]=yt(l.text+c):""!==c&&p.push(yt(c)):pe(c)&&pe(l)?p[u]=yt(l.text+c.text):(s(e._isVList)&&i(c.tag)&&o(c.key)&&i(n)&&(c.key="__vlist"+n+"_"+r+"__"),p.push(c)));return p}(t):void 0}function pe(t){return i(t)&&i(t.text)&&!1===t.isComment}function fe(t,e){if(t){for(var n=Object.create(null),r=ct?Reflect.ownKeys(t):Object.keys(t),o=0;o<r.length;o++){var i=r[o];if("__ob__"!==i){for(var s=t[i].from,a=e;a;){if(a._provided&&w(a._provided,s)){n[i]=a._provided[s];break}a=a.$parent}if(!a&&"default"in t[i]){var c=t[i].default;n[i]="function"==typeof c?c.call(e):c}}}return n}}function de(t,e){if(!t||!t.length)return{};for(var n={},r=0,o=t.length;r<o;r++){var i=t[r],s=i.data;if(s&&s.attrs&&s.attrs.slot&&delete s.attrs.slot,i.context!==e&&i.fnContext!==e||!s||null==s.slot)(n.default||(n.default=[])).push(i);else{var a=s.slot,c=n[a]||(n[a]=[]);"template"===i.tag?c.push.apply(c,i.children||[]):c.push(i)}}for(var u in n)n[u].every(he)&&delete n[u];return n}function he(t){return t.isComment&&!t.asyncFactory||" "===t.text}function me(t){return t.isComment&&t.asyncFactory}function ve(t,e,n){var o,i=Object.keys(e).length>0,s=t?!!t.$stable:!i,a=t&&t.$key;if(t){if(t._normalized)return t._normalized;if(s&&n&&n!==r&&a===n.$key&&!i&&!n.$hasNormal)return n;for(var c in o={},t)t[c]&&"$"!==c[0]&&(o[c]=ge(e,c,t[c]))}else o={};for(var u in e)u in o||(o[u]=ye(e,u));return t&&Object.isExtensible(t)&&(t._normalized=o),V(o,"$stable",s),V(o,"$key",a),V(o,"$hasNormal",i),o}function ge(t,e,n){var r=function(){var t=arguments.length?n.apply(null,arguments):n({}),e=(t=t&&"object"==typeof t&&!Array.isArray(t)?[t]:le(t))&&t[0];return t&&(!e||1===t.length&&e.isComment&&!me(e))?void 0:t};return n.proxy&&Object.defineProperty(t,e,{get:r,enumerable:!0,configurable:!0}),r}function ye(t,e){return function(){return t[e]}}function be(t,e){var n,r,o,s,a;if(Array.isArray(t)||"string"==typeof t)for(n=new Array(t.length),r=0,o=t.length;r<o;r++)n[r]=e(t[r],r);else if("number"==typeof t)for(n=new Array(t),r=0;r<t;r++)n[r]=e(r+1,r);else if(c(t))if(ct&&t[Symbol.iterator]){n=[];for(var u=t[Symbol.iterator](),l=u.next();!l.done;)n.push(e(l.value,n.length)),l=u.next()}else for(s=Object.keys(t),n=new Array(s.length),r=0,o=s.length;r<o;r++)a=s[r],n[r]=e(t[a],a,r);return i(n)||(n=[]),n._isVList=!0,n}function we(t,e,n,r){var o,i=this.$scopedSlots[t];i?(n=n||{},r&&(n=T(T({},r),n)),o=i(n)||("function"==typeof e?e():e)):o=this.$slots[t]||("function"==typeof e?e():e);var s=n&&n.slot;return s?this.$createElement("template",{slot:s},o):o}function xe(t){return It(this.$options,"filters",t)||N}function _e(t,e){return Array.isArray(t)?-1===t.indexOf(e):t!==e}function Oe(t,e,n,r,o){var i=B.keyCodes[e]||n;return o&&r&&!B.keyCodes[e]?_e(o,r):i?_e(i,t):r?C(r)!==e:void 0===t}function ke(t,e,n,r,o){if(n&&c(n)){var i;Array.isArray(n)&&(n=A(n));var s=function(s){if("class"===s||"style"===s||g(s))i=t;else{var a=t.attrs&&t.attrs.type;i=r||B.mustUseProp(e,a,s)?t.domProps||(t.domProps={}):t.attrs||(t.attrs={})}var c=O(s),u=C(s);c in i||u in i||(i[s]=n[s],o&&((t.on||(t.on={}))["update:"+s]=function(t){n[s]=t}))};for(var a in n)s(a)}return t}function Se(t,e){var n=this._staticTrees||(this._staticTrees=[]),r=n[t];return r&&!e||Me(r=n[t]=this.$options.staticRenderFns[t].call(this._renderProxy,null,this),"__static__"+t,!1),r}function Ce(t,e,n){return Me(t,"__once__"+e+(n?"_"+n:""),!0),t}function Me(t,e,n){if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]&&"string"!=typeof t[r]&&Ee(t[r],e+"_"+r,n);else Ee(t,e,n)}function Ee(t,e,n){t.isStatic=!0,t.key=e,t.isOnce=n}function Te(t,e){if(e&&l(e)){var n=t.on=t.on?T({},t.on):{};for(var r in e){var o=n[r],i=e[r];n[r]=o?[].concat(o,i):i}}return t}function Ae(t,e,n,r){e=e||{$stable:!n};for(var o=0;o<t.length;o++){var i=t[o];Array.isArray(i)?Ae(i,e,n):i&&(i.proxy&&(i.fn.proxy=!0),e[i.key]=i.fn)}return r&&(e.$key=r),e}function je(t,e){for(var n=0;n<e.length;n+=2){var r=e[n];"string"==typeof r&&r&&(t[e[n]]=e[n+1])}return t}function $e(t,e){return"string"==typeof t?e+t:t}function Ne(t){t._o=Ce,t._n=h,t._s=d,t._l=be,t._t=we,t._q=D,t._i=P,t._m=Se,t._f=xe,t._k=Oe,t._b=ke,t._v=yt,t._e=gt,t._u=Ae,t._g=Te,t._d=je,t._p=$e}function De(t,e,n,o,i){var a,c=this,u=i.options;w(o,"_uid")?(a=Object.create(o))._original=o:(a=o,o=o._original);var l=s(u._compiled),p=!l;this.data=t,this.props=e,this.children=n,this.parent=o,this.listeners=t.on||r,this.injections=fe(u.inject,o),this.slots=function(){return c.$slots||ve(t.scopedSlots,c.$slots=de(n,o)),c.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return ve(t.scopedSlots,this.slots())}}),l&&(this.$options=u,this.$slots=this.slots(),this.$scopedSlots=ve(t.scopedSlots,this.$slots)),u._scopeId?this._c=function(t,e,n,r){var i=Fe(a,t,e,n,r,p);return i&&!Array.isArray(i)&&(i.fnScopeId=u._scopeId,i.fnContext=o),i}:this._c=function(t,e,n,r){return Fe(a,t,e,n,r,p)}}function Pe(t,e,n,r,o){var i=bt(t);return i.fnContext=n,i.fnOptions=r,e.slot&&((i.data||(i.data={})).slot=e.slot),i}function Le(t,e){for(var n in e)t[O(n)]=e[n]}Ne(De.prototype);var Ie={init:function(t,e){if(t.componentInstance&&!t.componentInstance._isDestroyed&&t.data.keepAlive){var n=t;Ie.prepatch(n,n)}else(t.componentInstance=function(t,e){var n={_isComponent:!0,_parentVnode:t,parent:e},r=t.data.inlineTemplate;return i(r)&&(n.render=r.render,n.staticRenderFns=r.staticRenderFns),new t.componentOptions.Ctor(n)}(t,Ye)).$mount(e?t.elm:void 0,e)},prepatch:function(t,e){var n=e.componentOptions;!function(t,e,n,o,i){var s=o.data.scopedSlots,a=t.$scopedSlots,c=!!(s&&!s.$stable||a!==r&&!a.$stable||s&&t.$scopedSlots.$key!==s.$key||!s&&t.$scopedSlots.$key),u=!!(i||t.$options._renderChildren||c);if(t.$options._parentVnode=o,t.$vnode=o,t._vnode&&(t._vnode.parent=o),t.$options._renderChildren=i,t.$attrs=o.data.attrs||r,t.$listeners=n||r,e&&t.$options.props){kt(!1);for(var l=t._props,p=t.$options._propKeys||[],f=0;f<p.length;f++){var d=p[f],h=t.$options.props;l[d]=Rt(d,h,e,t)}kt(!0),t.$options.propsData=e}n=n||r;var m=t.$options._parentListeners;t.$options._parentListeners=n,Ge(t,n,m),u&&(t.$slots=de(i,o.context),t.$forceUpdate())}(e.componentInstance=t.componentInstance,n.propsData,n.listeners,e,n.children)},insert:function(t){var e,n=t.context,r=t.componentInstance;r._isMounted||(r._isMounted=!0,tn(r,"mounted")),t.data.keepAlive&&(n._isMounted?((e=r)._inactive=!1,nn.push(e)):Qe(r,!0))},destroy:function(t){var e=t.componentInstance;e._isDestroyed||(t.data.keepAlive?function t(e,n){if(!(n&&(e._directInactive=!0,Ze(e))||e._inactive)){e._inactive=!0;for(var r=0;r<e.$children.length;r++)t(e.$children[r]);tn(e,"deactivated")}}(e,!0):e.$destroy())}},Re=Object.keys(Ie);function ze(t,e,n,a,u){if(!o(t)){var l=n.$options._base;if(c(t)&&(t=l.extend(t)),"function"==typeof t){var p;if(o(t.cid)&&void 0===(t=function(t,e){if(s(t.error)&&i(t.errorComp))return t.errorComp;if(i(t.resolved))return t.resolved;var n=He;if(n&&i(t.owners)&&-1===t.owners.indexOf(n)&&t.owners.push(n),s(t.loading)&&i(t.loadingComp))return t.loadingComp;if(n&&!i(t.owners)){var r=t.owners=[n],a=!0,u=null,l=null;n.$on("hook:destroyed",(function(){return y(r,n)}));var p=function(t){for(var e=0,n=r.length;e<n;e++)r[e].$forceUpdate();t&&(r.length=0,null!==u&&(clearTimeout(u),u=null),null!==l&&(clearTimeout(l),l=null))},d=L((function(n){t.resolved=Ue(n,e),a?r.length=0:p(!0)})),h=L((function(e){i(t.errorComp)&&(t.error=!0,p(!0))})),m=t(d,h);return c(m)&&(f(m)?o(t.resolved)&&m.then(d,h):f(m.component)&&(m.component.then(d,h),i(m.error)&&(t.errorComp=Ue(m.error,e)),i(m.loading)&&(t.loadingComp=Ue(m.loading,e),0===m.delay?t.loading=!0:u=setTimeout((function(){u=null,o(t.resolved)&&o(t.error)&&(t.loading=!0,p(!1))}),m.delay||200)),i(m.timeout)&&(l=setTimeout((function(){l=null,o(t.resolved)&&h(null)}),m.timeout)))),a=!1,t.loading?t.loadingComp:t.resolved}}(p=t,l)))return function(t,e,n,r,o){var i=gt();return i.asyncFactory=t,i.asyncMeta={data:e,context:n,children:r,tag:o},i}(p,e,n,a,u);e=e||{},_n(t),i(e.model)&&function(t,e){var n=t.model&&t.model.prop||"value",r=t.model&&t.model.event||"input";(e.attrs||(e.attrs={}))[n]=e.model.value;var o=e.on||(e.on={}),s=o[r],a=e.model.callback;i(s)?(Array.isArray(s)?-1===s.indexOf(a):s!==a)&&(o[r]=[a].concat(s)):o[r]=a}(t.options,e);var d=function(t,e,n){var r=e.options.props;if(!o(r)){var s={},a=t.attrs,c=t.props;if(i(a)||i(c))for(var u in r){var l=C(u);ue(s,c,u,l,!0)||ue(s,a,u,l,!1)}return s}}(e,t);if(s(t.options.functional))return function(t,e,n,o,s){var a=t.options,c={},u=a.props;if(i(u))for(var l in u)c[l]=Rt(l,u,e||r);else i(n.attrs)&&Le(c,n.attrs),i(n.props)&&Le(c,n.props);var p=new De(n,c,s,o,t),f=a.render.call(null,p._c,p);if(f instanceof mt)return Pe(f,n,p.parent,a);if(Array.isArray(f)){for(var d=le(f)||[],h=new Array(d.length),m=0;m<d.length;m++)h[m]=Pe(d[m],n,p.parent,a);return h}}(t,d,e,n,a);var h=e.on;if(e.on=e.nativeOn,s(t.options.abstract)){var m=e.slot;e={},m&&(e.slot=m)}!function(t){for(var e=t.hook||(t.hook={}),n=0;n<Re.length;n++){var r=Re[n],o=e[r],i=Ie[r];o===i||o&&o._merged||(e[r]=o?Be(i,o):i)}}(e);var v=t.options.name||u;return new mt("vue-component-"+t.cid+(v?"-"+v:""),e,void 0,void 0,void 0,n,{Ctor:t,propsData:d,listeners:h,tag:u,children:a},p)}}}function Be(t,e){var n=function(n,r){t(n,r),e(n,r)};return n._merged=!0,n}function Fe(t,e,n,r,u,l){return(Array.isArray(n)||a(n))&&(u=r,r=n,n=void 0),s(l)&&(u=2),function(t,e,n,r,a){if(i(n)&&i(n.__ob__))return gt();if(i(n)&&i(n.is)&&(e=n.is),!e)return gt();var u,l,p;(Array.isArray(r)&&"function"==typeof r[0]&&((n=n||{}).scopedSlots={default:r[0]},r.length=0),2===a?r=le(r):1===a&&(r=function(t){for(var e=0;e<t.length;e++)if(Array.isArray(t[e]))return Array.prototype.concat.apply([],t);return t}(r)),"string"==typeof e)?(l=t.$vnode&&t.$vnode.ns||B.getTagNamespace(e),u=B.isReservedTag(e)?new mt(B.parsePlatformTagName(e),n,r,void 0,void 0,t):n&&n.pre||!i(p=It(t.$options,"components",e))?new mt(e,n,r,void 0,void 0,t):ze(p,n,t,r,e)):u=ze(e,n,t,r);return Array.isArray(u)?u:i(u)?(i(l)&&function t(e,n,r){if(e.ns=n,"foreignObject"===e.tag&&(n=void 0,r=!0),i(e.children))for(var a=0,c=e.children.length;a<c;a++){var u=e.children[a];i(u.tag)&&(o(u.ns)||s(r)&&"svg"!==u.tag)&&t(u,n,r)}}(u,l),i(n)&&function(t){c(t.style)&&oe(t.style),c(t.class)&&oe(t.class)}(n),u):gt()}(t,e,n,r,u)}var Ve,He=null;function Ue(t,e){return(t.__esModule||ct&&"Module"===t[Symbol.toStringTag])&&(t=t.default),c(t)?e.extend(t):t}function qe(t){if(Array.isArray(t))for(var e=0;e<t.length;e++){var n=t[e];if(i(n)&&(i(n.componentOptions)||me(n)))return n}}function We(t,e){Ve.$on(t,e)}function Je(t,e){Ve.$off(t,e)}function Ke(t,e){var n=Ve;return function r(){null!==e.apply(null,arguments)&&n.$off(t,r)}}function Ge(t,e,n){Ve=t,ae(e,n||{},We,Je,Ke,t),Ve=void 0}var Ye=null;function Xe(t){var e=Ye;return Ye=t,function(){Ye=e}}function Ze(t){for(;t&&(t=t.$parent);)if(t._inactive)return!0;return!1}function Qe(t,e){if(e){if(t._directInactive=!1,Ze(t))return}else if(t._directInactive)return;if(t._inactive||null===t._inactive){t._inactive=!1;for(var n=0;n<t.$children.length;n++)Qe(t.$children[n]);tn(t,"activated")}}function tn(t,e){dt();var n=t.$options[e],r=e+" hook";if(n)for(var o=0,i=n.length;o<i;o++)Ut(n[o],t,null,t,r);t._hasHookEvent&&t.$emit("hook:"+e),ht()}var en=[],nn=[],rn={},on=!1,sn=!1,an=0,cn=0,un=Date.now;if(W&&!Y){var ln=window.performance;ln&&"function"==typeof ln.now&&un()>document.createEvent("Event").timeStamp&&(un=function(){return ln.now()})}function pn(){var t,e;for(cn=un(),sn=!0,en.sort((function(t,e){return t.id-e.id})),an=0;an<en.length;an++)(t=en[an]).before&&t.before(),e=t.id,rn[e]=null,t.run();var n=nn.slice(),r=en.slice();an=en.length=nn.length=0,rn={},on=sn=!1,function(t){for(var e=0;e<t.length;e++)t[e]._inactive=!0,Qe(t[e],!0)}(n),function(t){for(var e=t.length;e--;){var n=t[e],r=n.vm;r._watcher===n&&r._isMounted&&!r._isDestroyed&&tn(r,"updated")}}(r),it&&B.devtools&&it.emit("flush")}var fn=0,dn=function(t,e,n,r,o){this.vm=t,o&&(t._watcher=this),t._watchers.push(this),r?(this.deep=!!r.deep,this.user=!!r.user,this.lazy=!!r.lazy,this.sync=!!r.sync,this.before=r.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++fn,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new at,this.newDepIds=new at,this.expression="","function"==typeof e?this.getter=e:(this.getter=function(t){if(!U.test(t)){var e=t.split(".");return function(t){for(var n=0;n<e.length;n++){if(!t)return;t=t[e[n]]}return t}}}(e),this.getter||(this.getter=j)),this.value=this.lazy?void 0:this.get()};dn.prototype.get=function(){var t;dt(this);var e=this.vm;try{t=this.getter.call(e,e)}catch(t){if(!this.user)throw t;Ht(t,e,'getter for watcher "'+this.expression+'"')}finally{this.deep&&oe(t),ht(),this.cleanupDeps()}return t},dn.prototype.addDep=function(t){var e=t.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(t),this.depIds.has(e)||t.addSub(this))},dn.prototype.cleanupDeps=function(){for(var t=this.deps.length;t--;){var e=this.deps[t];this.newDepIds.has(e.id)||e.removeSub(this)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},dn.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():function(t){var e=t.id;if(null==rn[e]){if(rn[e]=!0,sn){for(var n=en.length-1;n>an&&en[n].id>t.id;)n--;en.splice(n+1,0,t)}else en.push(t);on||(on=!0,ne(pn))}}(this)},dn.prototype.run=function(){if(this.active){var t=this.get();if(t!==this.value||c(t)||this.deep){var e=this.value;if(this.value=t,this.user){var n='callback for watcher "'+this.expression+'"';Ut(this.cb,this.vm,[t,e],this.vm,n)}else this.cb.call(this.vm,t,e)}}},dn.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},dn.prototype.depend=function(){for(var t=this.deps.length;t--;)this.deps[t].depend()},dn.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||y(this.vm._watchers,this);for(var t=this.deps.length;t--;)this.deps[t].removeSub(this);this.active=!1}};var hn={enumerable:!0,configurable:!0,get:j,set:j};function mn(t,e,n){hn.get=function(){return this[e][n]},hn.set=function(t){this[e][n]=t},Object.defineProperty(t,n,hn)}var vn={lazy:!0};function gn(t,e,n){var r=!ot();"function"==typeof n?(hn.get=r?yn(e):bn(n),hn.set=j):(hn.get=n.get?r&&!1!==n.cache?yn(e):bn(n.get):j,hn.set=n.set||j),Object.defineProperty(t,e,hn)}function yn(t){return function(){var e=this._computedWatchers&&this._computedWatchers[t];if(e)return e.dirty&&e.evaluate(),pt.target&&e.depend(),e.value}}function bn(t){return function(){return t.call(this,this)}}function wn(t,e,n,r){return l(n)&&(r=n,n=n.handler),"string"==typeof n&&(n=t[n]),t.$watch(e,n,r)}var xn=0;function _n(t){var e=t.options;if(t.super){var n=_n(t.super);if(n!==t.superOptions){t.superOptions=n;var r=function(t){var e,n=t.options,r=t.sealedOptions;for(var o in n)n[o]!==r[o]&&(e||(e={}),e[o]=n[o]);return e}(t);r&&T(t.extendOptions,r),(e=t.options=Lt(n,t.extendOptions)).name&&(e.components[e.name]=t)}}return e}function On(t){this._init(t)}function kn(t){return t&&(t.Ctor.options.name||t.tag)}function Sn(t,e){return Array.isArray(t)?t.indexOf(e)>-1:"string"==typeof t?t.split(",").indexOf(e)>-1:(n=t,"[object RegExp]"===u.call(n)&&t.test(e));var n}function Cn(t,e){var n=t.cache,r=t.keys,o=t._vnode;for(var i in n){var s=n[i];if(s){var a=s.name;a&&!e(a)&&Mn(n,i,r,o)}}}function Mn(t,e,n,r){var o=t[e];!o||r&&o.tag===r.tag||o.componentInstance.$destroy(),t[e]=null,y(n,e)}!function(t){t.prototype._init=function(t){var e=this;e._uid=xn++,e._isVue=!0,t&&t._isComponent?function(t,e){var n=t.$options=Object.create(t.constructor.options),r=e._parentVnode;n.parent=e.parent,n._parentVnode=r;var o=r.componentOptions;n.propsData=o.propsData,n._parentListeners=o.listeners,n._renderChildren=o.children,n._componentTag=o.tag,e.render&&(n.render=e.render,n.staticRenderFns=e.staticRenderFns)}(e,t):e.$options=Lt(_n(e.constructor),t||{},e),e._renderProxy=e,e._self=e,function(t){var e=t.$options,n=e.parent;if(n&&!e.abstract){for(;n.$options.abstract&&n.$parent;)n=n.$parent;n.$children.push(t)}t.$parent=n,t.$root=n?n.$root:t,t.$children=[],t.$refs={},t._watcher=null,t._inactive=null,t._directInactive=!1,t._isMounted=!1,t._isDestroyed=!1,t._isBeingDestroyed=!1}(e),function(t){t._events=Object.create(null),t._hasHookEvent=!1;var e=t.$options._parentListeners;e&&Ge(t,e)}(e),function(t){t._vnode=null,t._staticTrees=null;var e=t.$options,n=t.$vnode=e._parentVnode,o=n&&n.context;t.$slots=de(e._renderChildren,o),t.$scopedSlots=r,t._c=function(e,n,r,o){return Fe(t,e,n,r,o,!1)},t.$createElement=function(e,n,r,o){return Fe(t,e,n,r,o,!0)};var i=n&&n.data;Mt(t,"$attrs",i&&i.attrs||r,null,!0),Mt(t,"$listeners",e._parentListeners||r,null,!0)}(e),tn(e,"beforeCreate"),function(t){var e=fe(t.$options.inject,t);e&&(kt(!1),Object.keys(e).forEach((function(n){Mt(t,n,e[n])})),kt(!0))}(e),function(t){t._watchers=[];var e=t.$options;e.props&&function(t,e){var n=t.$options.propsData||{},r=t._props={},o=t.$options._propKeys=[];t.$parent&&kt(!1);var i=function(i){o.push(i);var s=Rt(i,e,n,t);Mt(r,i,s),i in t||mn(t,"_props",i)};for(var s in e)i(s);kt(!0)}(t,e.props),e.methods&&function(t,e){for(var n in t.$options.props,e)t[n]="function"!=typeof e[n]?j:M(e[n],t)}(t,e.methods),e.data?function(t){var e=t.$options.data;l(e=t._data="function"==typeof e?function(t,e){dt();try{return t.call(e,e)}catch(t){return Ht(t,e,"data()"),{}}finally{ht()}}(e,t):e||{})||(e={});for(var n,r=Object.keys(e),o=t.$options.props,i=(t.$options.methods,r.length);i--;){var s=r[i];o&&w(o,s)||(void 0,36!==(n=(s+"").charCodeAt(0))&&95!==n&&mn(t,"_data",s))}Ct(e,!0)}(t):Ct(t._data={},!0),e.computed&&function(t,e){var n=t._computedWatchers=Object.create(null),r=ot();for(var o in e){var i=e[o],s="function"==typeof i?i:i.get;r||(n[o]=new dn(t,s||j,j,vn)),o in t||gn(t,o,i)}}(t,e.computed),e.watch&&e.watch!==et&&function(t,e){for(var n in e){var r=e[n];if(Array.isArray(r))for(var o=0;o<r.length;o++)wn(t,n,r[o]);else wn(t,n,r)}}(t,e.watch)}(e),function(t){var e=t.$options.provide;e&&(t._provided="function"==typeof e?e.call(t):e)}(e),tn(e,"created"),e.$options.el&&e.$mount(e.$options.el)}}(On),function(t){Object.defineProperty(t.prototype,"$data",{get:function(){return this._data}}),Object.defineProperty(t.prototype,"$props",{get:function(){return this._props}}),t.prototype.$set=Et,t.prototype.$delete=Tt,t.prototype.$watch=function(t,e,n){if(l(e))return wn(this,t,e,n);(n=n||{}).user=!0;var r=new dn(this,t,e,n);if(n.immediate){var o='callback for immediate watcher "'+r.expression+'"';dt(),Ut(e,this,[r.value],this,o),ht()}return function(){r.teardown()}}}(On),function(t){var e=/^hook:/;t.prototype.$on=function(t,n){var r=this;if(Array.isArray(t))for(var o=0,i=t.length;o<i;o++)r.$on(t[o],n);else(r._events[t]||(r._events[t]=[])).push(n),e.test(t)&&(r._hasHookEvent=!0);return r},t.prototype.$once=function(t,e){var n=this;function r(){n.$off(t,r),e.apply(n,arguments)}return r.fn=e,n.$on(t,r),n},t.prototype.$off=function(t,e){var n=this;if(!arguments.length)return n._events=Object.create(null),n;if(Array.isArray(t)){for(var r=0,o=t.length;r<o;r++)n.$off(t[r],e);return n}var i,s=n._events[t];if(!s)return n;if(!e)return n._events[t]=null,n;for(var a=s.length;a--;)if((i=s[a])===e||i.fn===e){s.splice(a,1);break}return n},t.prototype.$emit=function(t){var e=this._events[t];if(e){e=e.length>1?E(e):e;for(var n=E(arguments,1),r='event handler for "'+t+'"',o=0,i=e.length;o<i;o++)Ut(e[o],this,n,this,r)}return this}}(On),function(t){t.prototype._update=function(t,e){var n=this,r=n.$el,o=n._vnode,i=Xe(n);n._vnode=t,n.$el=o?n.__patch__(o,t):n.__patch__(n.$el,t,e,!1),i(),r&&(r.__vue__=null),n.$el&&(n.$el.__vue__=n),n.$vnode&&n.$parent&&n.$vnode===n.$parent._vnode&&(n.$parent.$el=n.$el)},t.prototype.$forceUpdate=function(){this._watcher&&this._watcher.update()},t.prototype.$destroy=function(){var t=this;if(!t._isBeingDestroyed){tn(t,"beforeDestroy"),t._isBeingDestroyed=!0;var e=t.$parent;!e||e._isBeingDestroyed||t.$options.abstract||y(e.$children,t),t._watcher&&t._watcher.teardown();for(var n=t._watchers.length;n--;)t._watchers[n].teardown();t._data.__ob__&&t._data.__ob__.vmCount--,t._isDestroyed=!0,t.__patch__(t._vnode,null),tn(t,"destroyed"),t.$off(),t.$el&&(t.$el.__vue__=null),t.$vnode&&(t.$vnode.parent=null)}}}(On),function(t){Ne(t.prototype),t.prototype.$nextTick=function(t){return ne(t,this)},t.prototype._render=function(){var t,e=this,n=e.$options,r=n.render,o=n._parentVnode;o&&(e.$scopedSlots=ve(o.data.scopedSlots,e.$slots,e.$scopedSlots)),e.$vnode=o;try{He=e,t=r.call(e._renderProxy,e.$createElement)}catch(n){Ht(n,e,"render"),t=e._vnode}finally{He=null}return Array.isArray(t)&&1===t.length&&(t=t[0]),t instanceof mt||(t=gt()),t.parent=o,t}}(On);var En=[String,RegExp,Array],Tn={KeepAlive:{name:"keep-alive",abstract:!0,props:{include:En,exclude:En,max:[String,Number]},methods:{cacheVNode:function(){var t=this.cache,e=this.keys,n=this.vnodeToCache,r=this.keyToCache;if(n){var o=n.tag,i=n.componentInstance,s=n.componentOptions;t[r]={name:kn(s),tag:o,componentInstance:i},e.push(r),this.max&&e.length>parseInt(this.max)&&Mn(t,e[0],e,this._vnode),this.vnodeToCache=null}}},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var t in this.cache)Mn(this.cache,t,this.keys)},mounted:function(){var t=this;this.cacheVNode(),this.$watch("include",(function(e){Cn(t,(function(t){return Sn(e,t)}))})),this.$watch("exclude",(function(e){Cn(t,(function(t){return!Sn(e,t)}))}))},updated:function(){this.cacheVNode()},render:function(){var t=this.$slots.default,e=qe(t),n=e&&e.componentOptions;if(n){var r=kn(n),o=this.include,i=this.exclude;if(o&&(!r||!Sn(o,r))||i&&r&&Sn(i,r))return e;var s=this.cache,a=this.keys,c=null==e.key?n.Ctor.cid+(n.tag?"::"+n.tag:""):e.key;s[c]?(e.componentInstance=s[c].componentInstance,y(a,c),a.push(c)):(this.vnodeToCache=e,this.keyToCache=c),e.data.keepAlive=!0}return e||t&&t[0]}}};!function(t){var e={get:function(){return B}};Object.defineProperty(t,"config",e),t.util={warn:ut,extend:T,mergeOptions:Lt,defineReactive:Mt},t.set=Et,t.delete=Tt,t.nextTick=ne,t.observable=function(t){return Ct(t),t},t.options=Object.create(null),R.forEach((function(e){t.options[e+"s"]=Object.create(null)})),t.options._base=t,T(t.options.components,Tn),function(t){t.use=function(t){var e=this._installedPlugins||(this._installedPlugins=[]);if(e.indexOf(t)>-1)return this;var n=E(arguments,1);return n.unshift(this),"function"==typeof t.install?t.install.apply(t,n):"function"==typeof t&&t.apply(null,n),e.push(t),this}}(t),function(t){t.mixin=function(t){return this.options=Lt(this.options,t),this}}(t),function(t){t.cid=0;var e=1;t.extend=function(t){t=t||{};var n=this,r=n.cid,o=t._Ctor||(t._Ctor={});if(o[r])return o[r];var i=t.name||n.options.name,s=function(t){this._init(t)};return(s.prototype=Object.create(n.prototype)).constructor=s,s.cid=e++,s.options=Lt(n.options,t),s.super=n,s.options.props&&function(t){var e=t.options.props;for(var n in e)mn(t.prototype,"_props",n)}(s),s.options.computed&&function(t){var e=t.options.computed;for(var n in e)gn(t.prototype,n,e[n])}(s),s.extend=n.extend,s.mixin=n.mixin,s.use=n.use,R.forEach((function(t){s[t]=n[t]})),i&&(s.options.components[i]=s),s.superOptions=n.options,s.extendOptions=t,s.sealedOptions=T({},s.options),o[r]=s,s}}(t),function(t){R.forEach((function(e){t[e]=function(t,n){return n?("component"===e&&l(n)&&(n.name=n.name||t,n=this.options._base.extend(n)),"directive"===e&&"function"==typeof n&&(n={bind:n,update:n}),this.options[e+"s"][t]=n,n):this.options[e+"s"][t]}}))}(t)}(On),Object.defineProperty(On.prototype,"$isServer",{get:ot}),Object.defineProperty(On.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(On,"FunctionalRenderContext",{value:De}),On.version="2.6.14";var An=m("style,class"),jn=m("input,textarea,option,select,progress"),$n=function(t,e,n){return"value"===n&&jn(t)&&"button"!==e||"selected"===n&&"option"===t||"checked"===n&&"input"===t||"muted"===n&&"video"===t},Nn=m("contenteditable,draggable,spellcheck"),Dn=m("events,caret,typing,plaintext-only"),Pn=m("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,truespeed,typemustmatch,visible"),Ln="http://www.w3.org/1999/xlink",In=function(t){return":"===t.charAt(5)&&"xlink"===t.slice(0,5)},Rn=function(t){return In(t)?t.slice(6,t.length):""},zn=function(t){return null==t||!1===t};function Bn(t,e){return{staticClass:Fn(t.staticClass,e.staticClass),class:i(t.class)?[t.class,e.class]:e.class}}function Fn(t,e){return t?e?t+" "+e:t:e||""}function Vn(t){return Array.isArray(t)?function(t){for(var e,n="",r=0,o=t.length;r<o;r++)i(e=Vn(t[r]))&&""!==e&&(n&&(n+=" "),n+=e);return n}(t):c(t)?function(t){var e="";for(var n in t)t[n]&&(e&&(e+=" "),e+=n);return e}(t):"string"==typeof t?t:""}var Hn={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},Un=m("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),qn=m("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignobject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),Wn=function(t){return Un(t)||qn(t)};function Jn(t){return qn(t)?"svg":"math"===t?"math":void 0}var Kn=Object.create(null),Gn=m("text,number,password,search,email,tel,url");function Yn(t){return"string"==typeof t?document.querySelector(t)||document.createElement("div"):t}var Xn=Object.freeze({createElement:function(t,e){var n=document.createElement(t);return"select"!==t||e.data&&e.data.attrs&&void 0!==e.data.attrs.multiple&&n.setAttribute("multiple","multiple"),n},createElementNS:function(t,e){return document.createElementNS(Hn[t],e)},createTextNode:function(t){return document.createTextNode(t)},createComment:function(t){return document.createComment(t)},insertBefore:function(t,e,n){t.insertBefore(e,n)},removeChild:function(t,e){t.removeChild(e)},appendChild:function(t,e){t.appendChild(e)},parentNode:function(t){return t.parentNode},nextSibling:function(t){return t.nextSibling},tagName:function(t){return t.tagName},setTextContent:function(t,e){t.textContent=e},setStyleScope:function(t,e){t.setAttribute(e,"")}}),Zn={create:function(t,e){Qn(e)},update:function(t,e){t.data.ref!==e.data.ref&&(Qn(t,!0),Qn(e))},destroy:function(t){Qn(t,!0)}};function Qn(t,e){var n=t.data.ref;if(i(n)){var r=t.context,o=t.componentInstance||t.elm,s=r.$refs;e?Array.isArray(s[n])?y(s[n],o):s[n]===o&&(s[n]=void 0):t.data.refInFor?Array.isArray(s[n])?s[n].indexOf(o)<0&&s[n].push(o):s[n]=[o]:s[n]=o}}var tr=new mt("",{},[]),er=["create","activate","update","remove","destroy"];function nr(t,e){return t.key===e.key&&t.asyncFactory===e.asyncFactory&&(t.tag===e.tag&&t.isComment===e.isComment&&i(t.data)===i(e.data)&&function(t,e){if("input"!==t.tag)return!0;var n,r=i(n=t.data)&&i(n=n.attrs)&&n.type,o=i(n=e.data)&&i(n=n.attrs)&&n.type;return r===o||Gn(r)&&Gn(o)}(t,e)||s(t.isAsyncPlaceholder)&&o(e.asyncFactory.error))}function rr(t,e,n){var r,o,s={};for(r=e;r<=n;++r)i(o=t[r].key)&&(s[o]=r);return s}var or={create:ir,update:ir,destroy:function(t){ir(t,tr)}};function ir(t,e){(t.data.directives||e.data.directives)&&function(t,e){var n,r,o,i=t===tr,s=e===tr,a=ar(t.data.directives,t.context),c=ar(e.data.directives,e.context),u=[],l=[];for(n in c)r=a[n],o=c[n],r?(o.oldValue=r.value,o.oldArg=r.arg,ur(o,"update",e,t),o.def&&o.def.componentUpdated&&l.push(o)):(ur(o,"bind",e,t),o.def&&o.def.inserted&&u.push(o));if(u.length){var p=function(){for(var n=0;n<u.length;n++)ur(u[n],"inserted",e,t)};i?ce(e,"insert",p):p()}if(l.length&&ce(e,"postpatch",(function(){for(var n=0;n<l.length;n++)ur(l[n],"componentUpdated",e,t)})),!i)for(n in a)c[n]||ur(a[n],"unbind",t,t,s)}(t,e)}var sr=Object.create(null);function ar(t,e){var n,r,o=Object.create(null);if(!t)return o;for(n=0;n<t.length;n++)(r=t[n]).modifiers||(r.modifiers=sr),o[cr(r)]=r,r.def=It(e.$options,"directives",r.name);return o}function cr(t){return t.rawName||t.name+"."+Object.keys(t.modifiers||{}).join(".")}function ur(t,e,n,r,o){var i=t.def&&t.def[e];if(i)try{i(n.elm,t,n,r,o)}catch(r){Ht(r,n.context,"directive "+t.name+" "+e+" hook")}}var lr=[Zn,or];function pr(t,e){var n=e.componentOptions;if(!(i(n)&&!1===n.Ctor.options.inheritAttrs||o(t.data.attrs)&&o(e.data.attrs))){var r,s,a=e.elm,c=t.data.attrs||{},u=e.data.attrs||{};for(r in i(u.__ob__)&&(u=e.data.attrs=T({},u)),u)s=u[r],c[r]!==s&&fr(a,r,s,e.data.pre);for(r in(Y||Z)&&u.value!==c.value&&fr(a,"value",u.value),c)o(u[r])&&(In(r)?a.removeAttributeNS(Ln,Rn(r)):Nn(r)||a.removeAttribute(r))}}function fr(t,e,n,r){r||t.tagName.indexOf("-")>-1?dr(t,e,n):Pn(e)?zn(n)?t.removeAttribute(e):(n="allowfullscreen"===e&&"EMBED"===t.tagName?"true":e,t.setAttribute(e,n)):Nn(e)?t.setAttribute(e,function(t,e){return zn(e)||"false"===e?"false":"contenteditable"===t&&Dn(e)?e:"true"}(e,n)):In(e)?zn(n)?t.removeAttributeNS(Ln,Rn(e)):t.setAttributeNS(Ln,e,n):dr(t,e,n)}function dr(t,e,n){if(zn(n))t.removeAttribute(e);else{if(Y&&!X&&"TEXTAREA"===t.tagName&&"placeholder"===e&&""!==n&&!t.__ieph){var r=function(e){e.stopImmediatePropagation(),t.removeEventListener("input",r)};t.addEventListener("input",r),t.__ieph=!0}t.setAttribute(e,n)}}var hr={create:pr,update:pr};function mr(t,e){var n=e.elm,r=e.data,s=t.data;if(!(o(r.staticClass)&&o(r.class)&&(o(s)||o(s.staticClass)&&o(s.class)))){var a=function(t){for(var e=t.data,n=t,r=t;i(r.componentInstance);)(r=r.componentInstance._vnode)&&r.data&&(e=Bn(r.data,e));for(;i(n=n.parent);)n&&n.data&&(e=Bn(e,n.data));return function(t,e){return i(t)||i(e)?Fn(t,Vn(e)):""}(e.staticClass,e.class)}(e),c=n._transitionClasses;i(c)&&(a=Fn(a,Vn(c))),a!==n._prevClass&&(n.setAttribute("class",a),n._prevClass=a)}}var vr,gr,yr,br,wr,xr,_r={create:mr,update:mr},Or=/[\w).+\-_$\]]/;function kr(t){var e,n,r,o,i,s=!1,a=!1,c=!1,u=!1,l=0,p=0,f=0,d=0;for(r=0;r<t.length;r++)if(n=e,e=t.charCodeAt(r),s)39===e&&92!==n&&(s=!1);else if(a)34===e&&92!==n&&(a=!1);else if(c)96===e&&92!==n&&(c=!1);else if(u)47===e&&92!==n&&(u=!1);else if(124!==e||124===t.charCodeAt(r+1)||124===t.charCodeAt(r-1)||l||p||f){switch(e){case 34:a=!0;break;case 39:s=!0;break;case 96:c=!0;break;case 40:f++;break;case 41:f--;break;case 91:p++;break;case 93:p--;break;case 123:l++;break;case 125:l--}if(47===e){for(var h=r-1,m=void 0;h>=0&&" "===(m=t.charAt(h));h--);m&&Or.test(m)||(u=!0)}}else void 0===o?(d=r+1,o=t.slice(0,r).trim()):v();function v(){(i||(i=[])).push(t.slice(d,r).trim()),d=r+1}if(void 0===o?o=t.slice(0,r).trim():0!==d&&v(),i)for(r=0;r<i.length;r++)o=Sr(o,i[r]);return o}function Sr(t,e){var n=e.indexOf("(");if(n<0)return'_f("'+e+'")('+t+")";var r=e.slice(0,n),o=e.slice(n+1);return'_f("'+r+'")('+t+(")"!==o?","+o:o)}function Cr(t,e){console.error("[Vue compiler]: "+t)}function Mr(t,e){return t?t.map((function(t){return t[e]})).filter((function(t){return t})):[]}function Er(t,e,n,r,o){(t.props||(t.props=[])).push(Ir({name:e,value:n,dynamic:o},r)),t.plain=!1}function Tr(t,e,n,r,o){(o?t.dynamicAttrs||(t.dynamicAttrs=[]):t.attrs||(t.attrs=[])).push(Ir({name:e,value:n,dynamic:o},r)),t.plain=!1}function Ar(t,e,n,r){t.attrsMap[e]=n,t.attrsList.push(Ir({name:e,value:n},r))}function jr(t,e,n,r,o,i,s,a){(t.directives||(t.directives=[])).push(Ir({name:e,rawName:n,value:r,arg:o,isDynamicArg:i,modifiers:s},a)),t.plain=!1}function $r(t,e,n){return n?"_p("+e+',"'+t+'")':t+e}function Nr(t,e,n,o,i,s,a,c){var u;(o=o||r).right?c?e="("+e+")==='click'?'contextmenu':("+e+")":"click"===e&&(e="contextmenu",delete o.right):o.middle&&(c?e="("+e+")==='click'?'mouseup':("+e+")":"click"===e&&(e="mouseup")),o.capture&&(delete o.capture,e=$r("!",e,c)),o.once&&(delete o.once,e=$r("~",e,c)),o.passive&&(delete o.passive,e=$r("&",e,c)),o.native?(delete o.native,u=t.nativeEvents||(t.nativeEvents={})):u=t.events||(t.events={});var l=Ir({value:n.trim(),dynamic:c},a);o!==r&&(l.modifiers=o);var p=u[e];Array.isArray(p)?i?p.unshift(l):p.push(l):u[e]=p?i?[l,p]:[p,l]:l,t.plain=!1}function Dr(t,e,n){var r=Pr(t,":"+e)||Pr(t,"v-bind:"+e);if(null!=r)return kr(r);if(!1!==n){var o=Pr(t,e);if(null!=o)return JSON.stringify(o)}}function Pr(t,e,n){var r;if(null!=(r=t.attrsMap[e]))for(var o=t.attrsList,i=0,s=o.length;i<s;i++)if(o[i].name===e){o.splice(i,1);break}return n&&delete t.attrsMap[e],r}function Lr(t,e){for(var n=t.attrsList,r=0,o=n.length;r<o;r++){var i=n[r];if(e.test(i.name))return n.splice(r,1),i}}function Ir(t,e){return e&&(null!=e.start&&(t.start=e.start),null!=e.end&&(t.end=e.end)),t}function Rr(t,e,n){var r=n||{},o=r.number,i="$$v";r.trim&&(i="(typeof $$v === 'string'? $$v.trim(): $$v)"),o&&(i="_n("+i+")");var s=zr(e,i);t.model={value:"("+e+")",expression:JSON.stringify(e),callback:"function ($$v) {"+s+"}"}}function zr(t,e){var n=function(t){if(t=t.trim(),vr=t.length,t.indexOf("[")<0||t.lastIndexOf("]")<vr-1)return(br=t.lastIndexOf("."))>-1?{exp:t.slice(0,br),key:'"'+t.slice(br+1)+'"'}:{exp:t,key:null};for(gr=t,br=wr=xr=0;!Fr();)Vr(yr=Br())?Ur(yr):91===yr&&Hr(yr);return{exp:t.slice(0,wr),key:t.slice(wr+1,xr)}}(t);return null===n.key?t+"="+e:"$set("+n.exp+", "+n.key+", "+e+")"}function Br(){return gr.charCodeAt(++br)}function Fr(){return br>=vr}function Vr(t){return 34===t||39===t}function Hr(t){var e=1;for(wr=br;!Fr();)if(Vr(t=Br()))Ur(t);else if(91===t&&e++,93===t&&e--,0===e){xr=br;break}}function Ur(t){for(var e=t;!Fr()&&(t=Br())!==e;);}var qr,Wr="__r";function Jr(t,e,n){var r=qr;return function o(){null!==e.apply(null,arguments)&&Yr(t,o,n,r)}}var Kr=Kt&&!(tt&&Number(tt[1])<=53);function Gr(t,e,n,r){if(Kr){var o=cn,i=e;e=i._wrapper=function(t){if(t.target===t.currentTarget||t.timeStamp>=o||t.timeStamp<=0||t.target.ownerDocument!==document)return i.apply(this,arguments)}}qr.addEventListener(t,e,nt?{capture:n,passive:r}:n)}function Yr(t,e,n,r){(r||qr).removeEventListener(t,e._wrapper||e,n)}function Xr(t,e){if(!o(t.data.on)||!o(e.data.on)){var n=e.data.on||{},r=t.data.on||{};qr=e.elm,function(t){if(i(t.__r)){var e=Y?"change":"input";t[e]=[].concat(t.__r,t[e]||[]),delete t.__r}i(t.__c)&&(t.change=[].concat(t.__c,t.change||[]),delete t.__c)}(n),ae(n,r,Gr,Yr,Jr,e.context),qr=void 0}}var Zr,Qr={create:Xr,update:Xr};function to(t,e){if(!o(t.data.domProps)||!o(e.data.domProps)){var n,r,s=e.elm,a=t.data.domProps||{},c=e.data.domProps||{};for(n in i(c.__ob__)&&(c=e.data.domProps=T({},c)),a)n in c||(s[n]="");for(n in c){if(r=c[n],"textContent"===n||"innerHTML"===n){if(e.children&&(e.children.length=0),r===a[n])continue;1===s.childNodes.length&&s.removeChild(s.childNodes[0])}if("value"===n&&"PROGRESS"!==s.tagName){s._value=r;var u=o(r)?"":String(r);eo(s,u)&&(s.value=u)}else if("innerHTML"===n&&qn(s.tagName)&&o(s.innerHTML)){(Zr=Zr||document.createElement("div")).innerHTML="<svg>"+r+"</svg>";for(var l=Zr.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;l.firstChild;)s.appendChild(l.firstChild)}else if(r!==a[n])try{s[n]=r}catch(t){}}}}function eo(t,e){return!t.composing&&("OPTION"===t.tagName||function(t,e){var n=!0;try{n=document.activeElement!==t}catch(t){}return n&&t.value!==e}(t,e)||function(t,e){var n=t.value,r=t._vModifiers;if(i(r)){if(r.number)return h(n)!==h(e);if(r.trim)return n.trim()!==e.trim()}return n!==e}(t,e))}var no={create:to,update:to},ro=x((function(t){var e={},n=/:(.+)/;return t.split(/;(?![^(]*\))/g).forEach((function(t){if(t){var r=t.split(n);r.length>1&&(e[r[0].trim()]=r[1].trim())}})),e}));function oo(t){var e=io(t.style);return t.staticStyle?T(t.staticStyle,e):e}function io(t){return Array.isArray(t)?A(t):"string"==typeof t?ro(t):t}var so,ao=/^--/,co=/\s*!important$/,uo=function(t,e,n){if(ao.test(e))t.style.setProperty(e,n);else if(co.test(n))t.style.setProperty(C(e),n.replace(co,""),"important");else{var r=po(e);if(Array.isArray(n))for(var o=0,i=n.length;o<i;o++)t.style[r]=n[o];else t.style[r]=n}},lo=["Webkit","Moz","ms"],po=x((function(t){if(so=so||document.createElement("div").style,"filter"!==(t=O(t))&&t in so)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),n=0;n<lo.length;n++){var r=lo[n]+e;if(r in so)return r}}));function fo(t,e){var n=e.data,r=t.data;if(!(o(n.staticStyle)&&o(n.style)&&o(r.staticStyle)&&o(r.style))){var s,a,c=e.elm,u=r.staticStyle,l=r.normalizedStyle||r.style||{},p=u||l,f=io(e.data.style)||{};e.data.normalizedStyle=i(f.__ob__)?T({},f):f;var d=function(t,e){for(var n,r={},o=t;o.componentInstance;)(o=o.componentInstance._vnode)&&o.data&&(n=oo(o.data))&&T(r,n);(n=oo(t.data))&&T(r,n);for(var i=t;i=i.parent;)i.data&&(n=oo(i.data))&&T(r,n);return r}(e);for(a in p)o(d[a])&&uo(c,a,"");for(a in d)(s=d[a])!==p[a]&&uo(c,a,null==s?"":s)}}var ho={create:fo,update:fo},mo=/\s+/;function vo(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(mo).forEach((function(e){return t.classList.add(e)})):t.classList.add(e);else{var n=" "+(t.getAttribute("class")||"")+" ";n.indexOf(" "+e+" ")<0&&t.setAttribute("class",(n+e).trim())}}function go(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(mo).forEach((function(e){return t.classList.remove(e)})):t.classList.remove(e),t.classList.length||t.removeAttribute("class");else{for(var n=" "+(t.getAttribute("class")||"")+" ",r=" "+e+" ";n.indexOf(r)>=0;)n=n.replace(r," ");(n=n.trim())?t.setAttribute("class",n):t.removeAttribute("class")}}function yo(t){if(t){if("object"==typeof t){var e={};return!1!==t.css&&T(e,bo(t.name||"v")),T(e,t),e}return"string"==typeof t?bo(t):void 0}}var bo=x((function(t){return{enterClass:t+"-enter",enterToClass:t+"-enter-to",enterActiveClass:t+"-enter-active",leaveClass:t+"-leave",leaveToClass:t+"-leave-to",leaveActiveClass:t+"-leave-active"}})),wo=W&&!X,xo="transition",_o="animation",Oo="transition",ko="transitionend",So="animation",Co="animationend";wo&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(Oo="WebkitTransition",ko="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(So="WebkitAnimation",Co="webkitAnimationEnd"));var Mo=W?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(t){return t()};function Eo(t){Mo((function(){Mo(t)}))}function To(t,e){var n=t._transitionClasses||(t._transitionClasses=[]);n.indexOf(e)<0&&(n.push(e),vo(t,e))}function Ao(t,e){t._transitionClasses&&y(t._transitionClasses,e),go(t,e)}function jo(t,e,n){var r=No(t,e),o=r.type,i=r.timeout,s=r.propCount;if(!o)return n();var a=o===xo?ko:Co,c=0,u=function(){t.removeEventListener(a,l),n()},l=function(e){e.target===t&&++c>=s&&u()};setTimeout((function(){c<s&&u()}),i+1),t.addEventListener(a,l)}var $o=/\b(transform|all)(,|$)/;function No(t,e){var n,r=window.getComputedStyle(t),o=(r[Oo+"Delay"]||"").split(", "),i=(r[Oo+"Duration"]||"").split(", "),s=Do(o,i),a=(r[So+"Delay"]||"").split(", "),c=(r[So+"Duration"]||"").split(", "),u=Do(a,c),l=0,p=0;return e===xo?s>0&&(n=xo,l=s,p=i.length):e===_o?u>0&&(n=_o,l=u,p=c.length):p=(n=(l=Math.max(s,u))>0?s>u?xo:_o:null)?n===xo?i.length:c.length:0,{type:n,timeout:l,propCount:p,hasTransform:n===xo&&$o.test(r[Oo+"Property"])}}function Do(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max.apply(null,e.map((function(e,n){return Po(e)+Po(t[n])})))}function Po(t){return 1e3*Number(t.slice(0,-1).replace(",","."))}function Lo(t,e){var n=t.elm;i(n._leaveCb)&&(n._leaveCb.cancelled=!0,n._leaveCb());var r=yo(t.data.transition);if(!o(r)&&!i(n._enterCb)&&1===n.nodeType){for(var s=r.css,a=r.type,u=r.enterClass,l=r.enterToClass,p=r.enterActiveClass,f=r.appearClass,d=r.appearToClass,m=r.appearActiveClass,v=r.beforeEnter,g=r.enter,y=r.afterEnter,b=r.enterCancelled,w=r.beforeAppear,x=r.appear,_=r.afterAppear,O=r.appearCancelled,k=r.duration,S=Ye,C=Ye.$vnode;C&&C.parent;)S=C.context,C=C.parent;var M=!S._isMounted||!t.isRootInsert;if(!M||x||""===x){var E=M&&f?f:u,T=M&&m?m:p,A=M&&d?d:l,j=M&&w||v,$=M&&"function"==typeof x?x:g,N=M&&_||y,D=M&&O||b,P=h(c(k)?k.enter:k),I=!1!==s&&!X,R=zo($),z=n._enterCb=L((function(){I&&(Ao(n,A),Ao(n,T)),z.cancelled?(I&&Ao(n,E),D&&D(n)):N&&N(n),n._enterCb=null}));t.data.show||ce(t,"insert",(function(){var e=n.parentNode,r=e&&e._pending&&e._pending[t.key];r&&r.tag===t.tag&&r.elm._leaveCb&&r.elm._leaveCb(),$&&$(n,z)})),j&&j(n),I&&(To(n,E),To(n,T),Eo((function(){Ao(n,E),z.cancelled||(To(n,A),R||(Ro(P)?setTimeout(z,P):jo(n,a,z)))}))),t.data.show&&(e&&e(),$&&$(n,z)),I||R||z()}}}function Io(t,e){var n=t.elm;i(n._enterCb)&&(n._enterCb.cancelled=!0,n._enterCb());var r=yo(t.data.transition);if(o(r)||1!==n.nodeType)return e();if(!i(n._leaveCb)){var s=r.css,a=r.type,u=r.leaveClass,l=r.leaveToClass,p=r.leaveActiveClass,f=r.beforeLeave,d=r.leave,m=r.afterLeave,v=r.leaveCancelled,g=r.delayLeave,y=r.duration,b=!1!==s&&!X,w=zo(d),x=h(c(y)?y.leave:y),_=n._leaveCb=L((function(){n.parentNode&&n.parentNode._pending&&(n.parentNode._pending[t.key]=null),b&&(Ao(n,l),Ao(n,p)),_.cancelled?(b&&Ao(n,u),v&&v(n)):(e(),m&&m(n)),n._leaveCb=null}));g?g(O):O()}function O(){_.cancelled||(!t.data.show&&n.parentNode&&((n.parentNode._pending||(n.parentNode._pending={}))[t.key]=t),f&&f(n),b&&(To(n,u),To(n,p),Eo((function(){Ao(n,u),_.cancelled||(To(n,l),w||(Ro(x)?setTimeout(_,x):jo(n,a,_)))}))),d&&d(n,_),b||w||_())}}function Ro(t){return"number"==typeof t&&!isNaN(t)}function zo(t){if(o(t))return!1;var e=t.fns;return i(e)?zo(Array.isArray(e)?e[0]:e):(t._length||t.length)>1}function Bo(t,e){!0!==e.data.show&&Lo(e)}var Fo=function(t){var e,n,r={},c=t.modules,u=t.nodeOps;for(e=0;e<er.length;++e)for(r[er[e]]=[],n=0;n<c.length;++n)i(c[n][er[e]])&&r[er[e]].push(c[n][er[e]]);function l(t){var e=u.parentNode(t);i(e)&&u.removeChild(e,t)}function p(t,e,n,o,a,c,l){if(i(t.elm)&&i(c)&&(t=c[l]=bt(t)),t.isRootInsert=!a,!function(t,e,n,o){var a=t.data;if(i(a)){var c=i(t.componentInstance)&&a.keepAlive;if(i(a=a.hook)&&i(a=a.init)&&a(t,!1),i(t.componentInstance))return f(t,e),d(n,t.elm,o),s(c)&&function(t,e,n,o){for(var s,a=t;a.componentInstance;)if(i(s=(a=a.componentInstance._vnode).data)&&i(s=s.transition)){for(s=0;s<r.activate.length;++s)r.activate[s](tr,a);e.push(a);break}d(n,t.elm,o)}(t,e,n,o),!0}}(t,e,n,o)){var p=t.data,m=t.children,v=t.tag;i(v)?(t.elm=t.ns?u.createElementNS(t.ns,v):u.createElement(v,t),y(t),h(t,m,e),i(p)&&g(t,e),d(n,t.elm,o)):s(t.isComment)?(t.elm=u.createComment(t.text),d(n,t.elm,o)):(t.elm=u.createTextNode(t.text),d(n,t.elm,o))}}function f(t,e){i(t.data.pendingInsert)&&(e.push.apply(e,t.data.pendingInsert),t.data.pendingInsert=null),t.elm=t.componentInstance.$el,v(t)?(g(t,e),y(t)):(Qn(t),e.push(t))}function d(t,e,n){i(t)&&(i(n)?u.parentNode(n)===t&&u.insertBefore(t,e,n):u.appendChild(t,e))}function h(t,e,n){if(Array.isArray(e))for(var r=0;r<e.length;++r)p(e[r],n,t.elm,null,!0,e,r);else a(t.text)&&u.appendChild(t.elm,u.createTextNode(String(t.text)))}function v(t){for(;t.componentInstance;)t=t.componentInstance._vnode;return i(t.tag)}function g(t,n){for(var o=0;o<r.create.length;++o)r.create[o](tr,t);i(e=t.data.hook)&&(i(e.create)&&e.create(tr,t),i(e.insert)&&n.push(t))}function y(t){var e;if(i(e=t.fnScopeId))u.setStyleScope(t.elm,e);else for(var n=t;n;)i(e=n.context)&&i(e=e.$options._scopeId)&&u.setStyleScope(t.elm,e),n=n.parent;i(e=Ye)&&e!==t.context&&e!==t.fnContext&&i(e=e.$options._scopeId)&&u.setStyleScope(t.elm,e)}function b(t,e,n,r,o,i){for(;r<=o;++r)p(n[r],i,t,e,!1,n,r)}function w(t){var e,n,o=t.data;if(i(o))for(i(e=o.hook)&&i(e=e.destroy)&&e(t),e=0;e<r.destroy.length;++e)r.destroy[e](t);if(i(e=t.children))for(n=0;n<t.children.length;++n)w(t.children[n])}function x(t,e,n){for(;e<=n;++e){var r=t[e];i(r)&&(i(r.tag)?(_(r),w(r)):l(r.elm))}}function _(t,e){if(i(e)||i(t.data)){var n,o=r.remove.length+1;for(i(e)?e.listeners+=o:e=function(t,e){function n(){0==--n.listeners&&l(t)}return n.listeners=e,n}(t.elm,o),i(n=t.componentInstance)&&i(n=n._vnode)&&i(n.data)&&_(n,e),n=0;n<r.remove.length;++n)r.remove[n](t,e);i(n=t.data.hook)&&i(n=n.remove)?n(t,e):e()}else l(t.elm)}function O(t,e,n,r){for(var o=n;o<r;o++){var s=e[o];if(i(s)&&nr(t,s))return o}}function k(t,e,n,a,c,l){if(t!==e){i(e.elm)&&i(a)&&(e=a[c]=bt(e));var f=e.elm=t.elm;if(s(t.isAsyncPlaceholder))i(e.asyncFactory.resolved)?M(t.elm,e,n):e.isAsyncPlaceholder=!0;else if(s(e.isStatic)&&s(t.isStatic)&&e.key===t.key&&(s(e.isCloned)||s(e.isOnce)))e.componentInstance=t.componentInstance;else{var d,h=e.data;i(h)&&i(d=h.hook)&&i(d=d.prepatch)&&d(t,e);var m=t.children,g=e.children;if(i(h)&&v(e)){for(d=0;d<r.update.length;++d)r.update[d](t,e);i(d=h.hook)&&i(d=d.update)&&d(t,e)}o(e.text)?i(m)&&i(g)?m!==g&&function(t,e,n,r,s){for(var a,c,l,f=0,d=0,h=e.length-1,m=e[0],v=e[h],g=n.length-1,y=n[0],w=n[g],_=!s;f<=h&&d<=g;)o(m)?m=e[++f]:o(v)?v=e[--h]:nr(m,y)?(k(m,y,r,n,d),m=e[++f],y=n[++d]):nr(v,w)?(k(v,w,r,n,g),v=e[--h],w=n[--g]):nr(m,w)?(k(m,w,r,n,g),_&&u.insertBefore(t,m.elm,u.nextSibling(v.elm)),m=e[++f],w=n[--g]):nr(v,y)?(k(v,y,r,n,d),_&&u.insertBefore(t,v.elm,m.elm),v=e[--h],y=n[++d]):(o(a)&&(a=rr(e,f,h)),o(c=i(y.key)?a[y.key]:O(y,e,f,h))?p(y,r,t,m.elm,!1,n,d):nr(l=e[c],y)?(k(l,y,r,n,d),e[c]=void 0,_&&u.insertBefore(t,l.elm,m.elm)):p(y,r,t,m.elm,!1,n,d),y=n[++d]);f>h?b(t,o(n[g+1])?null:n[g+1].elm,n,d,g,r):d>g&&x(e,f,h)}(f,m,g,n,l):i(g)?(i(t.text)&&u.setTextContent(f,""),b(f,null,g,0,g.length-1,n)):i(m)?x(m,0,m.length-1):i(t.text)&&u.setTextContent(f,""):t.text!==e.text&&u.setTextContent(f,e.text),i(h)&&i(d=h.hook)&&i(d=d.postpatch)&&d(t,e)}}}function S(t,e,n){if(s(n)&&i(t.parent))t.parent.data.pendingInsert=e;else for(var r=0;r<e.length;++r)e[r].data.hook.insert(e[r])}var C=m("attrs,class,staticClass,staticStyle,key");function M(t,e,n,r){var o,a=e.tag,c=e.data,u=e.children;if(r=r||c&&c.pre,e.elm=t,s(e.isComment)&&i(e.asyncFactory))return e.isAsyncPlaceholder=!0,!0;if(i(c)&&(i(o=c.hook)&&i(o=o.init)&&o(e,!0),i(o=e.componentInstance)))return f(e,n),!0;if(i(a)){if(i(u))if(t.hasChildNodes())if(i(o=c)&&i(o=o.domProps)&&i(o=o.innerHTML)){if(o!==t.innerHTML)return!1}else{for(var l=!0,p=t.firstChild,d=0;d<u.length;d++){if(!p||!M(p,u[d],n,r)){l=!1;break}p=p.nextSibling}if(!l||p)return!1}else h(e,u,n);if(i(c)){var m=!1;for(var v in c)if(!C(v)){m=!0,g(e,n);break}!m&&c.class&&oe(c.class)}}else t.data!==e.text&&(t.data=e.text);return!0}return function(t,e,n,a){if(!o(e)){var c,l=!1,f=[];if(o(t))l=!0,p(e,f);else{var d=i(t.nodeType);if(!d&&nr(t,e))k(t,e,f,null,null,a);else{if(d){if(1===t.nodeType&&t.hasAttribute(I)&&(t.removeAttribute(I),n=!0),s(n)&&M(t,e,f))return S(e,f,!0),t;c=t,t=new mt(u.tagName(c).toLowerCase(),{},[],void 0,c)}var h=t.elm,m=u.parentNode(h);if(p(e,f,h._leaveCb?null:m,u.nextSibling(h)),i(e.parent))for(var g=e.parent,y=v(e);g;){for(var b=0;b<r.destroy.length;++b)r.destroy[b](g);if(g.elm=e.elm,y){for(var _=0;_<r.create.length;++_)r.create[_](tr,g);var O=g.data.hook.insert;if(O.merged)for(var C=1;C<O.fns.length;C++)O.fns[C]()}else Qn(g);g=g.parent}i(m)?x([t],0,0):i(t.tag)&&w(t)}}return S(e,f,l),e.elm}i(t)&&w(t)}}({nodeOps:Xn,modules:[hr,_r,Qr,no,ho,W?{create:Bo,activate:Bo,remove:function(t,e){!0!==t.data.show?Io(t,e):e()}}:{}].concat(lr)});X&&document.addEventListener("selectionchange",(function(){var t=document.activeElement;t&&t.vmodel&&Go(t,"input")}));var Vo={inserted:function(t,e,n,r){"select"===n.tag?(r.elm&&!r.elm._vOptions?ce(n,"postpatch",(function(){Vo.componentUpdated(t,e,n)})):Ho(t,e,n.context),t._vOptions=[].map.call(t.options,Wo)):("textarea"===n.tag||Gn(t.type))&&(t._vModifiers=e.modifiers,e.modifiers.lazy||(t.addEventListener("compositionstart",Jo),t.addEventListener("compositionend",Ko),t.addEventListener("change",Ko),X&&(t.vmodel=!0)))},componentUpdated:function(t,e,n){if("select"===n.tag){Ho(t,e,n.context);var r=t._vOptions,o=t._vOptions=[].map.call(t.options,Wo);o.some((function(t,e){return!D(t,r[e])}))&&(t.multiple?e.value.some((function(t){return qo(t,o)})):e.value!==e.oldValue&&qo(e.value,o))&&Go(t,"change")}}};function Ho(t,e,n){Uo(t,e,n),(Y||Z)&&setTimeout((function(){Uo(t,e,n)}),0)}function Uo(t,e,n){var r=e.value,o=t.multiple;if(!o||Array.isArray(r)){for(var i,s,a=0,c=t.options.length;a<c;a++)if(s=t.options[a],o)i=P(r,Wo(s))>-1,s.selected!==i&&(s.selected=i);else if(D(Wo(s),r))return void(t.selectedIndex!==a&&(t.selectedIndex=a));o||(t.selectedIndex=-1)}}function qo(t,e){return e.every((function(e){return!D(e,t)}))}function Wo(t){return"_value"in t?t._value:t.value}function Jo(t){t.target.composing=!0}function Ko(t){t.target.composing&&(t.target.composing=!1,Go(t.target,"input"))}function Go(t,e){var n=document.createEvent("HTMLEvents");n.initEvent(e,!0,!0),t.dispatchEvent(n)}function Yo(t){return!t.componentInstance||t.data&&t.data.transition?t:Yo(t.componentInstance._vnode)}var Xo={model:Vo,show:{bind:function(t,e,n){var r=e.value,o=(n=Yo(n)).data&&n.data.transition,i=t.__vOriginalDisplay="none"===t.style.display?"":t.style.display;r&&o?(n.data.show=!0,Lo(n,(function(){t.style.display=i}))):t.style.display=r?i:"none"},update:function(t,e,n){var r=e.value;!r!=!e.oldValue&&((n=Yo(n)).data&&n.data.transition?(n.data.show=!0,r?Lo(n,(function(){t.style.display=t.__vOriginalDisplay})):Io(n,(function(){t.style.display="none"}))):t.style.display=r?t.__vOriginalDisplay:"none")},unbind:function(t,e,n,r,o){o||(t.style.display=t.__vOriginalDisplay)}}},Zo={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function Qo(t){var e=t&&t.componentOptions;return e&&e.Ctor.options.abstract?Qo(qe(e.children)):t}function ti(t){var e={},n=t.$options;for(var r in n.propsData)e[r]=t[r];var o=n._parentListeners;for(var i in o)e[O(i)]=o[i];return e}function ei(t,e){if(/\d-keep-alive$/.test(e.tag))return t("keep-alive",{props:e.componentOptions.propsData})}var ni=function(t){return t.tag||me(t)},ri=function(t){return"show"===t.name},oi={name:"transition",props:Zo,abstract:!0,render:function(t){var e=this,n=this.$slots.default;if(n&&(n=n.filter(ni)).length){var r=this.mode,o=n[0];if(function(t){for(;t=t.parent;)if(t.data.transition)return!0}(this.$vnode))return o;var i=Qo(o);if(!i)return o;if(this._leaving)return ei(t,o);var s="__transition-"+this._uid+"-";i.key=null==i.key?i.isComment?s+"comment":s+i.tag:a(i.key)?0===String(i.key).indexOf(s)?i.key:s+i.key:i.key;var c=(i.data||(i.data={})).transition=ti(this),u=this._vnode,l=Qo(u);if(i.data.directives&&i.data.directives.some(ri)&&(i.data.show=!0),l&&l.data&&!function(t,e){return e.key===t.key&&e.tag===t.tag}(i,l)&&!me(l)&&(!l.componentInstance||!l.componentInstance._vnode.isComment)){var p=l.data.transition=T({},c);if("out-in"===r)return this._leaving=!0,ce(p,"afterLeave",(function(){e._leaving=!1,e.$forceUpdate()})),ei(t,o);if("in-out"===r){if(me(i))return u;var f,d=function(){f()};ce(c,"afterEnter",d),ce(c,"enterCancelled",d),ce(p,"delayLeave",(function(t){f=t}))}}return o}}},ii=T({tag:String,moveClass:String},Zo);function si(t){t.elm._moveCb&&t.elm._moveCb(),t.elm._enterCb&&t.elm._enterCb()}function ai(t){t.data.newPos=t.elm.getBoundingClientRect()}function ci(t){var e=t.data.pos,n=t.data.newPos,r=e.left-n.left,o=e.top-n.top;if(r||o){t.data.moved=!0;var i=t.elm.style;i.transform=i.WebkitTransform="translate("+r+"px,"+o+"px)",i.transitionDuration="0s"}}delete ii.mode;var ui={Transition:oi,TransitionGroup:{props:ii,beforeMount:function(){var t=this,e=this._update;this._update=function(n,r){var o=Xe(t);t.__patch__(t._vnode,t.kept,!1,!0),t._vnode=t.kept,o(),e.call(t,n,r)}},render:function(t){for(var e=this.tag||this.$vnode.data.tag||"span",n=Object.create(null),r=this.prevChildren=this.children,o=this.$slots.default||[],i=this.children=[],s=ti(this),a=0;a<o.length;a++){var c=o[a];c.tag&&null!=c.key&&0!==String(c.key).indexOf("__vlist")&&(i.push(c),n[c.key]=c,(c.data||(c.data={})).transition=s)}if(r){for(var u=[],l=[],p=0;p<r.length;p++){var f=r[p];f.data.transition=s,f.data.pos=f.elm.getBoundingClientRect(),n[f.key]?u.push(f):l.push(f)}this.kept=t(e,null,u),this.removed=l}return t(e,null,i)},updated:function(){var t=this.prevChildren,e=this.moveClass||(this.name||"v")+"-move";t.length&&this.hasMove(t[0].elm,e)&&(t.forEach(si),t.forEach(ai),t.forEach(ci),this._reflow=document.body.offsetHeight,t.forEach((function(t){if(t.data.moved){var n=t.elm,r=n.style;To(n,e),r.transform=r.WebkitTransform=r.transitionDuration="",n.addEventListener(ko,n._moveCb=function t(r){r&&r.target!==n||r&&!/transform$/.test(r.propertyName)||(n.removeEventListener(ko,t),n._moveCb=null,Ao(n,e))})}})))},methods:{hasMove:function(t,e){if(!wo)return!1;if(this._hasMove)return this._hasMove;var n=t.cloneNode();t._transitionClasses&&t._transitionClasses.forEach((function(t){go(n,t)})),vo(n,e),n.style.display="none",this.$el.appendChild(n);var r=No(n);return this.$el.removeChild(n),this._hasMove=r.hasTransform}}}};On.config.mustUseProp=$n,On.config.isReservedTag=Wn,On.config.isReservedAttr=An,On.config.getTagNamespace=Jn,On.config.isUnknownElement=function(t){if(!W)return!0;if(Wn(t))return!1;if(t=t.toLowerCase(),null!=Kn[t])return Kn[t];var e=document.createElement(t);return t.indexOf("-")>-1?Kn[t]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:Kn[t]=/HTMLUnknownElement/.test(e.toString())},T(On.options.directives,Xo),T(On.options.components,ui),On.prototype.__patch__=W?Fo:j,On.prototype.$mount=function(t,e){return function(t,e,n){var r;return t.$el=e,t.$options.render||(t.$options.render=gt),tn(t,"beforeMount"),r=function(){t._update(t._render(),n)},new dn(t,r,j,{before:function(){t._isMounted&&!t._isDestroyed&&tn(t,"beforeUpdate")}},!0),n=!1,null==t.$vnode&&(t._isMounted=!0,tn(t,"mounted")),t}(this,t=t&&W?Yn(t):void 0,e)},W&&setTimeout((function(){B.devtools&&it&&it.emit("init",On)}),0);var li,pi=/\{\{((?:.|\r?\n)+?)\}\}/g,fi=/[-.*+?^${}()|[\]\/\\]/g,di=x((function(t){var e=t[0].replace(fi,"\\$&"),n=t[1].replace(fi,"\\$&");return new RegExp(e+"((?:.|\\n)+?)"+n,"g")})),hi={staticKeys:["staticClass"],transformNode:function(t,e){e.warn;var n=Pr(t,"class");n&&(t.staticClass=JSON.stringify(n));var r=Dr(t,"class",!1);r&&(t.classBinding=r)},genData:function(t){var e="";return t.staticClass&&(e+="staticClass:"+t.staticClass+","),t.classBinding&&(e+="class:"+t.classBinding+","),e}},mi={staticKeys:["staticStyle"],transformNode:function(t,e){e.warn;var n=Pr(t,"style");n&&(t.staticStyle=JSON.stringify(ro(n)));var r=Dr(t,"style",!1);r&&(t.styleBinding=r)},genData:function(t){var e="";return t.staticStyle&&(e+="staticStyle:"+t.staticStyle+","),t.styleBinding&&(e+="style:("+t.styleBinding+"),"),e}},vi=m("area,base,br,col,embed,frame,hr,img,input,isindex,keygen,link,meta,param,source,track,wbr"),gi=m("colgroup,dd,dt,li,options,p,td,tfoot,th,thead,tr,source"),yi=m("address,article,aside,base,blockquote,body,caption,col,colgroup,dd,details,dialog,div,dl,dt,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,head,header,hgroup,hr,html,legend,li,menuitem,meta,optgroup,option,param,rp,rt,source,style,summary,tbody,td,tfoot,th,thead,title,tr,track"),bi=/^\s*([^\s"'<>\/=]+)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/,wi=/^\s*((?:v-[\w-]+:|@|:|#)\[[^=]+?\][^\s"'<>\/=]*)(?:\s*(=)\s*(?:"([^"]*)"+|'([^']*)'+|([^\s"'=<>`]+)))?/,xi="[a-zA-Z_][\\-\\.0-9_a-zA-Z"+F.source+"]*",_i="((?:"+xi+"\\:)?"+xi+")",Oi=new RegExp("^<"+_i),ki=/^\s*(\/?)>/,Si=new RegExp("^<\\/"+_i+"[^>]*>"),Ci=/^<!DOCTYPE [^>]+>/i,Mi=/^<!\--/,Ei=/^<!\[/,Ti=m("script,style,textarea",!0),Ai={},ji={"&lt;":"<","&gt;":">","&quot;":'"',"&amp;":"&","&#10;":"\n","&#9;":"\t","&#39;":"'"},$i=/&(?:lt|gt|quot|amp|#39);/g,Ni=/&(?:lt|gt|quot|amp|#39|#10|#9);/g,Di=m("pre,textarea",!0),Pi=function(t,e){return t&&Di(t)&&"\n"===e[0]};function Li(t,e){var n=e?Ni:$i;return t.replace(n,(function(t){return ji[t]}))}var Ii,Ri,zi,Bi,Fi,Vi,Hi,Ui,qi=/^@|^v-on:/,Wi=/^v-|^@|^:|^#/,Ji=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,Ki=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,Gi=/^\(|\)$/g,Yi=/^\[.*\]$/,Xi=/:(.*)$/,Zi=/^:|^\.|^v-bind:/,Qi=/\.[^.\]]+(?=[^\]]*$)/g,ts=/^v-slot(:|$)|^#/,es=/[\r\n]/,ns=/[ \f\t\r\n]+/g,rs=x((function(t){return(li=li||document.createElement("div")).innerHTML=t,li.textContent})),os="_empty_";function is(t,e,n){return{type:1,tag:t,attrsList:e,attrsMap:ps(e),rawAttrsMap:{},parent:n,children:[]}}function ss(t,e){var n,r;(r=Dr(n=t,"key"))&&(n.key=r),t.plain=!t.key&&!t.scopedSlots&&!t.attrsList.length,function(t){var e=Dr(t,"ref");e&&(t.ref=e,t.refInFor=function(t){for(var e=t;e;){if(void 0!==e.for)return!0;e=e.parent}return!1}(t))}(t),function(t){var e;"template"===t.tag?(e=Pr(t,"scope"),t.slotScope=e||Pr(t,"slot-scope")):(e=Pr(t,"slot-scope"))&&(t.slotScope=e);var n=Dr(t,"slot");if(n&&(t.slotTarget='""'===n?'"default"':n,t.slotTargetDynamic=!(!t.attrsMap[":slot"]&&!t.attrsMap["v-bind:slot"]),"template"===t.tag||t.slotScope||Tr(t,"slot",n,function(t,e){return t.rawAttrsMap[":"+e]||t.rawAttrsMap["v-bind:"+e]||t.rawAttrsMap[e]}(t,"slot"))),"template"===t.tag){var r=Lr(t,ts);if(r){var o=us(r),i=o.name,s=o.dynamic;t.slotTarget=i,t.slotTargetDynamic=s,t.slotScope=r.value||os}}else{var a=Lr(t,ts);if(a){var c=t.scopedSlots||(t.scopedSlots={}),u=us(a),l=u.name,p=u.dynamic,f=c[l]=is("template",[],t);f.slotTarget=l,f.slotTargetDynamic=p,f.children=t.children.filter((function(t){if(!t.slotScope)return t.parent=f,!0})),f.slotScope=a.value||os,t.children=[],t.plain=!1}}}(t),function(t){"slot"===t.tag&&(t.slotName=Dr(t,"name"))}(t),function(t){var e;(e=Dr(t,"is"))&&(t.component=e),null!=Pr(t,"inline-template")&&(t.inlineTemplate=!0)}(t);for(var o=0;o<zi.length;o++)t=zi[o](t,e)||t;return function(t){var e,n,r,o,i,s,a,c,u=t.attrsList;for(e=0,n=u.length;e<n;e++)if(r=o=u[e].name,i=u[e].value,Wi.test(r))if(t.hasBindings=!0,(s=ls(r.replace(Wi,"")))&&(r=r.replace(Qi,"")),Zi.test(r))r=r.replace(Zi,""),i=kr(i),(c=Yi.test(r))&&(r=r.slice(1,-1)),s&&(s.prop&&!c&&"innerHtml"===(r=O(r))&&(r="innerHTML"),s.camel&&!c&&(r=O(r)),s.sync&&(a=zr(i,"$event"),c?Nr(t,'"update:"+('+r+")",a,null,!1,0,u[e],!0):(Nr(t,"update:"+O(r),a,null,!1,0,u[e]),C(r)!==O(r)&&Nr(t,"update:"+C(r),a,null,!1,0,u[e])))),s&&s.prop||!t.component&&Hi(t.tag,t.attrsMap.type,r)?Er(t,r,i,u[e],c):Tr(t,r,i,u[e],c);else if(qi.test(r))r=r.replace(qi,""),(c=Yi.test(r))&&(r=r.slice(1,-1)),Nr(t,r,i,s,!1,0,u[e],c);else{var l=(r=r.replace(Wi,"")).match(Xi),p=l&&l[1];c=!1,p&&(r=r.slice(0,-(p.length+1)),Yi.test(p)&&(p=p.slice(1,-1),c=!0)),jr(t,r,o,i,p,c,s,u[e])}else Tr(t,r,JSON.stringify(i),u[e]),!t.component&&"muted"===r&&Hi(t.tag,t.attrsMap.type,r)&&Er(t,r,"true",u[e])}(t),t}function as(t){var e;if(e=Pr(t,"v-for")){var n=function(t){var e=t.match(Ji);if(e){var n={};n.for=e[2].trim();var r=e[1].trim().replace(Gi,""),o=r.match(Ki);return o?(n.alias=r.replace(Ki,"").trim(),n.iterator1=o[1].trim(),o[2]&&(n.iterator2=o[2].trim())):n.alias=r,n}}(e);n&&T(t,n)}}function cs(t,e){t.ifConditions||(t.ifConditions=[]),t.ifConditions.push(e)}function us(t){var e=t.name.replace(ts,"");return e||"#"!==t.name[0]&&(e="default"),Yi.test(e)?{name:e.slice(1,-1),dynamic:!0}:{name:'"'+e+'"',dynamic:!1}}function ls(t){var e=t.match(Qi);if(e){var n={};return e.forEach((function(t){n[t.slice(1)]=!0})),n}}function ps(t){for(var e={},n=0,r=t.length;n<r;n++)e[t[n].name]=t[n].value;return e}var fs=/^xmlns:NS\d+/,ds=/^NS\d+:/;function hs(t){return is(t.tag,t.attrsList.slice(),t.parent)}var ms,vs,gs=[hi,mi,{preTransformNode:function(t,e){if("input"===t.tag){var n,r=t.attrsMap;if(!r["v-model"])return;if((r[":type"]||r["v-bind:type"])&&(n=Dr(t,"type")),r.type||n||!r["v-bind"]||(n="("+r["v-bind"]+").type"),n){var o=Pr(t,"v-if",!0),i=o?"&&("+o+")":"",s=null!=Pr(t,"v-else",!0),a=Pr(t,"v-else-if",!0),c=hs(t);as(c),Ar(c,"type","checkbox"),ss(c,e),c.processed=!0,c.if="("+n+")==='checkbox'"+i,cs(c,{exp:c.if,block:c});var u=hs(t);Pr(u,"v-for",!0),Ar(u,"type","radio"),ss(u,e),cs(c,{exp:"("+n+")==='radio'"+i,block:u});var l=hs(t);return Pr(l,"v-for",!0),Ar(l,":type",n),ss(l,e),cs(c,{exp:o,block:l}),s?c.else=!0:a&&(c.elseif=a),c}}}}],ys={expectHTML:!0,modules:gs,directives:{model:function(t,e,n){var r=e.value,o=e.modifiers,i=t.tag,s=t.attrsMap.type;if(t.component)return Rr(t,r,o),!1;if("select"===i)!function(t,e,n){var r='var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = "_value" in o ? o._value : o.value;return '+(n&&n.number?"_n(val)":"val")+"});";Nr(t,"change",r=r+" "+zr(e,"$event.target.multiple ? $$selectedVal : $$selectedVal[0]"),null,!0)}(t,r,o);else if("input"===i&&"checkbox"===s)!function(t,e,n){var r=n&&n.number,o=Dr(t,"value")||"null",i=Dr(t,"true-value")||"true",s=Dr(t,"false-value")||"false";Er(t,"checked","Array.isArray("+e+")?_i("+e+","+o+")>-1"+("true"===i?":("+e+")":":_q("+e+","+i+")")),Nr(t,"change","var $$a="+e+",$$el=$event.target,$$c=$$el.checked?("+i+"):("+s+");if(Array.isArray($$a)){var $$v="+(r?"_n("+o+")":o)+",$$i=_i($$a,$$v);if($$el.checked){$$i<0&&("+zr(e,"$$a.concat([$$v])")+")}else{$$i>-1&&("+zr(e,"$$a.slice(0,$$i).concat($$a.slice($$i+1))")+")}}else{"+zr(e,"$$c")+"}",null,!0)}(t,r,o);else if("input"===i&&"radio"===s)!function(t,e,n){var r=n&&n.number,o=Dr(t,"value")||"null";Er(t,"checked","_q("+e+","+(o=r?"_n("+o+")":o)+")"),Nr(t,"change",zr(e,o),null,!0)}(t,r,o);else if("input"===i||"textarea"===i)!function(t,e,n){var r=t.attrsMap.type,o=n||{},i=o.lazy,s=o.number,a=o.trim,c=!i&&"range"!==r,u=i?"change":"range"===r?Wr:"input",l="$event.target.value";a&&(l="$event.target.value.trim()"),s&&(l="_n("+l+")");var p=zr(e,l);c&&(p="if($event.target.composing)return;"+p),Er(t,"value","("+e+")"),Nr(t,u,p,null,!0),(a||s)&&Nr(t,"blur","$forceUpdate()")}(t,r,o);else if(!B.isReservedTag(i))return Rr(t,r,o),!1;return!0},text:function(t,e){e.value&&Er(t,"textContent","_s("+e.value+")",e)},html:function(t,e){e.value&&Er(t,"innerHTML","_s("+e.value+")",e)}},isPreTag:function(t){return"pre"===t},isUnaryTag:vi,mustUseProp:$n,canBeLeftOpenTag:gi,isReservedTag:Wn,getTagNamespace:Jn,staticKeys:function(t){return t.reduce((function(t,e){return t.concat(e.staticKeys||[])}),[]).join(",")}(gs)},bs=x((function(t){return m("type,tag,attrsList,attrsMap,plain,parent,children,attrs,start,end,rawAttrsMap"+(t?","+t:""))}));var ws=/^([\w$_]+|\([^)]*?\))\s*=>|^function(?:\s+[\w$]+)?\s*\(/,xs=/\([^)]*?\);*$/,_s=/^[A-Za-z_$][\w$]*(?:\.[A-Za-z_$][\w$]*|\['[^']*?']|\["[^"]*?"]|\[\d+]|\[[A-Za-z_$][\w$]*])*$/,Os={esc:27,tab:9,enter:13,space:32,up:38,left:37,right:39,down:40,delete:[8,46]},ks={esc:["Esc","Escape"],tab:"Tab",enter:"Enter",space:[" ","Spacebar"],up:["Up","ArrowUp"],left:["Left","ArrowLeft"],right:["Right","ArrowRight"],down:["Down","ArrowDown"],delete:["Backspace","Delete","Del"]},Ss=function(t){return"if("+t+")return null;"},Cs={stop:"$event.stopPropagation();",prevent:"$event.preventDefault();",self:Ss("$event.target !== $event.currentTarget"),ctrl:Ss("!$event.ctrlKey"),shift:Ss("!$event.shiftKey"),alt:Ss("!$event.altKey"),meta:Ss("!$event.metaKey"),left:Ss("'button' in $event && $event.button !== 0"),middle:Ss("'button' in $event && $event.button !== 1"),right:Ss("'button' in $event && $event.button !== 2")};function Ms(t,e){var n=e?"nativeOn:":"on:",r="",o="";for(var i in t){var s=Es(t[i]);t[i]&&t[i].dynamic?o+=i+","+s+",":r+='"'+i+'":'+s+","}return r="{"+r.slice(0,-1)+"}",o?n+"_d("+r+",["+o.slice(0,-1)+"])":n+r}function Es(t){if(!t)return"function(){}";if(Array.isArray(t))return"["+t.map((function(t){return Es(t)})).join(",")+"]";var e=_s.test(t.value),n=ws.test(t.value),r=_s.test(t.value.replace(xs,""));if(t.modifiers){var o="",i="",s=[];for(var a in t.modifiers)if(Cs[a])i+=Cs[a],Os[a]&&s.push(a);else if("exact"===a){var c=t.modifiers;i+=Ss(["ctrl","shift","alt","meta"].filter((function(t){return!c[t]})).map((function(t){return"$event."+t+"Key"})).join("||"))}else s.push(a);return s.length&&(o+=function(t){return"if(!$event.type.indexOf('key')&&"+t.map(Ts).join("&&")+")return null;"}(s)),i&&(o+=i),"function($event){"+o+(e?"return "+t.value+".apply(null, arguments)":n?"return ("+t.value+").apply(null, arguments)":r?"return "+t.value:t.value)+"}"}return e||n?t.value:"function($event){"+(r?"return "+t.value:t.value)+"}"}function Ts(t){var e=parseInt(t,10);if(e)return"$event.keyCode!=="+e;var n=Os[t],r=ks[t];return"_k($event.keyCode,"+JSON.stringify(t)+","+JSON.stringify(n)+",$event.key,"+JSON.stringify(r)+")"}var As={on:function(t,e){t.wrapListeners=function(t){return"_g("+t+","+e.value+")"}},bind:function(t,e){t.wrapData=function(n){return"_b("+n+",'"+t.tag+"',"+e.value+","+(e.modifiers&&e.modifiers.prop?"true":"false")+(e.modifiers&&e.modifiers.sync?",true":"")+")"}},cloak:j},js=function(t){this.options=t,this.warn=t.warn||Cr,this.transforms=Mr(t.modules,"transformCode"),this.dataGenFns=Mr(t.modules,"genData"),this.directives=T(T({},As),t.directives);var e=t.isReservedTag||$;this.maybeComponent=function(t){return!!t.component||!e(t.tag)},this.onceId=0,this.staticRenderFns=[],this.pre=!1};function $s(t,e){var n=new js(e);return{render:"with(this){return "+(t?"script"===t.tag?"null":Ns(t,n):'_c("div")')+"}",staticRenderFns:n.staticRenderFns}}function Ns(t,e){if(t.parent&&(t.pre=t.pre||t.parent.pre),t.staticRoot&&!t.staticProcessed)return Ds(t,e);if(t.once&&!t.onceProcessed)return Ps(t,e);if(t.for&&!t.forProcessed)return Is(t,e);if(t.if&&!t.ifProcessed)return Ls(t,e);if("template"!==t.tag||t.slotTarget||e.pre){if("slot"===t.tag)return function(t,e){var n=t.slotName||'"default"',r=Fs(t,e),o="_t("+n+(r?",function(){return "+r+"}":""),i=t.attrs||t.dynamicAttrs?Us((t.attrs||[]).concat(t.dynamicAttrs||[]).map((function(t){return{name:O(t.name),value:t.value,dynamic:t.dynamic}}))):null,s=t.attrsMap["v-bind"];return!i&&!s||r||(o+=",null"),i&&(o+=","+i),s&&(o+=(i?"":",null")+","+s),o+")"}(t,e);var n;if(t.component)n=function(t,e,n){var r=e.inlineTemplate?null:Fs(e,n,!0);return"_c("+t+","+Rs(e,n)+(r?","+r:"")+")"}(t.component,t,e);else{var r;(!t.plain||t.pre&&e.maybeComponent(t))&&(r=Rs(t,e));var o=t.inlineTemplate?null:Fs(t,e,!0);n="_c('"+t.tag+"'"+(r?","+r:"")+(o?","+o:"")+")"}for(var i=0;i<e.transforms.length;i++)n=e.transforms[i](t,n);return n}return Fs(t,e)||"void 0"}function Ds(t,e){t.staticProcessed=!0;var n=e.pre;return t.pre&&(e.pre=t.pre),e.staticRenderFns.push("with(this){return "+Ns(t,e)+"}"),e.pre=n,"_m("+(e.staticRenderFns.length-1)+(t.staticInFor?",true":"")+")"}function Ps(t,e){if(t.onceProcessed=!0,t.if&&!t.ifProcessed)return Ls(t,e);if(t.staticInFor){for(var n="",r=t.parent;r;){if(r.for){n=r.key;break}r=r.parent}return n?"_o("+Ns(t,e)+","+e.onceId+++","+n+")":Ns(t,e)}return Ds(t,e)}function Ls(t,e,n,r){return t.ifProcessed=!0,function t(e,n,r,o){if(!e.length)return o||"_e()";var i=e.shift();return i.exp?"("+i.exp+")?"+s(i.block)+":"+t(e,n,r,o):""+s(i.block);function s(t){return r?r(t,n):t.once?Ps(t,n):Ns(t,n)}}(t.ifConditions.slice(),e,n,r)}function Is(t,e,n,r){var o=t.for,i=t.alias,s=t.iterator1?","+t.iterator1:"",a=t.iterator2?","+t.iterator2:"";return t.forProcessed=!0,(r||"_l")+"(("+o+"),function("+i+s+a+"){return "+(n||Ns)(t,e)+"})"}function Rs(t,e){var n="{",r=function(t,e){var n=t.directives;if(n){var r,o,i,s,a="directives:[",c=!1;for(r=0,o=n.length;r<o;r++){i=n[r],s=!0;var u=e.directives[i.name];u&&(s=!!u(t,i,e.warn)),s&&(c=!0,a+='{name:"'+i.name+'",rawName:"'+i.rawName+'"'+(i.value?",value:("+i.value+"),expression:"+JSON.stringify(i.value):"")+(i.arg?",arg:"+(i.isDynamicArg?i.arg:'"'+i.arg+'"'):"")+(i.modifiers?",modifiers:"+JSON.stringify(i.modifiers):"")+"},")}return c?a.slice(0,-1)+"]":void 0}}(t,e);r&&(n+=r+","),t.key&&(n+="key:"+t.key+","),t.ref&&(n+="ref:"+t.ref+","),t.refInFor&&(n+="refInFor:true,"),t.pre&&(n+="pre:true,"),t.component&&(n+='tag:"'+t.tag+'",');for(var o=0;o<e.dataGenFns.length;o++)n+=e.dataGenFns[o](t);if(t.attrs&&(n+="attrs:"+Us(t.attrs)+","),t.props&&(n+="domProps:"+Us(t.props)+","),t.events&&(n+=Ms(t.events,!1)+","),t.nativeEvents&&(n+=Ms(t.nativeEvents,!0)+","),t.slotTarget&&!t.slotScope&&(n+="slot:"+t.slotTarget+","),t.scopedSlots&&(n+=function(t,e,n){var r=t.for||Object.keys(e).some((function(t){var n=e[t];return n.slotTargetDynamic||n.if||n.for||zs(n)})),o=!!t.if;if(!r)for(var i=t.parent;i;){if(i.slotScope&&i.slotScope!==os||i.for){r=!0;break}i.if&&(o=!0),i=i.parent}var s=Object.keys(e).map((function(t){return Bs(e[t],n)})).join(",");return"scopedSlots:_u(["+s+"]"+(r?",null,true":"")+(!r&&o?",null,false,"+function(t){for(var e=5381,n=t.length;n;)e=33*e^t.charCodeAt(--n);return e>>>0}(s):"")+")"}(t,t.scopedSlots,e)+","),t.model&&(n+="model:{value:"+t.model.value+",callback:"+t.model.callback+",expression:"+t.model.expression+"},"),t.inlineTemplate){var i=function(t,e){var n=t.children[0];if(n&&1===n.type){var r=$s(n,e.options);return"inlineTemplate:{render:function(){"+r.render+"},staticRenderFns:["+r.staticRenderFns.map((function(t){return"function(){"+t+"}"})).join(",")+"]}"}}(t,e);i&&(n+=i+",")}return n=n.replace(/,$/,"")+"}",t.dynamicAttrs&&(n="_b("+n+',"'+t.tag+'",'+Us(t.dynamicAttrs)+")"),t.wrapData&&(n=t.wrapData(n)),t.wrapListeners&&(n=t.wrapListeners(n)),n}function zs(t){return 1===t.type&&("slot"===t.tag||t.children.some(zs))}function Bs(t,e){var n=t.attrsMap["slot-scope"];if(t.if&&!t.ifProcessed&&!n)return Ls(t,e,Bs,"null");if(t.for&&!t.forProcessed)return Is(t,e,Bs);var r=t.slotScope===os?"":String(t.slotScope),o="function("+r+"){return "+("template"===t.tag?t.if&&n?"("+t.if+")?"+(Fs(t,e)||"undefined")+":undefined":Fs(t,e)||"undefined":Ns(t,e))+"}",i=r?"":",proxy:true";return"{key:"+(t.slotTarget||'"default"')+",fn:"+o+i+"}"}function Fs(t,e,n,r,o){var i=t.children;if(i.length){var s=i[0];if(1===i.length&&s.for&&"template"!==s.tag&&"slot"!==s.tag){var a=n?e.maybeComponent(s)?",1":",0":"";return""+(r||Ns)(s,e)+a}var c=n?function(t,e){for(var n=0,r=0;r<t.length;r++){var o=t[r];if(1===o.type){if(Vs(o)||o.ifConditions&&o.ifConditions.some((function(t){return Vs(t.block)}))){n=2;break}(e(o)||o.ifConditions&&o.ifConditions.some((function(t){return e(t.block)})))&&(n=1)}}return n}(i,e.maybeComponent):0,u=o||Hs;return"["+i.map((function(t){return u(t,e)})).join(",")+"]"+(c?","+c:"")}}function Vs(t){return void 0!==t.for||"template"===t.tag||"slot"===t.tag}function Hs(t,e){return 1===t.type?Ns(t,e):3===t.type&&t.isComment?(r=t,"_e("+JSON.stringify(r.text)+")"):"_v("+(2===(n=t).type?n.expression:qs(JSON.stringify(n.text)))+")";var n,r}function Us(t){for(var e="",n="",r=0;r<t.length;r++){var o=t[r],i=qs(o.value);o.dynamic?n+=o.name+","+i+",":e+='"'+o.name+'":'+i+","}return e="{"+e.slice(0,-1)+"}",n?"_d("+e+",["+n.slice(0,-1)+"])":e}function qs(t){return t.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}function Ws(t,e){try{return new Function(t)}catch(n){return e.push({err:n,code:t}),j}}function Js(t){var e=Object.create(null);return function(n,r,o){(r=T({},r)).warn,delete r.warn;var i=r.delimiters?String(r.delimiters)+n:n;if(e[i])return e[i];var s=t(n,r),a={},c=[];return a.render=Ws(s.render,c),a.staticRenderFns=s.staticRenderFns.map((function(t){return Ws(t,c)})),e[i]=a}}new RegExp("\\b"+"do,if,for,let,new,try,var,case,else,with,await,break,catch,class,const,super,throw,while,yield,delete,export,import,return,switch,default,extends,finally,continue,debugger,function,arguments".split(",").join("\\b|\\b")+"\\b");var Ks,Gs,Ys=(Ks=function(t,e){var n=function(t,e){Ii=e.warn||Cr,Vi=e.isPreTag||$,Hi=e.mustUseProp||$,Ui=e.getTagNamespace||$,e.isReservedTag,zi=Mr(e.modules,"transformNode"),Bi=Mr(e.modules,"preTransformNode"),Fi=Mr(e.modules,"postTransformNode"),Ri=e.delimiters;var n,r,o=[],i=!1!==e.preserveWhitespace,s=e.whitespace,a=!1,c=!1;function u(t){if(l(t),a||t.processed||(t=ss(t,e)),o.length||t===n||n.if&&(t.elseif||t.else)&&cs(n,{exp:t.elseif,block:t}),r&&!t.forbidden)if(t.elseif||t.else)s=t,(u=function(t){for(var e=t.length;e--;){if(1===t[e].type)return t[e];t.pop()}}(r.children))&&u.if&&cs(u,{exp:s.elseif,block:s});else{if(t.slotScope){var i=t.slotTarget||'"default"';(r.scopedSlots||(r.scopedSlots={}))[i]=t}r.children.push(t),t.parent=r}var s,u;t.children=t.children.filter((function(t){return!t.slotScope})),l(t),t.pre&&(a=!1),Vi(t.tag)&&(c=!1);for(var p=0;p<Fi.length;p++)Fi[p](t,e)}function l(t){if(!c)for(var e;(e=t.children[t.children.length-1])&&3===e.type&&" "===e.text;)t.children.pop()}return function(t,e){for(var n,r,o=[],i=e.expectHTML,s=e.isUnaryTag||$,a=e.canBeLeftOpenTag||$,c=0;t;){if(n=t,r&&Ti(r)){var u=0,l=r.toLowerCase(),p=Ai[l]||(Ai[l]=new RegExp("([\\s\\S]*?)(</"+l+"[^>]*>)","i")),f=t.replace(p,(function(t,n,r){return u=r.length,Ti(l)||"noscript"===l||(n=n.replace(/<!\--([\s\S]*?)-->/g,"$1").replace(/<!\[CDATA\[([\s\S]*?)]]>/g,"$1")),Pi(l,n)&&(n=n.slice(1)),e.chars&&e.chars(n),""}));c+=t.length-f.length,t=f,C(l,c-u,c)}else{var d=t.indexOf("<");if(0===d){if(Mi.test(t)){var h=t.indexOf("--\x3e");if(h>=0){e.shouldKeepComment&&e.comment(t.substring(4,h),c,c+h+3),O(h+3);continue}}if(Ei.test(t)){var m=t.indexOf("]>");if(m>=0){O(m+2);continue}}var v=t.match(Ci);if(v){O(v[0].length);continue}var g=t.match(Si);if(g){var y=c;O(g[0].length),C(g[1],y,c);continue}var b=k();if(b){S(b),Pi(b.tagName,t)&&O(1);continue}}var w=void 0,x=void 0,_=void 0;if(d>=0){for(x=t.slice(d);!(Si.test(x)||Oi.test(x)||Mi.test(x)||Ei.test(x)||(_=x.indexOf("<",1))<0);)d+=_,x=t.slice(d);w=t.substring(0,d)}d<0&&(w=t),w&&O(w.length),e.chars&&w&&e.chars(w,c-w.length,c)}if(t===n){e.chars&&e.chars(t);break}}function O(e){c+=e,t=t.substring(e)}function k(){var e=t.match(Oi);if(e){var n,r,o={tagName:e[1],attrs:[],start:c};for(O(e[0].length);!(n=t.match(ki))&&(r=t.match(wi)||t.match(bi));)r.start=c,O(r[0].length),r.end=c,o.attrs.push(r);if(n)return o.unarySlash=n[1],O(n[0].length),o.end=c,o}}function S(t){var n=t.tagName,c=t.unarySlash;i&&("p"===r&&yi(n)&&C(r),a(n)&&r===n&&C(n));for(var u=s(n)||!!c,l=t.attrs.length,p=new Array(l),f=0;f<l;f++){var d=t.attrs[f],h=d[3]||d[4]||d[5]||"",m="a"===n&&"href"===d[1]?e.shouldDecodeNewlinesForHref:e.shouldDecodeNewlines;p[f]={name:d[1],value:Li(h,m)}}u||(o.push({tag:n,lowerCasedTag:n.toLowerCase(),attrs:p,start:t.start,end:t.end}),r=n),e.start&&e.start(n,p,u,t.start,t.end)}function C(t,n,i){var s,a;if(null==n&&(n=c),null==i&&(i=c),t)for(a=t.toLowerCase(),s=o.length-1;s>=0&&o[s].lowerCasedTag!==a;s--);else s=0;if(s>=0){for(var u=o.length-1;u>=s;u--)e.end&&e.end(o[u].tag,n,i);o.length=s,r=s&&o[s-1].tag}else"br"===a?e.start&&e.start(t,[],!0,n,i):"p"===a&&(e.start&&e.start(t,[],!1,n,i),e.end&&e.end(t,n,i))}C()}(t,{warn:Ii,expectHTML:e.expectHTML,isUnaryTag:e.isUnaryTag,canBeLeftOpenTag:e.canBeLeftOpenTag,shouldDecodeNewlines:e.shouldDecodeNewlines,shouldDecodeNewlinesForHref:e.shouldDecodeNewlinesForHref,shouldKeepComment:e.comments,outputSourceRange:e.outputSourceRange,start:function(t,i,s,l,p){var f=r&&r.ns||Ui(t);Y&&"svg"===f&&(i=function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];fs.test(r.name)||(r.name=r.name.replace(ds,""),e.push(r))}return e}(i));var d,h=is(t,i,r);f&&(h.ns=f),"style"!==(d=h).tag&&("script"!==d.tag||d.attrsMap.type&&"text/javascript"!==d.attrsMap.type)||ot()||(h.forbidden=!0);for(var m=0;m<Bi.length;m++)h=Bi[m](h,e)||h;a||(function(t){null!=Pr(t,"v-pre")&&(t.pre=!0)}(h),h.pre&&(a=!0)),Vi(h.tag)&&(c=!0),a?function(t){var e=t.attrsList,n=e.length;if(n)for(var r=t.attrs=new Array(n),o=0;o<n;o++)r[o]={name:e[o].name,value:JSON.stringify(e[o].value)},null!=e[o].start&&(r[o].start=e[o].start,r[o].end=e[o].end);else t.pre||(t.plain=!0)}(h):h.processed||(as(h),function(t){var e=Pr(t,"v-if");if(e)t.if=e,cs(t,{exp:e,block:t});else{null!=Pr(t,"v-else")&&(t.else=!0);var n=Pr(t,"v-else-if");n&&(t.elseif=n)}}(h),function(t){null!=Pr(t,"v-once")&&(t.once=!0)}(h)),n||(n=h),s?u(h):(r=h,o.push(h))},end:function(t,e,n){var i=o[o.length-1];o.length-=1,r=o[o.length-1],u(i)},chars:function(t,e,n){if(r&&(!Y||"textarea"!==r.tag||r.attrsMap.placeholder!==t)){var o,u,l,p=r.children;(t=c||t.trim()?"script"===(o=r).tag||"style"===o.tag?t:rs(t):p.length?s?"condense"===s&&es.test(t)?"":" ":i?" ":"":"")&&(c||"condense"!==s||(t=t.replace(ns," ")),!a&&" "!==t&&(u=function(t,e){var n=e?di(e):pi;if(n.test(t)){for(var r,o,i,s=[],a=[],c=n.lastIndex=0;r=n.exec(t);){(o=r.index)>c&&(a.push(i=t.slice(c,o)),s.push(JSON.stringify(i)));var u=kr(r[1].trim());s.push("_s("+u+")"),a.push({"@binding":u}),c=o+r[0].length}return c<t.length&&(a.push(i=t.slice(c)),s.push(JSON.stringify(i))),{expression:s.join("+"),tokens:a}}}(t,Ri))?l={type:2,expression:u.expression,tokens:u.tokens,text:t}:" "===t&&p.length&&" "===p[p.length-1].text||(l={type:3,text:t}),l&&p.push(l))}},comment:function(t,e,n){if(r){var o={type:3,text:t,isComment:!0};r.children.push(o)}}}),n}(t.trim(),e);!1!==e.optimize&&function(t,e){t&&(ms=bs(e.staticKeys||""),vs=e.isReservedTag||$,function t(e){if(e.static=function(t){return 2!==t.type&&(3===t.type||!(!t.pre&&(t.hasBindings||t.if||t.for||v(t.tag)||!vs(t.tag)||function(t){for(;t.parent;){if("template"!==(t=t.parent).tag)return!1;if(t.for)return!0}return!1}(t)||!Object.keys(t).every(ms))))}(e),1===e.type){if(!vs(e.tag)&&"slot"!==e.tag&&null==e.attrsMap["inline-template"])return;for(var n=0,r=e.children.length;n<r;n++){var o=e.children[n];t(o),o.static||(e.static=!1)}if(e.ifConditions)for(var i=1,s=e.ifConditions.length;i<s;i++){var a=e.ifConditions[i].block;t(a),a.static||(e.static=!1)}}}(t),function t(e,n){if(1===e.type){if((e.static||e.once)&&(e.staticInFor=n),e.static&&e.children.length&&(1!==e.children.length||3!==e.children[0].type))return void(e.staticRoot=!0);if(e.staticRoot=!1,e.children)for(var r=0,o=e.children.length;r<o;r++)t(e.children[r],n||!!e.for);if(e.ifConditions)for(var i=1,s=e.ifConditions.length;i<s;i++)t(e.ifConditions[i].block,n)}}(t,!1))}(n,e);var r=$s(n,e);return{ast:n,render:r.render,staticRenderFns:r.staticRenderFns}},function(t){function e(e,n){var r=Object.create(t),o=[],i=[];if(n)for(var s in n.modules&&(r.modules=(t.modules||[]).concat(n.modules)),n.directives&&(r.directives=T(Object.create(t.directives||null),n.directives)),n)"modules"!==s&&"directives"!==s&&(r[s]=n[s]);r.warn=function(t,e,n){(n?i:o).push(t)};var a=Ks(e.trim(),r);return a.errors=o,a.tips=i,a}return{compile:e,compileToFunctions:Js(e)}})(ys),Xs=(Ys.compile,Ys.compileToFunctions);function Zs(t){return(Gs=Gs||document.createElement("div")).innerHTML=t?'<a href="\n"/>':'<div a="\n"/>',Gs.innerHTML.indexOf("&#10;")>0}var Qs=!!W&&Zs(!1),ta=!!W&&Zs(!0),ea=x((function(t){var e=Yn(t);return e&&e.innerHTML})),na=On.prototype.$mount;On.prototype.$mount=function(t,e){if((t=t&&Yn(t))===document.body||t===document.documentElement)return this;var n=this.$options;if(!n.render){var r=n.template;if(r)if("string"==typeof r)"#"===r.charAt(0)&&(r=ea(r));else{if(!r.nodeType)return this;r=r.innerHTML}else t&&(r=function(t){if(t.outerHTML)return t.outerHTML;var e=document.createElement("div");return e.appendChild(t.cloneNode(!0)),e.innerHTML}(t));if(r){var o=Xs(r,{outputSourceRange:!1,shouldDecodeNewlines:Qs,shouldDecodeNewlinesForHref:ta,delimiters:n.delimiters,comments:n.comments},this),i=o.render,s=o.staticRenderFns;n.render=i,n.staticRenderFns=s}}return na.call(this,t,e)},On.compile=Xs,t.exports=On}).call(this,n(7),n(66).setImmediate)},function(t,e,n){(function(t){var r=void 0!==t&&t||"undefined"!=typeof self&&self||window,o=Function.prototype.apply;function i(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new i(o.call(setTimeout,r,arguments),clearTimeout)},e.setInterval=function(){return new i(o.call(setInterval,r,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(r,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},n(67),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n(7))},function(t,e,n){(function(t,e){!function(t,n){"use strict";if(!t.setImmediate){var r,o,i,s,a,c=1,u={},l=!1,p=t.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(t);f=f&&f.setTimeout?f:t,"[object process]"==={}.toString.call(t.process)?r=function(t){e.nextTick((function(){h(t)}))}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?t.MessageChannel?((i=new MessageChannel).port1.onmessage=function(t){h(t.data)},r=function(t){i.port2.postMessage(t)}):p&&"onreadystatechange"in p.createElement("script")?(o=p.documentElement,r=function(t){var e=p.createElement("script");e.onreadystatechange=function(){h(t),e.onreadystatechange=null,o.removeChild(e),e=null},o.appendChild(e)}):r=function(t){setTimeout(h,0,t)}:(s="setImmediate$"+Math.random()+"$",a=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(s)&&h(+e.data.slice(s.length))},t.addEventListener?t.addEventListener("message",a,!1):t.attachEvent("onmessage",a),r=function(e){t.postMessage(s+e,"*")}),f.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var o={callback:t,args:e};return u[c]=o,r(c),c++},f.clearImmediate=d}function d(t){delete u[t]}function h(t){if(l)setTimeout(h,0,t);else{var e=u[t];if(e){l=!0;try{!function(t){var e=t.callback,n=t.args;switch(n.length){case 0:e();break;case 1:e(n[0]);break;case 2:e(n[0],n[1]);break;case 3:e(n[0],n[1],n[2]);break;default:e.apply(void 0,n)}}(e)}finally{d(t),l=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,n(7),n(12))},function(t,e,n){"use strict";var r=n(10);n.n(r).a},function(t,e,n){(t.exports=n(36)(!1)).push([t.i,"[data-v-a0f69a1a] .ProseMirror>*+*{margin-top:.75em}[data-v-a0f69a1a] .ProseMirror.ProseMirror-focused{outline:none}[data-v-a0f69a1a] .ProseMirror code{background-color:rgba(97,97,97,.1);color:#616161}[data-v-a0f69a1a] .ProseMirror p{margin:0}[data-v-a0f69a1a] .ProseMirror p.is-editor-empty:first-child:before{content:attr(data-placeholder);float:left;color:#ced4da;pointer-events:none;height:0}",""])},function(t,e,n){"use strict";var r=n(3),o=n(16),i=n(71),s=n(22);function a(t){var e=new i(t),n=o(i.prototype.request,e);return r.extend(n,i.prototype,e),r.extend(n,e),n}var c=a(n(19));c.Axios=i,c.create=function(t){return a(s(c.defaults,t))},c.Cancel=n(23),c.CancelToken=n(84),c.isCancel=n(18),c.all=function(t){return Promise.all(t)},c.spread=n(85),t.exports=c,t.exports.default=c},function(t,e,n){"use strict";var r=n(3),o=n(17),i=n(72),s=n(73),a=n(22);function c(t){this.defaults=t,this.interceptors={request:new i,response:new i}}c.prototype.request=function(t){"string"==typeof t?(t=arguments[1]||{}).url=arguments[0]:t=t||{},(t=a(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var e=[s,void 0],n=Promise.resolve(t);for(this.interceptors.request.forEach((function(t){e.unshift(t.fulfilled,t.rejected)})),this.interceptors.response.forEach((function(t){e.push(t.fulfilled,t.rejected)}));e.length;)n=n.then(e.shift(),e.shift());return n},c.prototype.getUri=function(t){return t=a(this.defaults,t),o(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(t){c.prototype[t]=function(e,n){return this.request(r.merge(n||{},{method:t,url:e}))}})),r.forEach(["post","put","patch"],(function(t){c.prototype[t]=function(e,n,o){return this.request(r.merge(o||{},{method:t,url:e,data:n}))}})),t.exports=c},function(t,e,n){"use strict";var r=n(3);function o(){this.handlers=[]}o.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},o.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},o.prototype.forEach=function(t){r.forEach(this.handlers,(function(e){null!==e&&t(e)}))},t.exports=o},function(t,e,n){"use strict";var r=n(3),o=n(74),i=n(18),s=n(19);function a(t){t.cancelToken&&t.cancelToken.throwIfRequested()}t.exports=function(t){return a(t),t.headers=t.headers||{},t.data=o(t.data,t.headers,t.transformRequest),t.headers=r.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]})),(t.adapter||s.adapter)(t).then((function(e){return a(t),e.data=o(e.data,e.headers,t.transformResponse),e}),(function(e){return i(e)||(a(t),e&&e.response&&(e.response.data=o(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))}},function(t,e,n){"use strict";var r=n(3);t.exports=function(t,e,n){return r.forEach(n,(function(n){t=n(t,e)})),t}},function(t,e,n){"use strict";var r=n(3);t.exports=function(t,e){r.forEach(t,(function(n,r){r!==e&&r.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[r])}))}},function(t,e,n){"use strict";var r=n(21);t.exports=function(t,e,n){var o=n.config.validateStatus;!o||o(n.status)?t(n):e(r("Request failed with status code "+n.status,n.config,null,n.request,n))}},function(t,e,n){"use strict";t.exports=function(t,e,n,r,o){return t.config=e,n&&(t.code=n),t.request=r,t.response=o,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t}},function(t,e,n){"use strict";var r=n(79),o=n(80);t.exports=function(t,e){return t&&!r(e)?o(t,e):e}},function(t,e,n){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},function(t,e,n){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},function(t,e,n){"use strict";var r=n(3),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,n,i,s={};return t?(r.forEach(t.split("\n"),(function(t){if(i=t.indexOf(":"),e=r.trim(t.substr(0,i)).toLowerCase(),n=r.trim(t.substr(i+1)),e){if(s[e]&&o.indexOf(e)>=0)return;s[e]="set-cookie"===e?(s[e]?s[e]:[]).concat([n]):s[e]?s[e]+", "+n:n}})),s):s}},function(t,e,n){"use strict";var r=n(3);t.exports=r.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function o(t){var r=t;return e&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=o(window.location.href),function(e){var n=r.isString(e)?o(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return!0}},function(t,e,n){"use strict";var r=n(3);t.exports=r.isStandardBrowserEnv()?{write:function(t,e,n,o,i,s){var a=[];a.push(t+"="+encodeURIComponent(e)),r.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),r.isString(o)&&a.push("path="+o),r.isString(i)&&a.push("domain="+i),!0===s&&a.push("secure"),document.cookie=a.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},function(t,e,n){"use strict";var r=n(23);function o(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var n=this;t((function(t){n.reason||(n.reason=new r(t),e(n.reason))}))}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var t;return{token:new o((function(e){t=e})),cancel:t}},t.exports=o},function(t,e,n){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},function(t,e){Array.prototype.random=function(){return this[Math.floor(Math.random()*this.length)]},Object.defineProperty(Array.prototype,"pluck",{value:function(t){return this.map((function(e){return e[t]}))}}),HTMLTextAreaElement.prototype.insertAtCursor=function(t){if(t=t||"",document.selection)this.focus(),document.selection.createRange().text=t;else if(this.selectionStart||0===this.selectionStart){var e=this.selectionStart,n=this.selectionEnd;this.value=this.value.substring(0,e)+t+this.value.substring(n,this.value.length),this.selectionStart=e+t.length,this.selectionEnd=e+t.length}else this.value+=t}},function(t,e,n){var r=n(88),o=n(91),i=n(103),s=n(105),a=n(106),c=n(107),u=n(24),l=n(109),p=Object.prototype.hasOwnProperty;t.exports=function(t){if(null==t)return!0;if(a(t)&&(s(t)||"string"==typeof t||"function"==typeof t.splice||c(t)||l(t)||i(t)))return!t.length;var e=o(t);if("[object Map]"==e||"[object Set]"==e)return!t.size;if(u(t))return!r(t).length;for(var n in t)if(p.call(t,n))return!1;return!0}},function(t,e,n){var r=n(24),o=n(89),i=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return o(t);var e=[];for(var n in Object(t))i.call(t,n)&&"constructor"!=n&&e.push(n);return e}},function(t,e,n){var r=n(90)(Object.keys,Object);t.exports=r},function(t,e){t.exports=function(t,e){return function(n){return t(e(n))}}},function(t,e,n){var r=n(92),o=n(99),i=n(100),s=n(101),a=n(102),c=n(9),u=n(29),l=u(r),p=u(o),f=u(i),d=u(s),h=u(a),m=c;(r&&"[object DataView]"!=m(new r(new ArrayBuffer(1)))||o&&"[object Map]"!=m(new o)||i&&"[object Promise]"!=m(i.resolve())||s&&"[object Set]"!=m(new s)||a&&"[object WeakMap]"!=m(new a))&&(m=function(t){var e=c(t),n="[object Object]"==e?t.constructor:void 0,r=n?u(n):"";if(r)switch(r){case l:return"[object DataView]";case p:return"[object Map]";case f:return"[object Promise]";case d:return"[object Set]";case h:return"[object WeakMap]"}return e}),t.exports=m},function(t,e,n){var r=n(8)(n(5),"DataView");t.exports=r},function(t,e,n){var r=n(25),o=n(96),i=n(28),s=n(29),a=/^\[object .+?Constructor\]$/,c=Function.prototype,u=Object.prototype,l=c.toString,p=u.hasOwnProperty,f=RegExp("^"+l.call(p).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!i(t)||o(t))&&(r(t)?f:a).test(s(t))}},function(t,e,n){var r=n(26),o=Object.prototype,i=o.hasOwnProperty,s=o.toString,a=r?r.toStringTag:void 0;t.exports=function(t){var e=i.call(t,a),n=t[a];try{t[a]=void 0;var r=!0}catch(t){}var o=s.call(t);return r&&(e?t[a]=n:delete t[a]),o}},function(t,e){var n=Object.prototype.toString;t.exports=function(t){return n.call(t)}},function(t,e,n){var r,o=n(97),i=(r=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";t.exports=function(t){return!!i&&i in t}},function(t,e,n){var r=n(5)["__core-js_shared__"];t.exports=r},function(t,e){t.exports=function(t,e){return null==t?void 0:t[e]}},function(t,e,n){var r=n(8)(n(5),"Map");t.exports=r},function(t,e,n){var r=n(8)(n(5),"Promise");t.exports=r},function(t,e,n){var r=n(8)(n(5),"Set");t.exports=r},function(t,e,n){var r=n(8)(n(5),"WeakMap");t.exports=r},function(t,e,n){var r=n(104),o=n(13),i=Object.prototype,s=i.hasOwnProperty,a=i.propertyIsEnumerable,c=r(function(){return arguments}())?r:function(t){return o(t)&&s.call(t,"callee")&&!a.call(t,"callee")};t.exports=c},function(t,e,n){var r=n(9),o=n(13);t.exports=function(t){return o(t)&&"[object Arguments]"==r(t)}},function(t,e){var n=Array.isArray;t.exports=n},function(t,e,n){var r=n(25),o=n(30);t.exports=function(t){return null!=t&&o(t.length)&&!r(t)}},function(t,e,n){(function(t){var r=n(5),o=n(108),i=e&&!e.nodeType&&e,s=i&&"object"==typeof t&&t&&!t.nodeType&&t,a=s&&s.exports===i?r.Buffer:void 0,c=(a?a.isBuffer:void 0)||o;t.exports=c}).call(this,n(31)(t))},function(t,e){t.exports=function(){return!1}},function(t,e,n){var r=n(110),o=n(111),i=n(112),s=i&&i.isTypedArray,a=s?o(s):r;t.exports=a},function(t,e,n){var r=n(9),o=n(30),i=n(13),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,t.exports=function(t){return i(t)&&o(t.length)&&!!s[r(t)]}},function(t,e){t.exports=function(t){return function(e){return t(e)}}},function(t,e,n){(function(t){var r=n(27),o=e&&!e.nodeType&&e,i=o&&"object"==typeof t&&t&&!t.nodeType&&t,s=i&&i.exports===o&&r.process,a=function(){try{var t=i&&i.require&&i.require("util").types;return t||s&&s.binding&&s.binding("util")}catch(t){}}();t.exports=a}).call(this,n(31)(t))},function(t,e,n){t.exports=function(){"use strict";var t="millisecond",e="second",n="minute",r="hour",o="day",i="week",s="month",a="quarter",c="year",u="date",l=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,p=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,f={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},d=function(t,e,n){var r=String(t);return!r||r.length>=e?t:""+Array(e+1-r.length).join(n)+t},h={s:d,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),r=Math.floor(n/60),o=n%60;return(e<=0?"+":"-")+d(r,2,"0")+":"+d(o,2,"0")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var r=12*(n.year()-e.year())+(n.month()-e.month()),o=e.clone().add(r,s),i=n-o<0,a=e.clone().add(r+(i?-1:1),s);return+(-(r+(n-o)/(i?o-a:a-o))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(l){return{M:s,y:c,w:i,d:o,D:u,h:r,m:n,s:e,ms:t,Q:a}[l]||String(l||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},m="en",v={};v[m]=f;var g=function(t){return t instanceof x},y=function(t,e,n){var r;if(!t)return m;if("string"==typeof t)v[t]&&(r=t),e&&(v[t]=e,r=t);else{var o=t.name;v[o]=t,r=o}return!n&&r&&(m=r),r||!n&&m},b=function(t,e){if(g(t))return t.clone();var n="object"==typeof e?e:{};return n.date=t,n.args=arguments,new x(n)},w=h;w.l=y,w.i=g,w.w=function(t,e){return b(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var x=function(){function f(t){this.$L=y(t.locale,null,!0),this.parse(t)}var d=f.prototype;return d.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(w.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var r=e.match(l);if(r){var o=r[2]-1||0,i=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],o,r[3]||1,r[4]||0,r[5]||0,r[6]||0,i)):new Date(r[1],o,r[3]||1,r[4]||0,r[5]||0,r[6]||0,i)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},d.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},d.$utils=function(){return w},d.isValid=function(){return!("Invalid Date"===this.$d.toString())},d.isSame=function(t,e){var n=b(t);return this.startOf(e)<=n&&n<=this.endOf(e)},d.isAfter=function(t,e){return b(t)<this.startOf(e)},d.isBefore=function(t,e){return this.endOf(e)<b(t)},d.$g=function(t,e,n){return w.u(t)?this[e]:this.set(n,t)},d.unix=function(){return Math.floor(this.valueOf()/1e3)},d.valueOf=function(){return this.$d.getTime()},d.startOf=function(t,a){var l=this,p=!!w.u(a)||a,f=w.p(t),d=function(t,e){var n=w.w(l.$u?Date.UTC(l.$y,e,t):new Date(l.$y,e,t),l);return p?n:n.endOf(o)},h=function(t,e){return w.w(l.toDate()[t].apply(l.toDate("s"),(p?[0,0,0,0]:[23,59,59,999]).slice(e)),l)},m=this.$W,v=this.$M,g=this.$D,y="set"+(this.$u?"UTC":"");switch(f){case c:return p?d(1,0):d(31,11);case s:return p?d(1,v):d(0,v+1);case i:var b=this.$locale().weekStart||0,x=(m<b?m+7:m)-b;return d(p?g-x:g+(6-x),v);case o:case u:return h(y+"Hours",0);case r:return h(y+"Minutes",1);case n:return h(y+"Seconds",2);case e:return h(y+"Milliseconds",3);default:return this.clone()}},d.endOf=function(t){return this.startOf(t,!1)},d.$set=function(i,a){var l,p=w.p(i),f="set"+(this.$u?"UTC":""),d=(l={},l[o]=f+"Date",l[u]=f+"Date",l[s]=f+"Month",l[c]=f+"FullYear",l[r]=f+"Hours",l[n]=f+"Minutes",l[e]=f+"Seconds",l[t]=f+"Milliseconds",l)[p],h=p===o?this.$D+(a-this.$W):a;if(p===s||p===c){var m=this.clone().set(u,1);m.$d[d](h),m.init(),this.$d=m.set(u,Math.min(this.$D,m.daysInMonth())).$d}else d&&this.$d[d](h);return this.init(),this},d.set=function(t,e){return this.clone().$set(t,e)},d.get=function(t){return this[w.p(t)]()},d.add=function(t,a){var u,l=this;t=Number(t);var p=w.p(a),f=function(e){var n=b(l);return w.w(n.date(n.date()+Math.round(e*t)),l)};if(p===s)return this.set(s,this.$M+t);if(p===c)return this.set(c,this.$y+t);if(p===o)return f(1);if(p===i)return f(7);var d=(u={},u[n]=6e4,u[r]=36e5,u[e]=1e3,u)[p]||1,h=this.$d.getTime()+t*d;return w.w(h,this)},d.subtract=function(t,e){return this.add(-1*t,e)},d.format=function(t){var e=this;if(!this.isValid())return"Invalid Date";var n=t||"YYYY-MM-DDTHH:mm:ssZ",r=w.z(this),o=this.$locale(),i=this.$H,s=this.$m,a=this.$M,c=o.weekdays,u=o.months,l=function(t,r,o,i){return t&&(t[r]||t(e,n))||o[r].substr(0,i)},f=function(t){return w.s(i%12||12,t,"0")},d=o.meridiem||function(t,e,n){var r=t<12?"AM":"PM";return n?r.toLowerCase():r},h={YY:String(this.$y).slice(-2),YYYY:this.$y,M:a+1,MM:w.s(a+1,2,"0"),MMM:l(o.monthsShort,a,u,3),MMMM:l(u,a),D:this.$D,DD:w.s(this.$D,2,"0"),d:String(this.$W),dd:l(o.weekdaysMin,this.$W,c,2),ddd:l(o.weekdaysShort,this.$W,c,3),dddd:c[this.$W],H:String(i),HH:w.s(i,2,"0"),h:f(1),hh:f(2),a:d(i,s,!0),A:d(i,s,!1),m:String(s),mm:w.s(s,2,"0"),s:String(this.$s),ss:w.s(this.$s,2,"0"),SSS:w.s(this.$ms,3,"0"),Z:r};return n.replace(p,(function(t,e){return e||h[t]||r.replace(":","")}))},d.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},d.diff=function(t,u,l){var p,f=w.p(u),d=b(t),h=6e4*(d.utcOffset()-this.utcOffset()),m=this-d,v=w.m(this,d);return v=(p={},p[c]=v/12,p[s]=v,p[a]=v/3,p[i]=(m-h)/6048e5,p[o]=(m-h)/864e5,p[r]=m/36e5,p[n]=m/6e4,p[e]=m/1e3,p)[f]||m,l?v:w.a(v)},d.daysInMonth=function(){return this.endOf(s).$D},d.$locale=function(){return v[this.$L]},d.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),r=y(t,e,!0);return r&&(n.$L=r),n},d.clone=function(){return w.w(this.$d,this)},d.toDate=function(){return new Date(this.valueOf())},d.toJSON=function(){return this.isValid()?this.toISOString():null},d.toISOString=function(){return this.$d.toISOString()},d.toString=function(){return this.$d.toUTCString()},f}(),_=x.prototype;return b.prototype=_,[["$ms",t],["$s",e],["$m",n],["$H",r],["$W",o],["$M",s],["$y",c],["$D",u]].forEach((function(t){_[t[1]]=function(e){return this.$g(e,t[0],t[1])}})),b.extend=function(t,e){return t.$i||(t(e,x,b),t.$i=!0),b},b.locale=y,b.isDayjs=g,b.unix=function(t){return b(1e3*t)},b.en=v[m],b.Ls=v,b.p={},b}()},function(t,e,n){t.exports=function(){"use strict";return function(t,e,n){t=t||{};var r=e.prototype,o={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function i(t,e,n,o){return r.fromToBase(t,e,n,o)}n.en.relativeTime=o,r.fromToBase=function(e,r,i,s,a){for(var c,u,l,p=i.$locale().relativeTime||o,f=t.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],d=f.length,h=0;h<d;h+=1){var m=f[h];m.d&&(c=s?n(e).diff(i,m.d,!0):i.diff(e,m.d,!0));var v=(t.rounding||Math.round)(Math.abs(c));if(l=c>0,v<=m.r||!m.r){v<=1&&h>0&&(m=f[h-1]);var g=p[m.l];a&&(v=a(""+v)),u="string"==typeof g?g.replace("%d",v):g(v,r,m.l,l);break}}if(r)return u;var y=l?p.future:p.past;return"function"==typeof y?y(u):y.replace("%s",u)},r.to=function(t,e){return i(t,e,this,!0)},r.from=function(t,e){return i(t,e,this)};var s=function(t){return t.$u?n.utc():n()};r.toNow=function(t){return this.to(s(this),t)},r.fromNow=function(t){return this.from(s(this),t)}}}()},function(t,e,n){"use strict";n.r(e);n(40);var r=n(0),o=n.n(r);function i(t,e,n,r,o,i,s){try{var a=t[i](s),c=a.value}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(r,o)}function s(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var s=t.apply(e,n);function a(t){i(s,r,o,a,c,"next",t)}function c(t){i(s,r,o,a,c,"throw",t)}a(void 0)}))}}var a,c,u,l={setItem:(u=s(o.a.mark((function t(e,n){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,null;case 2:return t.abrupt("return",localStorage.setItem(e,n));case 3:case"end":return t.stop()}}),t)}))),function(t,e){return u.apply(this,arguments)}),getItem:(c=s(o.a.mark((function t(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,null;case 2:return t.abrupt("return",localStorage.getItem(e));case 3:case"end":return t.stop()}}),t)}))),function(t){return c.apply(this,arguments)}),removeItem:(a=s(o.a.mark((function t(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,null;case 2:return t.abrupt("return",localStorage.removeItem(e));case 3:case"end":return t.stop()}}),t)}))),function(t){return a.apply(this,arguments)})};function p(t,e,n,r,o,i,s){try{var a=t[i](s),c=a.value}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(r,o)}function f(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function s(t){p(i,r,o,s,a,"next",t)}function a(t){p(i,r,o,s,a,"throw",t)}s(void 0)}))}}var d={namespaced:!0,state:{client:{},client_is_loading:!1},mutations:{SET_LOADING:function(t,e){return t.client_is_loading=e},SET_CLIENT:function(t,e){return t.client=e}},getters:{},actions:{fetch:function(t,e){return f(o.a.mark((function n(){var r,i,s;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return(r=t.commit)("SET_LOADING",!0),n.next=4,axios.get("/plugin/client/".concat(e));case 4:return i=n.sent,s=i.data,r("SET_CLIENT",s),n.next=9,l.setItem("lcs_token",e);case 9:r("SET_LOADING",!1);case 10:case"end":return n.stop()}}),n)})))()},create:function(t,e){return f(o.a.mark((function n(){var r,i,s;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return(r=t.commit)("SET_LOADING",!0),n.next=4,axios.post("/plugin/client",e);case 4:return i=n.sent,s=i.data,r("SET_CLIENT",s),n.next=9,l.setItem("lcs_token",s.token);case 9:r("SET_LOADING",!1);case 10:case"end":return n.stop()}}),n)})))()}}};function h(t,e,n,r,o,i,s){try{var a=t[i](s),c=a.value}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(r,o)}function m(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function v(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?m(Object(n),!0).forEach((function(e){g(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function g(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var y={namespaced:!0,state:{creating:!1,session:{},sessions:[]},mutations:{SET_SESSIONS:function(t,e){return t.sessions=e},PUSH_MESSAGE:function(t,e){t.sessions=t.sessions.map((function(t){if(t.session==e.session){var n=t.messages.push(e.message);return v(v({},t),n)}return t}))},PUSH_SESSION:function(t,e){return t.sessions.push(e)},UPDATE_SESSION:function(t,e){t.sessions=t.sessions.map((function(t){return t.id==e.id?v(v({},t),e):t}))}},getters:{sessions:function(t){return t.sessions.map((function(t){var e=0;return t.messages.forEach((function(t){"client"!=t.sender&&0==t.is_read&&(e+=1)})),v(v({},t),{},{unread_count:e})})).reverse()}},actions:{fetch:function(t){return(e=o.a.mark((function e(){var n,r,i,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.commit,r=localStorage.getItem("lcs_token"),e.next=4,axios.get("/plugin/client/".concat(r,"/sessions"));case 4:i=e.sent,s=i.data,n("SET_SESSIONS",s);case 7:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(t){h(i,r,o,s,a,"next",t)}function a(t){h(i,r,o,s,a,"throw",t)}s(void 0)}))})();var e}}};function b(t,e,n,r,o,i,s){try{var a=t[i](s),c=a.value}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(r,o)}function w(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function x(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?w(Object(n),!0).forEach((function(e){_(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function _(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function O(t){return function(t){if(Array.isArray(t))return k(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return k(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var S={namespaced:!0,state:{messages:[],attachments:[],message:"",message_attachments:[],message_suggestion:"",reply_to:null,reply_to_shadow:null},mutations:{CLEAR_INPUT:function(t){return t.message=""},PUSH_MESSAGE:function(t,e){return t.messages.push(e)},SET_MESSAGES:function(t,e){return t.messages=e},INSERT_ATTACHMENT:function(t,e){t.messages=t.messages.map((function(t){if(t.hash==e.hash){var n=[].concat(O(t.attachments),[e.attachment]);return x(x({},t),{},{attachments:n})}return t}))},UPDATE_MESSAGE:function(t,e){t.messages=t.messages.map((function(t){return t.hash==e.hash?x(x({},t),e):t}))}},getters:{},actions:{fetchMessages:function(t,e){return(n=o.a.mark((function n(){var r,i,s;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.commit,n.next=3,axios.get("/plugin/session/".concat(e,"/messages"));case 3:i=n.sent,s=i.data,r("SET_MESSAGES",s.messages);case 6:case"end":return n.stop()}}),n)})),function(){var t=this,e=arguments;return new Promise((function(r,o){var i=n.apply(t,e);function s(t){b(i,r,o,s,a,"next",t)}function a(t){b(i,r,o,s,a,"throw",t)}s(void 0)}))})();var n}}},C={namespaced:!0,state:{agent:{},widget:{ui_header_title:"Live Support",ui_header_subtitle:"Need help? We're online!",ui_header_color:"#ffffff",ui_client_bg:"#d0d0d0",ui_client_color:"#424242",ui_robot_bg:"#2d3795",ui_robot_color:"#ffffff",ui_color_primary:"#99be3c",ui_color_secondary:"#f68a1f",operation:"front",ready:!1,type:"live"},is_open:!0,is_loading:!1},mutations:{SET_AGENT:function(t,e){return t.agent=e},SET_WIDGET_STATUS:function(t,e){return t.widget.ready=e}},getters:{},actions:{}},M=new Vuex.Store({namespaced:!0,modules:{client:d,session:y,message:S,widget:C}}),E=n(15);function T(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function A(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?T(Object(n),!0).forEach((function(e){j(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function j(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}localStorage.setItem("lcs_payload",function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location.href,n=new RegExp("[?&]"+t+"=([^&#]*)","i"),r=n.exec(e);return r?r[1]:null}("payload")),n(43),n(133),n(134),new Vue(A(A({el:"#xerodesk"},E.default),{},{store:M}))},function(t,e,n){"use strict";n.r(e);var r=n(0),o=n.n(r),i=n(2);let s=(t=21)=>{let e="",n=crypto.getRandomValues(new Uint8Array(t));for(;t--;){let r=63&n[t];e+=r<36?r.toString(36):r<62?(r-26).toString(36).toUpperCase():r<63?"_":"-"}return e};function a(t){return function(t){if(Array.isArray(t))return c(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function u(t,e,n,r,o,i,s){try{var a=t[i](s),c=a.value}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(r,o)}function l(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function s(t){u(i,r,o,s,a,"next",t)}function a(t){u(i,r,o,s,a,"throw",t)}s(void 0)}))}}function p(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function f(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?p(Object(n),!0).forEach((function(e){d(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function d(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var h={name:"ChatFooter",components:{Editor:n(14).default},data:function(){return{accept:"text/csv,application/msword,application/vnd.openxmlformats-officedocument.wordprocessingml.document,image/gif,text/html,image/vnd.microsoft.icon,image/jpeg,image/png,application/vnd.ms-powerpoint,application/vnd.openxmlformats-officedocument.presentationml.presentation,application/vnd.rar,text/plain,application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,application/zip,application/x-7z-compressed",extensions:["csv","doc","docx","gif","htm","html","ico","jpeg","jpg","png","pdf","pptx","rar","txt","xls","xlsx","zip","7z"],emoji:"",picker:!1,message:null,message_temp:null,attachments:[],reply_to:null}},computed:f(f(f(f(f({},Object(i.b)("client",["client"])),Object(i.b)("session",["session"])),Object(i.b)("message",["reply_to_shadow"])),Object(i.b)("widget",["widget"])),{},{creating:{get:function(){return this.$store.state.session.creating},set:function(t){this.$store.state.session.creating=t}},operation:{get:function(){return this.$store.state.widget.widget.operation},set:function(t){this.$store.state.widget.widget.operation=t}}}),methods:{autoGrow:function(t){var e=this.$refs.textarea;e.style.height=18+16*(e.value.match(/\n/g)||[]).length+"px",t.ctrlKey&&13==t.keyCode&&this.submitChat()},selectEmoji:function(t){this.picker=!1,this.$refs.textarea.insertAtCursor(t)},onFileChange:function(t){var e=this;return l(o.a.mark((function n(){return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a(t.target.files).forEach((function(t){e.attachments.push({file:t,ext:t.name.split(".").pop()})})),e.$refs.form.reset();case 2:case"end":return n.stop()}}),n)})))()},submitChat:function(){var t=this;return l(o.a.mark((function e(){var n,r,i,a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.$refs.textarea,t.message=n.value.replace(/\n\r?/g,"<br />"),!t.creating){e.next=4;break}return e.abrupt("return",!1);case 4:if(!(r=t.message)&&(r||t.$isEmpty(t.attachments))){e.next=31;break}if(t.$store.state.message.message="<p>".concat(r,"</p>"),t.$store.state.message.message_attachments=t.attachments,t.$store.state.message.reply_to=t.reply_to,t.message=null,n.value=null,t.attachments=[],t.$store.state.message.reply_to_shadow=null,"create"!=t.operation){e.next=24;break}return t.creating=!0,e.next=17,axios.post("/plugin/session",{client_id:t.client.id});case 17:i=e.sent,a=i.data,t.creating=!1,localStorage.setItem("lcs_session",a.session),t.$store.state.session.session=f(f({},a),{},{messages:[]}),t.$store.commit("session/PUSH_SESSION",f(f({},a),{},{messages:[]})),t.operation="show";case 24:if(!r){e.next=30;break}return c={hash:s(),sender:"client",message:t.$store.state.message.message},t.$store.state.message.reply_to&&(c.reply_to=t.$store.state.message.reply_to),t.$store.commit("message/PUSH_MESSAGE",f(f({},c),{},{created_at:new Date,attachments:[]})),e.next=30,axios.post("/plugin/message",f(f({},c),{},{client_id:t.client.id,session:localStorage.getItem("lcs_session"),user_id:null})).then((function(e){var n=e.data;t.$store.commit("message/UPDATE_MESSAGE",n.data)}));case 30:t.$store.state.message.message_attachments&&t.handleFile();case 31:case"end":return e.stop()}}),e)})))()},handleFile:function(){var t=this;return l(o.a.mark((function e(){var n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.$store.state.message.message_attachments,e.next=3,Promise.all(n.map(function(){var e=l(o.a.mark((function e(n){var r,i,a,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=new FormData,i=n.file,a={"Content-Type":"multipart/form-data"},c={hash:s(),sender:"client",message:""},t.$store.state.message.reply_to&&(c.reply_to=t.$store.state.message.reply_to),!(i.size<2e7&&t.extensions.includes(n.ext.toLowerCase()))){e.next=14;break}return r.append("id",t.client.id),r.append("extension",i.name.split(".").pop()),r.append("session",localStorage.getItem("lcs_session")),r.append("name",i.name.split(".").slice(0,-1).join(".")),r.append("file",i),t.$store.commit("message/PUSH_MESSAGE",f(f({},c),{},{created_at:new Date,attachments:[]})),e.next=14,axios.post("/plugin/message",f(f({},c),{},{client_id:t.client.id,session:localStorage.getItem("lcs_session")})).then((function(e){t.$store.commit("message/UPDATE_MESSAGE",e.data.data),axios.post("/plugin/message/".concat(e.data.data.hash,"/attachment"),r,a)}));case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:case"end":return e.stop()}}),e)})))()}},mounted:function(){this.$refs.textarea.focus()},watch:{"$store.state.message.message_suggestion":function(t){"create"==this.widget.operation&&(this.message=t,this.submitChat())},reply_to_shadow:function(t){this.reply_to=t}}},m=n(1),v=Object(m.a)(h,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return 4==t.session.status?n("form-alert",{staticClass:"m-6",attrs:{variant:"info"}},[n("p",{staticClass:"m-0"},[t._v("This is now a "),n("strong",[t._v("read-only")]),t._v(" ticket.")])]):n("div",{ref:"toggler",staticClass:"footer",attrs:{autocomplete:"off"}},[t.attachments.length?n("Attachment",{attrs:{attachments:t.attachments},on:{removeAttachment:function(e){t.attachments=e}}}):t._e(),t._v(" "),t.reply_to?n("ReplyTo",{attrs:{reply_to:t.reply_to}}):t._e(),t._v(" "),n("div",{staticClass:"footer-form"},[n("div",{staticClass:"footer-input"},[n("emoji-picker",{on:{onSelect:t.selectEmoji}},[n("button",{attrs:{type:"button"}},[n("InlineSvg",{attrs:{name:"heroicons/emoji-happy.svg",color:"#c4c6c6",size:"22px"}})],1)]),t._v(" "),n("textarea",{ref:"textarea",staticClass:"input",attrs:{rows:"1"},on:{keyup:t.autoGrow}})],1),t._v(" "),n("div",{staticClass:"footer-control"},[n("form",{ref:"form",attrs:{action:"javascript:void(0);"}},[n("input",{ref:"file",attrs:{type:"file",accept:t.accept,multiple:"",tabindex:"-1"},on:{change:t.onFileChange}})]),t._v(" "),n("button",{staticStyle:{transform:"rotate(-45deg)"},attrs:{type:"button"},on:{click:function(e){return t.$refs.file.click()}}},[n("InlineSvg",{attrs:{name:"heroicons/paper-clip.svg",color:"#c4c6c6",size:"20px"}})],1),t._v(" "),n("button",{staticStyle:{"margin-left":"3px"},attrs:{type:"button"},on:{click:function(e){return t.submitChat()}}},[n("InlineSvg",{attrs:{name:"mdi/send.svg",color:"#f68a1f",size:"23px"}})],1)])])],1)}),[],!1,null,null,null);e.default=v.exports},function(t,e,n){"use strict";n.r(e);var r={name:"EmojiPicker",data:function(){return{toggle:"hide",emojis:[],group:0}},methods:{emit:function(t){this.toggle="hide",this.$emit("onSelect",t)},fetch:function(){var t=this;this.emojis.length||axios.get("".concat(this.$BASE_URL,"/docs/emojis/0.json")).then((function(e){var n=e.data;t.emojis=n})),this.toggle="show"}}},o=n(1),i=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("popup",{attrs:{arrow:!1,toggle:t.toggle}},[n("div",{staticClass:"emoji-picker-content",attrs:{slot:"content"},slot:"content"},[t.emojis.length?[n("div",{staticClass:"emoji-picker-items"},t._l(t.emojis,(function(e,r){return n("button",{key:r,staticClass:"border-0 bg-transparent",on:{click:function(n){return t.emit(e.unicode)}}},[t._v("\n          "+t._s(e.unicode)+"\n        ")])})),0)]:t._e()],2),t._v(" "),n("div",{staticClass:"emoji-picker-reference",attrs:{slot:"reference"},on:{click:function(e){return t.fetch()}},slot:"reference"},[t._t("default")],2)])}),[],!1,null,null,null);e.default=i.exports},function(t,e,n){"use strict";n.r(e);var r={name:"FormAlert",props:["variant","message"],computed:{alertClass:function(){return"form-alert variant-"+this.variant},alertIcon:function(){switch(this.variant){case"success":return"fa-check-circle";case"danger":case"warning":return"fa-exclamation-circle";case"info":default:return"fa-info-circle"}}}},o=n(1),i=Object(o.a)(r,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{class:this.alertClass,attrs:{role:"alert"}},[e("div",{staticClass:"alert-icon"},[e("InlineSvg",{attrs:{name:"heroicons/exclamation-circle.svg",color:"#fff",size:"1.25rem"}})],1),this._v(" "),e("div",{staticClass:"alert-message"},[this._t("default")],2)])}),[],!1,null,null,null);e.default=i.exports},function(t,e,n){"use strict";n.r(e);function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var o=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var r=n(45)("./".concat(e)),o=document.createElement("div");o.innerHTML=r;var i=document.createDocumentFragment();i.appendChild(o),this.svg=i.querySelector("svg")}var e,o,i;return e=t,(o=[{key:"classes",value:function(t){return t&&this.svg.classList.add(t),this}},{key:"height",value:function(t){return t&&this.svg.setAttribute("height",t),this}},{key:"width",value:function(t){return t&&this.svg.setAttribute("width",t),this}},{key:"getHtml",value:function(t){return this.svg.outerHTML}}])&&r(e.prototype,o),i&&r(e,i),t}(),i={name:"InlineSvg",props:{name:{required:!0,type:String},classes:{required:!1,type:String},width:{default:"24px",required:!1,type:String},height:{default:"24px",required:!1,type:String},size:{default:"14px",required:!1,type:String},color:{required:!1,type:String}},data:function(){return{svg:""}},created:function(){null==this.size?this.svg=new o(this.name).classes(this.classes).height(this.height).width(this.width).getHtml():this.svg=new o(this.name).classes(this.classes).height(this.size).width(this.size).getHtml()}},s=n(1),a=Object(s.a)(i,(function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"flex-center inline-svg h-auto",style:{color:this.color},domProps:{innerHTML:this._s(this.svg)}})}),[],!1,null,null,null);e.default=a.exports},function(t,e,n){"use strict";n.r(e);var r={name:"Modal"},o=n(1),i=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"modal"}},[n("div",{staticClass:"modal-mask"},[n("div",{staticClass:"modal-wrapper",on:{click:function(e){return e.target!==e.currentTarget?null:t.$emit("close")}}},[n("div",{staticClass:"modal-content"},[n("div",{staticClass:"modal-header"},[n("div",{staticClass:"modal-close",on:{click:function(e){return t.$emit("close")}}},[n("InlineSvg",{attrs:{name:"heroicons/x-circle.svg",color:"#d7d7d7",size:"1.75rem"}})],1),t._v(" "),t._t("header")],2),t._v(" "),n("div",{staticClass:"modal-body"},[t._t("body")],2),t._v(" "),n("div",{staticClass:"modal-footer"},[t._t("footer")],2)])])])])}),[],!1,null,null,null);e.default=i.exports},function(t,e,n){"use strict";n.r(e);var r={props:{arrow:{type:Boolean,default:!0},offset:{type:String,default:"140px,10px"},placement:{type:String,default:"top"},toggle:{type:String,default:"hide"},trigger:{type:String,default:"click"}},name:"Popup",components:{Popper:VuePopper},watch:{toggle:function(t){"hide"==t&&this.$refs.popper.doClose()}}},o=n(1),i=Object(o.a)(r,(function(){var t=this.$createElement,e=this._self._c||t;return e("popper",{ref:"popper",attrs:{"visible-arrow":this.arrow,trigger:this.trigger,options:{placement:this.placement,modifiers:{offset:{offset:this.offset}}},"root-class":"popper"}},[e("div",{staticClass:"popper-content"},[this._t("content")],2),this._v(" "),this._t("reference",null,{slot:"reference"})],2)}),[],!1,null,null,null);e.default=i.exports},function(t,e,n){"use strict";n.r(e);var r={props:{border:{type:String,default:"3px"},color:{type:String,default:"#fff"},height:{type:String,default:"15px"},width:{type:String,default:"15px"}},name:"Spinner",computed:{styleSpinner:function(){return{height:this.height,width:this.width}},styleBars:function(){return{border:"".concat(this.border," solid ").concat(this.color),borderColor:"".concat(this.color," ").concat(this.color," ").concat(this.color," transparent")}}}},o=n(1),i=Object(o.a)(r,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"spinner",style:this.styleSpinner},[e("div",{staticClass:"bar",style:this.styleBars})])}),[],!1,null,null,null);e.default=i.exports},function(t,e,n){"use strict";n.r(e);var r=n(2);function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var s={name:"Greeting",data:function(){return{colorPrimary:"red"}},computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){i(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},Object(r.b)("message",["messages"])),methods:{timeGreeting:function(){var t=(new Date).getHours(),e="Good day";return e=t<12?"Good Morning":t<18?"Good Afternoon":"Good Evening",e},timeImage:function(){var t,e=this.timeGreeting();return"Good Morning"===e&&(t="season-morning.svg"),"Good Afternoon"===e&&(t="season-afternoon.svg"),"Good Evening"===e&&(t="season-evening.svg"),"".concat(this.$IMAGE_URL,"/widget/").concat(t)}}},a=n(1),c=Object(a.a)(s,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"body-greeting"},[e("img",{attrs:{src:this.timeImage()}})])}),[],!1,null,null,null);e.default=c.exports},function(t,e,n){"use strict";n.r(e);var r=n(2);function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var s={name:"ChatBody",computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){i(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},Object(r.b)("message",["messages"])),watch:{messages:{deep:!0,handler:function(){var t=this;setTimeout((function(){t.$el.querySelector("#scroll-to").scrollIntoView({behavior:"smooth"})}),100)}}}},a=n(1),c=Object(a.a)(s,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"body"},[e("div",{attrs:{id:"scroll-to"}}),this._v(" "),e("Suggestions"),this._v(" "),e("Messages"),this._v(" "),e("Greeting")],1)}),[],!1,null,null,null);e.default=c.exports},function(t,e,n){"use strict";n.r(e);var r=n(2);function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){s(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var a={name:"Messages",data:function(){return{enlargeToggle:!1,enlargeUrl:null}},computed:i(i(i(i(i({},Object(r.b)("client",["client"])),Object(r.b)("session",["session"])),Object(r.b)("widget",["widget"])),Object(r.b)("message",["messages"])),{},{sorted:function(){return this.messages.sort((function(t,e){return e.created_at-t.created_at}))}}),methods:{getIcon:function(t){return["doc","docx","htm","html","pdf","txt","pptx"].includes(t)?"document-text":["csv","xls","xlsx"].includes(t)?"document-report":["gif","ico","jpeg","jpg","png"].includes(t)?"photograph":["rar","zip","7z"].includes(t)?"folder":void 0},downloadAtt:function(t){var e="".concat(this.$BASE_URL,"/storage/uploads/clients/").concat(this.client.token,"/").concat(this.session.session,"/").concat(t.name,".").concat(t.extension),n=document.createElement("a");n.setAttribute("download",""),n.setAttribute("target","_blank"),n.href=e,document.body.appendChild(n),n.click(),n.remove()},onReply:function(t){this.$store.state.message.reply_to_shadow=t.id},onDownload:function(t){this.downloadAtt(t.attachments[0])},enlargeAtt:function(t){this.enlargeUrl="".concat(this.$BASE_URL,"/storage/uploads/clients/").concat(this.client.token,"/").concat(this.session.session,"/").concat(t.name,".").concat(t.extension),this.enlargeToggle=!0}}},c=n(1),u=Object(c.a)(a,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return["create","show"].includes(t.widget.operation)?n("div",{staticClass:"body-messages"},[t._l(t.sorted,(function(e,r){return[["client","admin"].includes(e.sender)?[n("div",{key:r,staticClass:"bubble",class:{"from-client":"client"==e.sender,"from-admin":"admin"==e.sender}},[n("div",{staticClass:"bubble-content"},[n("div",{staticClass:"msg-actions"},[n("button",{staticClass:"action",attrs:{type:"button"},on:{click:function(n){return t.onReply(e)}}},[n("InlineSvg",{attrs:{name:"heroicons/reply.svg",color:"#000",size:".75rem"}})],1),t._v(" "),n("button",{directives:[{name:"show",rawName:"v-show",value:!t.$isEmpty(e.attachments),expression:"!$isEmpty(message.attachments)"}],staticClass:"action",attrs:{type:"button"},on:{click:function(n){return t.onDownload(e)}}},[n("InlineSvg",{attrs:{name:"mdi/download.svg",color:"#000",size:".75rem"}})],1)]),t._v(" "),n("div",{staticClass:"msg-group"},[e.reply_to?n("ReplyingTo",{attrs:{message:e}}):t._e(),t._v(" "),t.$isEmpty(e.message)?t._e():n("div",{staticClass:"msg-dts",domProps:{innerHTML:t._s(e.message)}}),t._v(" "),t.$isEmpty(e.attachments)?t._e():n("div",{staticClass:"msg-att"},t._l(e.attachments,(function(e){return n("div",{key:e.id,staticClass:"msg-att-item"},[["ico","jpeg","jpg","png"].includes(e.extension.toLowerCase())?n("div",{staticClass:"msg-att-item-image",on:{click:function(n){return t.enlargeAtt(e)}}},[n("img",{attrs:{src:t.$BASE_URL+"/storage/uploads/clients/"+t.client.token+"/"+t.session.session+"/"+e.name+"."+e.extension}})]):n("div",{staticClass:"msg-att-item-file"},[n("div",{staticClass:"msg-att-item-icon",on:{click:function(n){return t.downloadAtt(e)}}},[n("InlineSvg",{attrs:{name:"heroicons/"+t.getIcon(e.extension.toLowerCase())+".svg",color:"#000",size:"25px"}})],1),t._v(" "),n("div",{staticClass:"msg-att-item-name",on:{click:function(n){return t.downloadAtt(e)}}},[n("span",[t._v(t._s(e.name+"."+e.extension))])])])])})),0),t._v(" "),t.$isEmpty(e.message)&&t.$isEmpty(e.attachments)?n("Spinner"):t._e()],1)])])]:["session"==e.sender?[n("div",{key:r,staticClass:"bubble session"},[n("div",{staticClass:"bubble-message",domProps:{innerHTML:t._s(e.message)}})])]:t._e(),t._v(" "),"error"==e.sender?[n("div",{key:r,staticClass:"bubble error"},[n("div",{staticClass:"bubble-content"},[t.$IS_DEVELOPMENT?[n("div",{staticClass:"msg-group",domProps:{innerHTML:t._s(e.message)}})]:[n("div",{staticClass:"msg-group"},[t._v("Oppss! Something went wrong. Please contact the system administrator.")])]],2)])]:t._e()]]})),t._v(" "),n("transition",{attrs:{name:"fade"}},[t.enlargeToggle?n("div",{staticClass:"la-wrapper"},[n("div",{staticClass:"la-content"},[n("div",{staticClass:"la-close",on:{click:function(e){t.enlargeToggle=!1}}},[n("InlineSvg",{attrs:{name:"mdi/close.svg",color:"#fff",size:"24px"}})],1),t._v(" "),n("img",{staticClass:"la-image",attrs:{src:t.enlargeUrl}})])]):t._e()])],2):t._e()}),[],!1,null,null,null);e.default=u.exports},function(t,e,n){"use strict";n.r(e);var r=n(2);function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var s={props:["message"],name:"ReplyingTo",computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){i(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},Object(r.b)("message",["messages"])),methods:{replyingTo:function(t){return this.messages.find((function(e){return e.id==t}))}}},a=n(1),c=Object(a.a)(s,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.replyingTo(t.message.reply_to).message?n("div",{staticClass:"msg-rpy",domProps:{innerHTML:t._s(t.replyingTo(t.message.reply_to).message)}}):n("div",{staticClass:"msg-rpy",domProps:{innerHTML:t._s(t.replyingTo(t.message.reply_to).attachments[0].name+"."+t.replyingTo(t.message.reply_to).attachments[0].extension)}})}),[],!1,null,null,null);e.default=c.exports},function(t,e,n){"use strict";n.r(e);var r=n(2);function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){s(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var a={name:"Suggestions",data:function(){return{suggestions:[{id:1,body:"Access"},{id:2,body:"Application"},{id:3,body:"Network"},{id:4,body:"Hardware"},{id:5,body:"Security Incident"},{id:6,body:"Telephony"}],selected:null}},computed:i(i({},Object(r.b)("widget",["widget"])),{},{message_suggestion:{get:function(){return this.$store.state.message.message_suggestion},set:function(t){this.$store.state.message.message_suggestion=t}}}),methods:{updateMessage:function(t){this.selected=t.id,this.$isEmpty(this.message_suggestion)&&(this.message_suggestion="<p>".concat(t.body,"</p>"))}},watch:{"$store.state.session.creating":function(t){!1===t&&(this.message_suggestion="",this.selected=null)}}},c=n(1),u=Object(c.a)(a,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return"create"==t.widget.operation?n("div",{staticClass:"suggestions"},[n("p",[t._v("Hello, there! 👋 Anything we can do for you? Let us know your question and we will get back to you as soon as possible.")]),t._v(" "),n("ul",{staticClass:"suggestion-list"},t._l(t.suggestions,(function(e){return n("li",{key:e.id,staticClass:"suggestion-list--item"},[n("button",{attrs:{disabled:!t.$isEmpty(t.message_suggestion)},on:{click:function(n){return t.updateMessage(e)}}},[n("span",[t._v(t._s(e.body))]),t._v(" "),t.selected===e.id?n("Spinner",{staticClass:"ml-2"}):t._e()],1)])})),0)]):t._e()}),[],!1,null,null,null);e.default=u.exports},function(t,e,n){"use strict";n.r(e);var r={props:["attachments"],name:"Attachment",data:function(){return{extensions:["csv","doc","docx","gif","htm","html","ico","jpeg","jpg","png","pdf","pptx","rar","txt","xls","xlsx","zip","7z"]}},methods:{getIcon:function(t){return["doc","docx","htm","html","pdf","txt","pptx"].includes(t)?"document-text":["csv","xls","xlsx"].includes(t)?"document-report":["gif","ico","jpeg","jpg","png"].includes(t)?"photograph":["rar","zip","7z"].includes(t)?"folder":["mp4","mov","avi","flv","mkv","wmv","webm"].includes(t)?"video-camera":void 0},removeAttachment:function(t){this.$emit("removeAttachment",this.attachments.filter((function(e,n){return n!=t})))},checkValidity:function(t){var e=t.file.size,n=t.ext.toLowerCase(),r="";return this.extensions.includes(n)||(r="type"),e>2e7&&(r="size"),r}}},o=n(1),i=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"footer-att"},t._l(t.attachments,(function(e,r){return n("div",{key:r,staticClass:"footer-att-item",class:{invalid:!t.$isEmpty(t.checkValidity(e))}},[n("div",{staticClass:"footer-att-item-remove",on:{click:function(e){return t.removeAttachment(r)}}},[n("InlineSvg",{attrs:{name:"mdi/close.svg",color:"#000",size:"10px"}})],1),t._v(" "),n("div",{staticClass:"footer-att-item-icon"},[n("InlineSvg",{attrs:{name:"heroicons/"+t.getIcon(e.ext.toLowerCase())+".svg",color:"#000",size:"20px"}})],1),t._v(" "),n("div",{staticClass:"footer-att-item-name"},[t.$isEmpty(t.checkValidity(e))?n("span",[t._v(t._s(e.file.name))]):[n("span",[t._v("Error.")]),t._v(" "),"size"==t.checkValidity(e)?n("span",[t._v("File too large.")]):t._e(),t._v(" "),"type"==t.checkValidity(e)?n("span",[t._v("Invalid file type.")]):t._e()]],2)])})),0)}),[],!1,null,null,null);e.default=i.exports},function(t,e,n){"use strict";n.r(e);var r=n(2);function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){s(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var a={props:["reply_to"],name:"ReplyTo",computed:i(i({},Object(r.b)("message",["messages"])),{},{message:function(){var t=this;return this.messages.find((function(e){return e.id==t.reply_to}))}}),methods:{removeReply:function(){this.$store.state.message.reply_to_shadow=null}}},c=n(1),u=Object(c.a)(a,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.reply_to?n("div",{staticClass:"reply-to-wrapper"},[n("div",{staticClass:"reply-to-meta"},[n("p",{staticClass:"replying-to"},[t._v("Replying to:")]),t._v(" "),n("div",{staticClass:"close",on:{click:function(e){return t.removeReply()}}},[n("InlineSvg",{attrs:{name:"mdi/close.svg",color:"#000",size:"10px"}})],1)]),t._v(" "),n("div",{staticClass:"reply-to-body"},[n("div",{staticClass:"quote"}),t._v(" "),t.message.message?n("div",{staticClass:"content",domProps:{innerHTML:t._s(t.message.message)}}):n("div",{staticClass:"content"},[t._v(t._s(t.message.attachments[0].name+"."+t.message.attachments[0].extension))])])]):t._e()}),[],!1,null,null,null);e.default=u.exports},function(t,e,n){"use strict";n.r(e);var r=n(0),o=n.n(r),i=n(2),s=n(4);function a(t,e,n,r,o,i,s){try{var a=t[i](s),c=a.value}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(r,o)}function c(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function s(t){a(i,r,o,s,c,"next",t)}function c(t){a(i,r,o,s,c,"throw",t)}s(void 0)}))}}function u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function l(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var p={name:"ChatFront",data:function(){return{token:null,name:s.b?"John Doe":null,email:s.b?"john@doe.com":null,phone:null,signinErrors:{},signinLoading:!1,signupErrors:{},signupLoading:!1,signupModal:!1}},computed:function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?u(Object(n),!0).forEach((function(e){l(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},Object(i.b)("widget",["widget"])),methods:{checkForSpam:function(){var t=this;return c(o.a.mark((function e(){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!s.b){e.next=2;break}return e.abrupt("return",!1);case 2:return e.next=4,axios.get("/plugin/quickemailverification?email=".concat(t.email));case 4:return n=e.sent,r=n.data,e.abrupt("return","invalid"==r.result);case 7:case"end":return e.stop()}}),e)})))()},onLogin:function(){var t=this;return c(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.signinLoading=!0,t.signinErrors={},e.prev=2,e.next=5,t.$store.dispatch("client/fetch",t.token);case 5:t.$store.state.widget.widget.operation="list",e.next=12;break;case 8:e.prev=8,e.t0=e.catch(2),t.signinErrors={},404==e.t0.response.status&&(t.signinErrors.token="The token field is invalid.");case 12:t.signinLoading=!1;case 13:case"end":return e.stop()}}),e,null,[[2,8]])})))()},onRegister:function(){var t=this;return c(o.a.mark((function e(){var n,r;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.signupLoading=!0,t.signupErrors={},e.prev=2,e.next=5,t.checkForSpam();case 5:if(!e.sent){e.next=10;break}t.signupErrors.email="The email address you provided is considered a spam.",e.next=13;break;case 10:return e.next=12,t.$store.dispatch("client/create",{name:t.name,email:t.email,phone:t.phone});case 12:t.signupModal=!0;case 13:e.next=20;break;case 15:for(r in e.prev=15,e.t0=e.catch(2),t.signupErrors={},n=e.t0.response.data.errors)t.signupErrors[r]=n[r][0];case 20:t.signupLoading=!1;case 21:case"end":return e.stop()}}),e,null,[[2,15]])})))()}},mounted:function(){var t=localStorage.getItem("lcs_token");t&&(this.token=t,this.onLogin())}},f=n(1),d=Object(f.a)(p,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"front"},[n("h1",[t._v("Hi 👋")]),t._v(" "),t._m(0),t._v(" "),n("div",{staticClass:"front-card"},[n("form",{on:{submit:function(e){return e.preventDefault(),t.onLogin.apply(null,arguments)}}},[n("div",{staticClass:"form-group",staticStyle:{position:"relative"}},[t._m(1),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.token,expression:"token"}],staticClass:"form-control",class:{"has-error":"token"in t.signinErrors},staticStyle:{"padding-right":"80px"},attrs:{id:"token",type:"text"},domProps:{value:t.token},on:{input:function(e){e.target.composing||(t.token=e.target.value)}}}),t._v(" "),"token"in t.signinErrors?n("span",{staticClass:"text-xs text-danger"},[t._v(t._s(t.signinErrors.token))]):t._e(),t._v(" "),n("button",{staticClass:"btn btn-secondary",staticStyle:{position:"absolute",right:"5px",top:"28px",padding:"7px 9px"},attrs:{type:"submit",disabled:t.signinLoading}},[t.signinLoading?n("span",[t._v("Loading...")]):n("span",[t._v("Enter")])])])])]),t._v(" "),t._m(2),t._v(" "),n("div",{staticClass:"front-card"},[n("form",{on:{submit:function(e){return e.preventDefault(),t.onRegister.apply(null,arguments)}}},[n("div",{staticClass:"form-group"}),t._v(" "),n("div",{staticClass:"form-group"},[t._m(3),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control",class:{"has-error":"name"in t.signupErrors},attrs:{id:"fname",type:"text"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}}),t._v(" "),"name"in t.signupErrors?n("span",{staticClass:"text-xs text-danger"},[t._v(t._s(t.signupErrors.name))]):t._e()]),t._v(" "),n("div",{staticClass:"form-group"},[t._m(4),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",class:{"has-error":"email"in t.signupErrors},attrs:{id:"email",type:"email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),t._v(" "),"email"in t.signupErrors?n("span",{staticClass:"text-xs text-danger"},[t._v(t._s(t.signupErrors.email))]):t._e()]),t._v(" "),n("div",{staticClass:"form-group"},[n("label",{attrs:{for:"phone"}},[t._v("Phone")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],staticClass:"form-control",attrs:{id:"phone",type:"text"},domProps:{value:t.phone},on:{input:function(e){e.target.composing||(t.phone=e.target.value)}}})]),t._v(" "),n("div",{staticClass:"form-group mb-0"},[n("button",{staticClass:"btn btn-secondary",attrs:{type:"submit",disabled:t.signupLoading}},[t.signupLoading?n("span",[t._v("Loading...")]):n("span",[t._v("Sign Up")])])])])]),t._v(" "),n("modal",{directives:[{name:"show",rawName:"v-show",value:t.signupModal,expression:"signupModal"}],on:{close:function(e){t.signupModal=!1,t.$store.state.widget.widget.operation="list"}}},[n("template",{slot:"body"},[n("InlineSvg",{attrs:{name:"undraw/mail_sent.svg",size:"10rem"}}),t._v(" "),n("div",{staticStyle:{"text-align":"center"}},[n("p",{staticClass:"mb-0"},[t._v("Please check your inbox.")]),t._v(" "),n("p",{staticClass:"my-0"},[t._v("We have sent you your client token.")])])],1)],2),t._v(" "),n("div",{staticClass:"front-powered"},[t._v("Powered by Xerodesk")])],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"mt-10 mb-0",staticStyle:{color:"#fff"}},[this._v("If you are an "),e("span",{staticClass:"font-bold"},[this._v("existing user")]),this._v(", please type your client token down below.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{attrs:{for:"token"}},[this._v("Token "),e("span",{staticClass:"text-danger"},[this._v("*")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"mt-10 mb-0",staticStyle:{color:"#fff"}},[this._v("...or fill up the form if you are a "),e("span",{staticClass:"font-bold"},[this._v("new user")]),this._v(".")])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{attrs:{for:"fname"}},[this._v("Full Name "),e("span",{staticClass:"text-danger"},[this._v("*")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{attrs:{for:"email"}},[this._v("Email "),e("span",{staticClass:"text-danger"},[this._v("*")])])}],!1,null,null,null);e.default=d.exports},function(t,e,n){"use strict";n.r(e);var r=n(0),o=n.n(r),i=n(2);function s(t,e,n,r,o,i,s){try{var a=t[i](s),c=a.value}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(r,o)}function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){u(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function u(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var l={name:"ChatHeader",computed:c(c(c({},Object(i.b)("client",["client"])),Object(i.b)("widget",["agent","widget"])),Object(i.b)("session",["session"])),methods:{backToList:function(){var t,e=this;return(t=o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.$store.commit("session/UPDATE_SESSION",e.session),e.$store.state.session.session={},localStorage.removeItem("lcs_session"),e.widget.operation="list";case 4:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){s(i,r,o,a,c,"next",t)}function c(t){s(i,r,o,a,c,"throw",t)}a(void 0)}))})()},headerSubtitle:function(){var t=new Date,e=new Date("".concat(t.getMonth()+1,"/").concat(t.getDate(),"/").concat(t.getFullYear()," 08:00:00")).getTime(),n=new Date("".concat(t.getMonth()+1,"/").concat(t.getDate(),"/").concat(t.getFullYear()," 17:00:00")).getTime();return t.getTime()>=e&&t.getTime()<=n?"<div class='header-title-online-indicator'></div> Need help? We're online!":"<div class='header-title-offline-indicator'></div> We'll be back tomorrow."}}},p=n(1),f=Object(p.a)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"header"},[n("div",{staticClass:"header-back",on:{click:function(e){return t.backToList()}}},[n("InlineSvg",{attrs:{name:"heroicons/chevron-left.svg",color:"#fff",size:"20px"}})],1),t._v(" "),n("div",{staticClass:"header-meta"},[n("div",{staticClass:"header-logo"},[t.$isEmpty(t.agent)?n("img",{attrs:{src:t.$IMAGE_URL+"/icon.png",alt:"Widget Icon"}}):n("img",{attrs:{src:t.$BASE_URL+"/storage/uploads/users/"+t.agent.id+"/"+t.agent.profile_picture,alt:t.agent.bio.first_name}})]),t._v(" "),n("div",{staticClass:"header-title"},[n("h5",{staticClass:"header-title"},[t._v(t._s(t.widget.ui_header_title))]),t._v(" "),n("small",{staticClass:"header-title-sub",domProps:{innerHTML:t._s(t.headerSubtitle())}})])])])}),[],!1,null,null,null);e.default=f.exports},function(t,e,n){"use strict";n.r(e);var r=n(0),o=n.n(r),i=n(2);function s(t,e,n,r,o,i,s){try{var a=t[i](s),c=a.value}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(r,o)}function a(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function c(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?a(Object(n),!0).forEach((function(e){u(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function u(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var l={name:"ChatWelcome",data:function(){return{statuses:[{id:1,name:"Open"},{id:2,name:"Pending"},{id:3,name:"Resolved"},{id:4,name:"Closed"},{id:5,name:"Waiting for Agent"},{id:6,name:"Waiting for Client"}]}},computed:c(c(c({},Object(i.b)("widget",["widget"])),Object(i.b)("client",["client"])),Object(i.a)("session",["sessions"])),methods:{startSession:function(){this.$store.state.message.messages=[],localStorage.removeItem("lcs_session"),this.widget.operation="create"},setSession:function(t){var e,n=this;return(e=o.a.mark((function e(){var r,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.setItem("lcs_session",t.session),n.$store.state.message.messages=[],e.next=4,axios.put("/plugin/session/".concat(t.session,"/seen"));case 4:r=e.sent,i=r.data,n.$store.state.session.session=i,n.$store.dispatch("message/fetchMessages",i.session),n.$store.commit("message/SET_MESSAGES",i.messages),n.$store.commit("session/UPDATE_SESSION",i),n.widget.operation="show";case 11:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(t){s(i,r,o,a,c,"next",t)}function c(t){s(i,r,o,a,c,"throw",t)}a(void 0)}))})()},logout:function(){localStorage.removeItem("lcs_token"),this.widget.operation="front"}},created:function(){this.$store.dispatch("session/fetch")}},p=n(1),f=Object(p.a)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"welcome"},[n("div",{staticClass:"welcome-banner"},[n("div",{staticClass:"banner-icons"},[n("img",{staticClass:"logo",attrs:{src:t.$IMAGE_URL+"/icon.png",alt:"Widget Icon"}}),t._v(" "),n("button",{staticClass:"lock",on:{click:t.logout}},[n("InlineSvg",{attrs:{name:"heroicons/lock-closed.svg",color:"#fff",size:".75rem"}})],1)]),t._v(" "),t._m(0)]),t._v(" "),n("div",{staticClass:"welcome-create"},[n("p",{staticClass:"mt-0 mb-5"},[t._v("Stuck on something? We're here to help!")]),t._v(" "),n("button",{staticClass:"btn btn-secondary btn-block",attrs:{type:"button"},on:{click:t.startSession}},[t._v("\n      Start a conversation\n    ")])]),t._v(" "),n("div",{staticClass:"welcome-ticket"},[n("p",{staticClass:"history"},[t._v("Your ticket history:")]),t._v(" "),t._l(t.sessions,(function(e){return n("div",{key:e.session,staticClass:"list",on:{click:function(n){return t.setSession(e)}}},[n("div",{staticClass:"list-meta"},[n("p",{staticClass:"title"},[t._v(t._s(e.session))]),t._v(" "),n("p",{staticClass:"date"},[t._v(t._s(t.$dayjs("fromNow",e.created_at)))])]),t._v(" "),n("div",{staticClass:"list-status"},[e.unread_count>0?n("p",{staticClass:"counter"},[t._v(t._s(e.unread_count))]):t._e(),t._v(" "),n("p",{staticClass:"status"},[t._v(t._s(t.statuses.find((function(t){return t.id==e.status})).name))])])])})),t._v(" "),n("p",{directives:[{name:"show",rawName:"v-show",value:t.$isEmpty(t.sessions),expression:"$isEmpty(sessions)"}],staticClass:"no-result"},[t._v("No ticket found.")])],2),t._v(" "),n("div",{staticClass:"welcome-powered"},[t._v("\n    Powered by Xerodesk\n  ")])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"banner-titles"},[e("p",{staticClass:"title"},[this._v("Welcome, we're Xerodesk.")]),this._v(" "),e("p",{staticClass:"sub-title"},[this._v("We connect customers to businesses.")])])}],!1,null,null,null);e.default=f.exports},function(t,e,n){"use strict";n.r(e);var r=n(11),o=n.n(r),i=n(4);o.a.defaults.withCredentials=!0,o.a.defaults.baseURL=i.a+"/api",window.axios=o.a},function(t,e,n){"use strict";n.r(e);n(86);var r=n(0),o=n.n(r),i=n(4);function s(t,e,n,r,o,i,s){try{var a=t[i](s),c=a.value}catch(t){return void n(t)}a.done?e(c):Promise.resolve(c).then(r,o)}Vue.prototype.$BASE_URL=i.a,Vue.prototype.$IMAGE_URL=i.a+"/images",Vue.prototype.$IS_DEVELOPMENT=i.b,Vue.prototype.$isEmpty=n(87),Vue.prototype.$delay=function(){var t,e=(t=o.a.mark((function t(e){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,new Promise((function(t){setTimeout((function(){t()}),e)}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){s(i,r,o,a,c,"next",t)}function c(t){s(i,r,o,a,c,"throw",t)}a(void 0)}))});return function(t){return e.apply(this,arguments)}}(),Vue.prototype.$dayjs=function(t,e,r){var o,i=n(113),s=n(114);return i.extend(s),"format"==t&&(o=i(e).format(r)),"fromNow"==t&&(o=i(e).fromNow()),o}}]);
//# sourceMappingURL=main.js.map